(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(d){if(d.ep)return;d.ep=!0;const h=r(d);fetch(d.href,h)}})();function a0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ic={exports:{}},Ir={};var gm;function Bg(){if(gm)return Ir;gm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var g in d)g!=="key"&&(h[g]=d[g])}else h=d;return d=h.ref,{$$typeof:i,type:l,key:f,ref:d!==void 0?d:null,props:h}}return Ir.Fragment=n,Ir.jsx=r,Ir.jsxs=r,Ir}var bm;function Lg(){return bm||(bm=1,Ic.exports=Bg()),Ic.exports}var c=Lg(),Vc={exports:{}},he={};var vm;function qg(){if(vm)return he;vm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function M(N,q,$){this.props=N,this.context=q,this.refs=U,this.updater=$||j}M.prototype.isReactComponent={},M.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=M.prototype;function D(N,q,$){this.props=N,this.context=q,this.refs=U,this.updater=$||j}var Z=D.prototype=new I;Z.constructor=D,O(Z,M.prototype),Z.isPureReactComponent=!0;var fe=Array.isArray;function J(){}var X={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function Y(N,q,$){var K=$.ref;return{$$typeof:i,type:N,key:q,ref:K!==void 0?K:null,props:$}}function Ce(N,q){return Y(N.type,q,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function xe(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return q[$]})}var qe=/\/+/g;function Ne(N,q){return typeof N=="object"&&N!==null&&N.key!=null?xe(""+N.key):q.toString(36)}function Ge(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(J,J):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function R(N,q,$,K,F){var le=typeof N;(le==="undefined"||le==="boolean")&&(N=null);var ye=!1;if(N===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(N.$$typeof){case i:case n:ye=!0;break;case w:return ye=N._init,R(ye(N._payload),q,$,K,F)}}if(ye)return F=F(N),ye=K===""?"."+Ne(N,0):K,fe(F)?($="",ye!=null&&($=ye.replace(qe,"$&/")+"/"),R(F,q,$,"",function(da){return da})):F!=null&&(P(F)&&(F=Ce(F,$+(F.key==null||N&&N.key===F.key?"":(""+F.key).replace(qe,"$&/")+"/")+ye)),q.push(F)),1;ye=0;var ve=K===""?".":K+":";if(fe(N))for(var Ue=0;Ue<N.length;Ue++)K=N[Ue],le=ve+Ne(K,Ue),ye+=R(K,q,$,le,F);else if(Ue=S(N),typeof Ue=="function")for(N=Ue.call(N),Ue=0;!(K=N.next()).done;)K=K.value,le=ve+Ne(K,Ue++),ye+=R(K,q,$,le,F);else if(le==="object"){if(typeof N.then=="function")return R(Ge(N),q,$,K,F);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ye}function G(N,q,$){if(N==null)return N;var K=[],F=0;return R(N,K,"","",function(le){return q.call($,le,F++)}),K}function ae(N){if(N._status===-1){var q=N._result;q=q(),q.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ge={map:G,forEach:function(N,q,$){G(N,function(){q.apply(this,arguments)},$)},count:function(N){var q=0;return G(N,function(){q++}),q},toArray:function(N){return G(N,function(q){return q})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return he.Activity=v,he.Children=ge,he.Component=M,he.Fragment=r,he.Profiler=d,he.PureComponent=D,he.StrictMode=l,he.Suspense=p,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,he.__COMPILER_RUNTIME={__proto__:null,c:function(N){return X.H.useMemoCache(N)}},he.cache=function(N){return function(){return N.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(N,q,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=O({},N.props),F=N.key;if(q!=null)for(le in q.key!==void 0&&(F=""+q.key),q)!ue.call(q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&q.ref===void 0||(K[le]=q[le]);var le=arguments.length-2;if(le===1)K.children=$;else if(1<le){for(var ye=Array(le),ve=0;ve<le;ve++)ye[ve]=arguments[ve+2];K.children=ye}return Y(N.type,F,K)},he.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},he.createElement=function(N,q,$){var K,F={},le=null;if(q!=null)for(K in q.key!==void 0&&(le=""+q.key),q)ue.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(F[K]=q[K]);var ye=arguments.length-2;if(ye===1)F.children=$;else if(1<ye){for(var ve=Array(ye),Ue=0;Ue<ye;Ue++)ve[Ue]=arguments[Ue+2];F.children=ve}if(N&&N.defaultProps)for(K in ye=N.defaultProps,ye)F[K]===void 0&&(F[K]=ye[K]);return Y(N,le,F)},he.createRef=function(){return{current:null}},he.forwardRef=function(N){return{$$typeof:g,render:N}},he.isValidElement=P,he.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:ae}},he.memo=function(N,q){return{$$typeof:b,type:N,compare:q===void 0?null:q}},he.startTransition=function(N){var q=X.T,$={};X.T=$;try{var K=N(),F=X.S;F!==null&&F($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(J,pe)}catch(le){pe(le)}finally{q!==null&&$.types!==null&&(q.types=$.types),X.T=q}},he.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},he.use=function(N){return X.H.use(N)},he.useActionState=function(N,q,$){return X.H.useActionState(N,q,$)},he.useCallback=function(N,q){return X.H.useCallback(N,q)},he.useContext=function(N){return X.H.useContext(N)},he.useDebugValue=function(){},he.useDeferredValue=function(N,q){return X.H.useDeferredValue(N,q)},he.useEffect=function(N,q){return X.H.useEffect(N,q)},he.useEffectEvent=function(N){return X.H.useEffectEvent(N)},he.useId=function(){return X.H.useId()},he.useImperativeHandle=function(N,q,$){return X.H.useImperativeHandle(N,q,$)},he.useInsertionEffect=function(N,q){return X.H.useInsertionEffect(N,q)},he.useLayoutEffect=function(N,q){return X.H.useLayoutEffect(N,q)},he.useMemo=function(N,q){return X.H.useMemo(N,q)},he.useOptimistic=function(N,q){return X.H.useOptimistic(N,q)},he.useReducer=function(N,q,$){return X.H.useReducer(N,q,$)},he.useRef=function(N){return X.H.useRef(N)},he.useState=function(N){return X.H.useState(N)},he.useSyncExternalStore=function(N,q,$){return X.H.useSyncExternalStore(N,q,$)},he.useTransition=function(){return X.H.useTransition()},he.version="19.2.3",he}var xm;function gu(){return xm||(xm=1,Vc.exports=qg()),Vc.exports}var V=gu();const Q=a0(V);var Gc={exports:{}},Vr={},Yc={exports:{}},Kc={};var ym;function Hg(){return ym||(ym=1,(function(i){function n(R,G){var ae=R.length;R.push(G);e:for(;0<ae;){var pe=ae-1>>>1,ge=R[pe];if(0<d(ge,G))R[pe]=G,R[ae]=ge,ae=pe;else break e}}function r(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var G=R[0],ae=R.pop();if(ae!==G){R[0]=ae;e:for(var pe=0,ge=R.length,N=ge>>>1;pe<N;){var q=2*(pe+1)-1,$=R[q],K=q+1,F=R[K];if(0>d($,ae))K<ge&&0>d(F,$)?(R[pe]=F,R[K]=ae,pe=K):(R[pe]=$,R[q]=ae,pe=q);else if(K<ge&&0>d(F,ae))R[pe]=F,R[K]=ae,pe=K;else break e}}return G}function d(R,G){var ae=R.sortIndex-G.sortIndex;return ae!==0?ae:R.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],b=[],w=1,v=null,y=3,S=!1,j=!1,O=!1,U=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Z(R){for(var G=r(b);G!==null;){if(G.callback===null)l(b);else if(G.startTime<=R)l(b),G.sortIndex=G.expirationTime,n(p,G);else break;G=r(b)}}function fe(R){if(O=!1,Z(R),!j)if(r(p)!==null)j=!0,J||(J=!0,xe());else{var G=r(b);G!==null&&Ge(fe,G.startTime-R)}}var J=!1,X=-1,ue=5,Y=-1;function Ce(){return U?!0:!(i.unstable_now()-Y<ue)}function P(){if(U=!1,J){var R=i.unstable_now();Y=R;var G=!0;try{e:{j=!1,O&&(O=!1,I(X),X=-1),S=!0;var ae=y;try{t:{for(Z(R),v=r(p);v!==null&&!(v.expirationTime>R&&Ce());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,y=v.priorityLevel;var ge=pe(v.expirationTime<=R);if(R=i.unstable_now(),typeof ge=="function"){v.callback=ge,Z(R),G=!0;break t}v===r(p)&&l(p),Z(R)}else l(p);v=r(p)}if(v!==null)G=!0;else{var N=r(b);N!==null&&Ge(fe,N.startTime-R),G=!1}}break e}finally{v=null,y=ae,S=!1}G=void 0}}finally{G?xe():J=!1}}}var xe;if(typeof D=="function")xe=function(){D(P)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Ne=qe.port2;qe.port1.onmessage=P,xe=function(){Ne.postMessage(null)}}else xe=function(){M(P,0)};function Ge(R,G){X=M(function(){R(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(R){R.callback=null},i.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<R?Math.floor(1e3/R):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(R){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var ae=y;y=G;try{return R()}finally{y=ae}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ae=y;y=R;try{return G()}finally{y=ae}},i.unstable_scheduleCallback=function(R,G,ae){var pe=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,R){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ae+ge,R={id:w++,callback:G,priorityLevel:R,startTime:ae,expirationTime:ge,sortIndex:-1},ae>pe?(R.sortIndex=ae,n(b,R),r(p)===null&&R===r(b)&&(O?(I(X),X=-1):O=!0,Ge(fe,ae-pe))):(R.sortIndex=ge,n(p,R),j||S||(j=!0,J||(J=!0,xe()))),R},i.unstable_shouldYield=Ce,i.unstable_wrapCallback=function(R){var G=y;return function(){var ae=y;y=G;try{return R.apply(this,arguments)}finally{y=ae}}}})(Kc)),Kc}var wm;function $g(){return wm||(wm=1,Yc.exports=Hg()),Yc.exports}var Jc={exports:{}},vt={};var _m;function Ig(){if(_m)return vt;_m=1;var i=gu();function n(p){var b="https://react.dev/errors/"+p;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)b+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(p,b,w){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:p,containerInfo:b,implementation:w}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,b){if(p==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,vt.createPortal=function(p,b){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(n(299));return h(p,b,null,w)},vt.flushSync=function(p){var b=f.T,w=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=b,l.p=w,l.d.f()}},vt.preconnect=function(p,b){typeof p=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(p,b))},vt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},vt.preinit=function(p,b){if(typeof p=="string"&&b&&typeof b.as=="string"){var w=b.as,v=g(w,b.crossOrigin),y=typeof b.integrity=="string"?b.integrity:void 0,S=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;w==="style"?l.d.S(p,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:S}):w==="script"&&l.d.X(p,{crossOrigin:v,integrity:y,fetchPriority:S,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},vt.preinitModule=function(p,b){if(typeof p=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var w=g(b.as,b.crossOrigin);l.d.M(p,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(p)},vt.preload=function(p,b){if(typeof p=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var w=b.as,v=g(w,b.crossOrigin);l.d.L(p,w,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},vt.preloadModule=function(p,b){if(typeof p=="string")if(b){var w=g(b.as,b.crossOrigin);l.d.m(p,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(p)},vt.requestFormReset=function(p){l.d.r(p)},vt.unstable_batchedUpdates=function(p,b){return p(b)},vt.useFormState=function(p,b,w){return f.H.useFormState(p,b,w)},vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Sm;function n0(){if(Sm)return Jc.exports;Sm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Jc.exports=Ig(),Jc.exports}var jm;function Vg(){if(jm)return Vr;jm=1;var i=$g(),n=gu(),r=n0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(l(188))}function b(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,x=o.child;x;){if(x===a){m=!0,a=o,s=u;break}if(x===s){m=!0,s=o,a=u;break}x=x.sibling}if(!m){for(x=u.child;x;){if(x===a){m=!0,a=u,s=o;break}if(x===s){m=!0,s=u,a=o;break}x=x.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case M:return"Profiler";case U:return"StrictMode";case fe:return"Suspense";case J:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case D:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var Ge=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},pe=[],ge=-1;function N(e){return{current:e}}function q(e){0>ge||(e.current=pe[ge],pe[ge]=null,ge--)}function $(e,t){ge++,pe[ge]=e.current,e.current=t}var K=N(null),F=N(null),le=N(null),ye=N(null);function ve(e,t){switch($(le,t),$(F,e),$(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qf(t),e=Hf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(K),$(K,e)}function Ue(){q(K),q(F),q(le)}function da(e){e.memoizedState!==null&&$(ye,e);var t=K.current,a=Hf(t,e.type);t!==a&&($(F,e),$(K,a))}function ya(e){F.current===e&&(q(K),q(F)),ye.current===e&&(q(ye),Lr._currentValue=ae)}var ha,ei;function aa(e){if(ha===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||"",ei=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+ei}var Js=!1;function Xn(e,t){if(!e||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(z){var C=z}Reflect.construct(e,[],H)}else{try{H.call()}catch(z){C=z}e.call(H.prototype)}}else{try{throw Error()}catch(z){C=z}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(z){if(z&&C&&typeof z.stack=="string")return[z.stack,C.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],x=u[1];if(m&&x){var _=m.split(`
`),A=x.split(`
`);for(o=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(s===_.length||o===A.length)for(s=_.length-1,o=A.length-1;1<=s&&0<=o&&_[s]!==A[o];)o--;for(;1<=s&&0<=o;s--,o--)if(_[s]!==A[o]){if(s!==1||o!==1)do if(s--,o--,0>o||_[s]!==A[o]){var B=`
`+_[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=o);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?aa(a):""}function xn(e,t){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return e.child!==t&&t!==null?aa("Suspense Fallback"):aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Xn(e.type,!1);case 11:return Xn(e.type.render,!1);case 1:return Xn(e.type,!0);case 31:return aa("Activity");default:return""}}function Xs(e){try{var t="",a=null;do t+=xn(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var zt=Object.prototype.hasOwnProperty,Qs=i.unstable_scheduleCallback,Zs=i.unstable_cancelCallback,yt=i.unstable_shouldYield,Va=i.unstable_requestPaint,wt=i.unstable_now,Al=i.unstable_getCurrentPriorityLevel,yn=i.unstable_ImmediatePriority,ti=i.unstable_UserBlockingPriority,wn=i.unstable_NormalPriority,Ps=i.unstable_LowPriority,wa=i.unstable_IdlePriority,ai=i.log,Ga=i.unstable_setDisableYieldValue,_n=null,_t=null;function na(e){if(typeof ai=="function"&&Ga(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(_n,e)}catch{}}var gt=Math.clz32?Math.clz32:fa,Ol=Math.log,Ws=Math.LN2;function fa(e){return e>>>=0,e===0?32:31-(Ol(e)/Ws|0)|0}var Qn=256,Zn=262144,Sn=4194304;function ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function de(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=ma(s):(m&=x,m!==0?o=ma(m):a||(a=x&~e,a!==0&&(o=ma(a))))):(x=s&~u,x!==0?o=ma(x):m!==0?o=ma(m):a||(a=s&~e,a!==0&&(o=ma(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var e=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),e}function Ya(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ye(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jt(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var B=31-gt(a),H=1<<B;x[B]=0,_[B]=-1;var C=A[B];if(C!==null)for(A[B]=null,B=0;B<C.length;B++){var z=C[B];z!==null&&(z.lane&=-536870913)}a&=~H}s!==0&&jn(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function jn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Nt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-gt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Et(e,t){var a=t&-t;return a=(a&42)!==0?1:Pn(a),(a&(e.suspendedLanes|t))!==0?0:a}function Pn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rl(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:cm(e.type))}function ju(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var Ka=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ka,Tt="__reactProps$"+Ka,Wn="__reactContainer$"+Ka,Cl="__reactEvents$"+Ka,E0="__reactListeners$"+Ka,T0="__reactHandles$"+Ka,Nu="__reactResources$"+Ka,Fs="__reactMarker$"+Ka;function Ul(e){delete e[ot],delete e[Tt],delete e[Cl],delete e[E0],delete e[T0]}function Fn(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Wn]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Jf(e);e!==null;){if(a=e[ot])return a;e=Jf(e)}return t}e=a,a=e.parentNode}return null}function es(e){if(e=e[ot]||e[Wn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function er(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ts(e){var t=e[Nu];return t||(t=e[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Fs]=!0}var Eu=new Set,Tu={};function Nn(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Tu[e]=t,e=0;e<t.length;e++)Eu.add(t[e])}var k0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},Au={};function A0(e){return zt.call(Au,e)?!0:zt.call(ku,e)?!1:k0.test(e)?Au[e]=!0:(ku[e]=!0,!1)}function ni(e,t,a){if(A0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function si(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function _a(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O0(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dl(e){if(!e._valueTracker){var t=Ou(e)?"checked":"value";e._valueTracker=O0(e,t,""+e[t])}}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ou(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var R0=/[\n"\\]/g;function Jt(e){return e.replace(R0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zl(e,t,a,s,o,u,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ml(e,m,Kt(t)):a!=null?Ml(e,m,Kt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Kt(x):e.removeAttribute("name")}function Cu(e,t,a,s,o,u,m,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Dl(e);return}a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Dl(e)}function Ml(e,t,a){t==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ns(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Uu(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function Du(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Ge(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Dl(e)}function ss(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var C0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||C0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Mu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&zu(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&zu(e,u,t[u])}function Bl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return D0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var Ll=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,is=null;function Bu(e){var t=es(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(zl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Tt]||null;if(!o)throw Error(l(90));zl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Ru(s)}break e;case"textarea":Uu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ns(e,!!a.multiple,t,!1)}}}var Hl=!1;function Lu(e,t,a){if(Hl)return e(t,a);Hl=!0;try{var s=e(t);return s}finally{if(Hl=!1,(rs!==null||is!==null)&&(Ji(),rs&&(t=rs,e=is,is=rs=null,Bu(t),e)))for(t=0;t<e.length;t++)Bu(e[t])}}function tr(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Tt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(ja)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){$l=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{$l=!1}var Ja=null,Il=null,li=null;function qu(){if(li)return li;var e,t=Il,a=t.length,s,o="value"in Ja?Ja.value:Ja.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return li=o.slice(e,1<s?1-s:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function Hu(){return!1}function kt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ci:Hu,this.isPropagationStopped=Hu,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=kt(En),nr=v({},En,{view:0,detail:0}),z0=kt(nr),Vl,Gl,sr,di=v({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(Vl=e.screenX-sr.screenX,Gl=e.screenY-sr.screenY):Gl=Vl=0,sr=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),$u=kt(di),M0=v({},di,{dataTransfer:0}),B0=kt(M0),L0=v({},nr,{relatedTarget:0}),Yl=kt(L0),q0=v({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=kt(q0),$0=v({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I0=kt($0),V0=v({},En,{data:0}),Iu=kt(V0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K0[e])?!!t[e]:!1}function Kl(){return J0}var X0=v({},nr,{key:function(e){if(e.key){var t=G0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q0=kt(X0),Z0=v({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=kt(Z0),P0=v({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),W0=kt(P0),F0=v({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=kt(F0),tp=v({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ap=kt(tp),np=v({},En,{newState:0,oldState:0}),sp=kt(np),rp=[9,13,27,32],Jl=ja&&"CompositionEvent"in window,rr=null;ja&&"documentMode"in document&&(rr=document.documentMode);var ip=ja&&"TextEvent"in window&&!rr,Gu=ja&&(!Jl||rr&&8<rr&&11>=rr),Yu=" ",Ku=!1;function Ju(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function lp(e,t){switch(e){case"compositionend":return Xu(t);case"keypress":return t.which!==32?null:(Ku=!0,Yu);case"textInput":return e=t.data,e===Yu&&Ku?null:e;default:return null}}function op(e,t){if(ls)return e==="compositionend"||!Jl&&Ju(e,t)?(e=qu(),li=Il=Ja=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gu&&t.locale!=="ko"?null:t.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cp[e.type]:t==="textarea"}function Zu(e,t,a,s){rs?is?is.push(s):is=[s]:rs=s,t=el(t,"onChange"),0<t.length&&(a=new ui("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ir=null,lr=null;function up(e){Uf(e,0)}function hi(e){var t=er(e);if(Ru(t))return e}function Pu(e,t){if(e==="change")return t}var Wu=!1;if(ja){var Xl;if(ja){var Ql="oninput"in document;if(!Ql){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),Ql=typeof Fu.oninput=="function"}Xl=Ql}else Xl=!1;Wu=Xl&&(!document.documentMode||9<document.documentMode)}function ed(){ir&&(ir.detachEvent("onpropertychange",td),lr=ir=null)}function td(e){if(e.propertyName==="value"&&hi(lr)){var t=[];Zu(t,lr,e,ql(e)),Lu(up,t)}}function dp(e,t,a){e==="focusin"?(ed(),ir=t,lr=a,ir.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(lr)}function fp(e,t){if(e==="click")return hi(t)}function mp(e,t){if(e==="input"||e==="change")return hi(t)}function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:pp;function or(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!zt.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var a=ad(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ad(a)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ri(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ri(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gp=ja&&"documentMode"in document&&11>=document.documentMode,os=null,Pl=null,cr=null,Wl=!1;function id(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wl||os==null||os!==ri(s)||(s=os,"selectionStart"in s&&Zl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cr&&or(cr,s)||(cr=s,s=el(Pl,"onSelect"),0<s.length&&(t=new ui("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=os)))}function Tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cs={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},Fl={},ld={};ja&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function kn(e){if(Fl[e])return Fl[e];if(!cs[e])return e;var t=cs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ld)return Fl[e]=t[a];return e}var od=kn("animationend"),cd=kn("animationiteration"),ud=kn("animationstart"),bp=kn("transitionrun"),vp=kn("transitionstart"),xp=kn("transitioncancel"),dd=kn("transitionend"),hd=new Map,eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eo.push("scrollEnd");function ra(e,t){hd.set(e,t),Nn(t,[e])}var fi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],us=0,to=0;function mi(){for(var e=us,t=to=us=0;t<e;){var a=Xt[t];Xt[t++]=null;var s=Xt[t];Xt[t++]=null;var o=Xt[t];Xt[t++]=null;var u=Xt[t];if(Xt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&fd(a,o,u)}}function pi(e,t,a,s){Xt[us++]=e,Xt[us++]=t,Xt[us++]=a,Xt[us++]=s,to|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ao(e,t,a,s){return pi(e,t,a,s),gi(e)}function An(e,t){return pi(e,null,null,t),gi(e)}function fd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-gt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function gi(e){if(50<Rr)throw Rr=0,hc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ds={};function yp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,a,s){return new yp(e,t,a,s)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var a=e.alternate;return a===null?(a=Bt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function md(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")no(e)&&(m=1);else if(typeof e=="string")m=Ng(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Bt(31,a,t,o),e.elementType=Y,e.lanes=u,e;case O:return On(a.children,o,u,t);case U:m=8,o|=24;break;case M:return e=Bt(12,a,t,o|2),e.elementType=M,e.lanes=u,e;case fe:return e=Bt(13,a,t,o),e.elementType=fe,e.lanes=u,e;case J:return e=Bt(19,a,t,o),e.elementType=J,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:m=10;break e;case I:m=9;break e;case Z:m=11;break e;case X:m=14;break e;case ue:m=16,s=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Bt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function On(e,t,a,s){return e=Bt(7,e,s,t),e.lanes=a,e}function so(e,t,a){return e=Bt(6,e,null,t),e.lanes=a,e}function pd(e){var t=Bt(18,null,null,0);return t.stateNode=e,t}function ro(e,t,a){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gd=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var a=gd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Xs(t)},gd.set(e,t),t)}return{value:e,source:t,stack:Xs(t)}}var hs=[],fs=0,vi=null,ur=0,Zt=[],Pt=0,Xa=null,pa=1,ga="";function Ea(e,t){hs[fs++]=ur,hs[fs++]=vi,vi=e,ur=t}function bd(e,t,a){Zt[Pt++]=pa,Zt[Pt++]=ga,Zt[Pt++]=Xa,Xa=e;var s=pa;e=ga;var o=32-gt(s)-1;s&=~(1<<o),a+=1;var u=32-gt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,pa=1<<32-gt(t)+o|a<<o|s,ga=u+e}else pa=1<<u|a<<o|s,ga=e}function io(e){e.return!==null&&(Ea(e,1),bd(e,1,0))}function lo(e){for(;e===vi;)vi=hs[--fs],hs[fs]=null,ur=hs[--fs],hs[fs]=null;for(;e===Xa;)Xa=Zt[--Pt],Zt[Pt]=null,ga=Zt[--Pt],Zt[Pt]=null,pa=Zt[--Pt],Zt[Pt]=null}function vd(e,t){Zt[Pt++]=pa,Zt[Pt++]=ga,Zt[Pt++]=Xa,pa=t.id,ga=t.overflow,Xa=e}var ct=null,He=null,Ee=!1,Qa=null,Wt=!1,oo=Error(l(519));function Za(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dr(Qt(t,e)),oo}function xd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ot]=e,t[Tt]=s,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<Ur.length;a++)_e(Ur[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Cu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Du(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Bf(t.textContent,a)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||Za(e,!0)}function yd(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ct=ct.return}}function ms(e){if(e!==ct)return!1;if(!Ee)return yd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tc(e.type,e.memoizedProps)),a=!a),a&&He&&Za(e),yd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Kf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Kf(e)}else t===27?(t=He,dn(e.type)?(e=Cc,Cc=null,He=e):He=t):He=ct?ea(e.stateNode.nextSibling):null;return!0}function Rn(){He=ct=null,Ee=!1}function co(){var e=Qa;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Qa=null),e}function dr(e){Qa===null?Qa=[e]:Qa.push(e)}var uo=N(null),Cn=null,Ta=null;function Pa(e,t,a){$(uo,t._currentValue),t._currentValue=a}function ka(e){e._currentValue=uo.current,q(uo)}function ho(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function fo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var _=0;_<t.length;_++)if(x.context===t[_]){u.lanes|=a,x=u.alternate,x!==null&&(x.lanes|=a),ho(u.return,a,e),s||(m=null);break e}u=x.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),ho(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function ps(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var x=o.type;Mt(o.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(o===ye.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Lr):e=[Lr])}o=o.return}e!==null&&fo(t,e,a,s),t.flags|=262144}function xi(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Un(e){Cn=e,Ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return wd(Cn,e)}function yi(e,t){return Cn===null&&Un(e),wd(e,t)}function wd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ta===null){if(e===null)throw Error(l(308));Ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ta=Ta.next=t;return a}var wp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},_p=i.unstable_scheduleCallback,Sp=i.unstable_NormalPriority,We={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mo(){return{controller:new wp,data:new Map,refCount:0}}function hr(e){e.refCount--,e.refCount===0&&_p(Sp,function(){e.controller.abort()})}var fr=null,po=0,gs=0,bs=null;function jp(e,t){if(fr===null){var a=fr=[];po=0,gs=vc(),bs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return po++,t.then(_d,_d),t}function _d(){if(--po===0&&fr!==null){bs!==null&&(bs.status="fulfilled");var e=fr;fr=null,gs=0,bs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Np(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Sd=R.S;R.S=function(e,t){lf=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&jp(e,t),Sd!==null&&Sd(e,t)};var Dn=N(null);function go(){var e=Dn.current;return e!==null?e:Be.pooledCache}function wi(e,t){t===null?$(Dn,Dn.current):$(Dn,t.pool)}function jd(){var e=go();return e===null?null:{parent:We._currentValue,pool:e}}var vs=Error(l(460)),bo=Error(l(474)),_i=Error(l(542)),Si={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Sa,Sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw Mn=t,vs}}function zn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mn=a,vs):a}}var Mn=null;function Td(){if(Mn===null)throw Error(l(459));var e=Mn;return Mn=null,e}function kd(e){if(e===vs||e===_i)throw Error(l(483))}var xs=null,mr=0;function ji(e){var t=mr;return mr+=1,xs===null&&(xs=[]),Ed(xs,e,t)}function pr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ni(e,t){throw t.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ad(e){function t(T,E){if(e){var k=T.deletions;k===null?(T.deletions=[E],T.flags|=16):k.push(E)}}function a(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function s(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=Na(T,E),T.index=0,T.sibling=null,T}function u(T,E,k){return T.index=k,e?(k=T.alternate,k!==null?(k=k.index,k<E?(T.flags|=67108866,E):k):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function x(T,E,k,L){return E===null||E.tag!==6?(E=so(k,T.mode,L),E.return=T,E):(E=o(E,k),E.return=T,E)}function _(T,E,k,L){var se=k.type;return se===O?B(T,E,k.props.children,L,k.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&zn(se)===E.type)?(E=o(E,k.props),pr(E,k),E.return=T,E):(E=bi(k.type,k.key,k.props,null,T.mode,L),pr(E,k),E.return=T,E)}function A(T,E,k,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=ro(k,T.mode,L),E.return=T,E):(E=o(E,k.children||[]),E.return=T,E)}function B(T,E,k,L,se){return E===null||E.tag!==7?(E=On(k,T.mode,L,se),E.return=T,E):(E=o(E,k),E.return=T,E)}function H(T,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=so(""+E,T.mode,k),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return k=bi(E.type,E.key,E.props,null,T.mode,k),pr(k,E),k.return=T,k;case j:return E=ro(E,T.mode,k),E.return=T,E;case ue:return E=zn(E),H(T,E,k)}if(Ge(E)||xe(E))return E=On(E,T.mode,k,null),E.return=T,E;if(typeof E.then=="function")return H(T,ji(E),k);if(E.$$typeof===D)return H(T,yi(T,E),k);Ni(T,E)}return null}function C(T,E,k,L){var se=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return se!==null?null:x(T,E,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===se?_(T,E,k,L):null;case j:return k.key===se?A(T,E,k,L):null;case ue:return k=zn(k),C(T,E,k,L)}if(Ge(k)||xe(k))return se!==null?null:B(T,E,k,L,null);if(typeof k.then=="function")return C(T,E,ji(k),L);if(k.$$typeof===D)return C(T,E,yi(T,k),L);Ni(T,k)}return null}function z(T,E,k,L,se){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(k)||null,x(E,T,""+L,se);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return T=T.get(L.key===null?k:L.key)||null,_(E,T,L,se);case j:return T=T.get(L.key===null?k:L.key)||null,A(E,T,L,se);case ue:return L=zn(L),z(T,E,k,L,se)}if(Ge(L)||xe(L))return T=T.get(k)||null,B(E,T,L,se,null);if(typeof L.then=="function")return z(T,E,k,ji(L),se);if(L.$$typeof===D)return z(T,E,k,yi(E,L),se);Ni(E,L)}return null}function ee(T,E,k,L){for(var se=null,Te=null,te=E,be=E=0,je=null;te!==null&&be<k.length;be++){te.index>be?(je=te,te=null):je=te.sibling;var ke=C(T,te,k[be],L);if(ke===null){te===null&&(te=je);break}e&&te&&ke.alternate===null&&t(T,te),E=u(ke,E,be),Te===null?se=ke:Te.sibling=ke,Te=ke,te=je}if(be===k.length)return a(T,te),Ee&&Ea(T,be),se;if(te===null){for(;be<k.length;be++)te=H(T,k[be],L),te!==null&&(E=u(te,E,be),Te===null?se=te:Te.sibling=te,Te=te);return Ee&&Ea(T,be),se}for(te=s(te);be<k.length;be++)je=z(te,T,be,k[be],L),je!==null&&(e&&je.alternate!==null&&te.delete(je.key===null?be:je.key),E=u(je,E,be),Te===null?se=je:Te.sibling=je,Te=je);return e&&te.forEach(function(gn){return t(T,gn)}),Ee&&Ea(T,be),se}function ie(T,E,k,L){if(k==null)throw Error(l(151));for(var se=null,Te=null,te=E,be=E=0,je=null,ke=k.next();te!==null&&!ke.done;be++,ke=k.next()){te.index>be?(je=te,te=null):je=te.sibling;var gn=C(T,te,ke.value,L);if(gn===null){te===null&&(te=je);break}e&&te&&gn.alternate===null&&t(T,te),E=u(gn,E,be),Te===null?se=gn:Te.sibling=gn,Te=gn,te=je}if(ke.done)return a(T,te),Ee&&Ea(T,be),se;if(te===null){for(;!ke.done;be++,ke=k.next())ke=H(T,ke.value,L),ke!==null&&(E=u(ke,E,be),Te===null?se=ke:Te.sibling=ke,Te=ke);return Ee&&Ea(T,be),se}for(te=s(te);!ke.done;be++,ke=k.next())ke=z(te,T,be,ke.value,L),ke!==null&&(e&&ke.alternate!==null&&te.delete(ke.key===null?be:ke.key),E=u(ke,E,be),Te===null?se=ke:Te.sibling=ke,Te=ke);return e&&te.forEach(function(Mg){return t(T,Mg)}),Ee&&Ea(T,be),se}function Me(T,E,k,L){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var se=k.key;E!==null;){if(E.key===se){if(se=k.type,se===O){if(E.tag===7){a(T,E.sibling),L=o(E,k.props.children),L.return=T,T=L;break e}}else if(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&zn(se)===E.type){a(T,E.sibling),L=o(E,k.props),pr(L,k),L.return=T,T=L;break e}a(T,E);break}else t(T,E);E=E.sibling}k.type===O?(L=On(k.props.children,T.mode,L,k.key),L.return=T,T=L):(L=bi(k.type,k.key,k.props,null,T.mode,L),pr(L,k),L.return=T,T=L)}return m(T);case j:e:{for(se=k.key;E!==null;){if(E.key===se)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){a(T,E.sibling),L=o(E,k.children||[]),L.return=T,T=L;break e}else{a(T,E);break}else t(T,E);E=E.sibling}L=ro(k,T.mode,L),L.return=T,T=L}return m(T);case ue:return k=zn(k),Me(T,E,k,L)}if(Ge(k))return ee(T,E,k,L);if(xe(k)){if(se=xe(k),typeof se!="function")throw Error(l(150));return k=se.call(k),ie(T,E,k,L)}if(typeof k.then=="function")return Me(T,E,ji(k),L);if(k.$$typeof===D)return Me(T,E,yi(T,k),L);Ni(T,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,E!==null&&E.tag===6?(a(T,E.sibling),L=o(E,k),L.return=T,T=L):(a(T,E),L=so(k,T.mode,L),L.return=T,T=L),m(T)):a(T,E)}return function(T,E,k,L){try{mr=0;var se=Me(T,E,k,L);return xs=null,se}catch(te){if(te===vs||te===_i)throw te;var Te=Bt(29,te,null,T.mode);return Te.lanes=L,Te.return=T,Te}}}var Bn=Ad(!0),Od=Ad(!1),Wa=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function en(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=gi(e),fd(e,null,a),t}return pi(e,s,t,a),gi(e)}function gr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Nt(e,a)}}function yo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var wo=!1;function br(){if(wo){var e=bs;if(e!==null)throw e}}function vr(e,t,a,s){wo=!1;var o=e.updateQueue;Wa=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var _=x,A=_.next;_.next=null,m===null?u=A:m.next=A,m=_;var B=e.alternate;B!==null&&(B=B.updateQueue,x=B.lastBaseUpdate,x!==m&&(x===null?B.firstBaseUpdate=A:x.next=A,B.lastBaseUpdate=_))}if(u!==null){var H=o.baseState;m=0,B=A=_=null,x=u;do{var C=x.lane&-536870913,z=C!==x.lane;if(z?(Se&C)===C:(s&C)===C){C!==0&&C===gs&&(wo=!0),B!==null&&(B=B.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,ie=x;C=t;var Me=a;switch(ie.tag){case 1:if(ee=ie.payload,typeof ee=="function"){H=ee.call(Me,H,C);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ie.payload,C=typeof ee=="function"?ee.call(Me,H,C):ee,C==null)break e;H=v({},H,C);break e;case 2:Wa=!0}}C=x.callback,C!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[C]:z.push(C))}else z={lane:C,tag:x.tag,payload:x.payload,callback:x.callback,next:null},B===null?(A=B=z,_=H):B=B.next=z,m|=C;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;z=x,x=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);B===null&&(_=H),o.baseState=_,o.firstBaseUpdate=A,o.lastBaseUpdate=B,u===null&&(o.shared.lanes=0),rn|=m,e.lanes=m,e.memoizedState=H}}function Rd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Cd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rd(a[e],t)}var ys=N(null),Ei=N(0);function Ud(e,t){e=Ba,$(Ei,e),$(ys,t),Ba=e|t.baseLanes}function _o(){$(Ei,Ba),$(ys,ys.current)}function So(){Ba=Ei.current,q(ys),q(Ei)}var Lt=N(null),Ft=null;function tn(e){var t=e.alternate;$(Ze,Ze.current&1),$(Lt,e),Ft===null&&(t===null||ys.current!==null||t.memoizedState!==null)&&(Ft=e)}function jo(e){$(Ze,Ze.current),$(Lt,e),Ft===null&&(Ft=e)}function Dd(e){e.tag===22?($(Ze,Ze.current),$(Lt,e),Ft===null&&(Ft=e)):an()}function an(){$(Ze,Ze.current),$(Lt,Lt.current)}function qt(e){q(Lt),Ft===e&&(Ft=null),q(Ze)}var Ze=N(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Oc(a)||Rc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=0,me=null,De=null,Fe=null,ki=!1,ws=!1,Ln=!1,Ai=0,xr=0,_s=null,Ep=0;function Je(){throw Error(l(321))}function No(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function Eo(e,t,a,s,o,u){return Aa=u,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?bh:$o,Ln=!1,u=a(s,o),Ln=!1,ws&&(u=Md(t,a,s,o)),zd(e),u}function zd(e){R.H=_r;var t=De!==null&&De.next!==null;if(Aa=0,Fe=De=me=null,ki=!1,xr=0,_s=null,t)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&xi(e)&&(et=!0))}function Md(e,t,a,s){me=e;var o=0;do{if(ws&&(_s=null),xr=0,ws=!1,25<=o)throw Error(l(301));if(o+=1,Fe=De=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=vh,u=t(a,s)}while(ws);return u}function Tp(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?yr(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(me.flags|=1024),t}function To(){var e=Ai!==0;return Ai=0,e}function ko(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ao(e){if(ki){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ki=!1}Aa=0,Fe=De=me=null,ws=!1,xr=Ai=0,_s=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?me.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(De===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?me.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?me.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Oi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(e){var t=xr;return xr+=1,_s===null&&(_s=[]),e=Ed(_s,e,t),t=me,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?bh:$o),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yr(e);if(e.$$typeof===D)return ut(e)}throw Error(l(438,String(e)))}function Oo(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Oi(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Ce;return t.index++,a}function Oa(e,t){return typeof t=="function"?t(e):t}function Ci(e){var t=Pe();return Ro(t,De,e)}function Ro(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=m=null,_=null,A=t,B=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(Se&H)===H:(Aa&H)===H){var C=A.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===gs&&(B=!0);else if((Aa&C)===C){A=A.next,C===gs&&(B=!0);continue}else H={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(x=_=H,m=u):_=_.next=H,me.lanes|=C,rn|=C;H=A.action,Ln&&a(u,H),u=A.hasEagerState?A.eagerState:a(u,H)}else C={lane:H,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(x=_=C,m=u):_=_.next=C,me.lanes|=H,rn|=H;A=A.next}while(A!==null&&A!==t);if(_===null?m=u:_.next=x,!Mt(u,e.memoizedState)&&(et=!0,B&&(a=bs,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=_,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Co(e){var t=Pe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Mt(u,t.memoizedState)||(et=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function Bd(e,t,a){var s=me,o=Pe(),u=Ee;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Mt((De||o).memoizedState,a);if(m&&(o.memoizedState=a,et=!0),o=o.queue,zo(Hd.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,Ss(9,{destroy:void 0},qd.bind(null,s,o,a,t),null),Be===null)throw Error(l(349));u||(Aa&127)!==0||Ld(s,t,a)}return a}function Ld(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=Oi(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function qd(e,t,a,s){t.value=a,t.getSnapshot=s,$d(t)&&Id(e)}function Hd(e,t,a){return a(function(){$d(t)&&Id(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function Id(e){var t=An(e,2);t!==null&&Ut(t,e,2)}function Uo(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),Ln){na(!0);try{a()}finally{na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t}function Vd(e,t,a,s){return e.baseState=a,Ro(e,De,typeof s=="function"?s:Oa)}function kp(e,t,a,s,o){if(zi(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};R.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,Gd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Gd(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=R.T,m={};R.T=m;try{var x=a(o,s),_=R.S;_!==null&&_(m,x),Yd(e,t,x)}catch(A){Do(e,t,A)}finally{u!==null&&m.types!==null&&(u.types=m.types),R.T=u}}else try{u=a(o,s),Yd(e,t,u)}catch(A){Do(e,t,A)}}function Yd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Kd(e,t,s)},function(s){return Do(e,t,s)}):Kd(e,t,a)}function Kd(e,t,a){t.status="fulfilled",t.value=a,Jd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gd(e,a)))}function Do(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Jd(t),t=t.next;while(t!==s)}e.action=null}function Jd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xd(e,t){return t}function Qd(e,t){if(Ee){var a=Be.formState;if(a!==null){e:{var s=me;if(Ee){if(He){t:{for(var o=He,u=Wt;o.nodeType!==8;){if(!u){o=null;break t}if(o=ea(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){He=ea(o.nextSibling),s=o.data==="F!";break e}}Za(s)}s=!1}s&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},a.queue=s,a=mh.bind(null,me,s),s.dispatch=a,s=Uo(!1),u=Ho.bind(null,me,!1,s.queue),s=St(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=kp.bind(null,me,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Zd(e){var t=Pe();return Pd(t,De,e)}function Pd(e,t,a){if(t=Ro(e,t,Xd)[0],e=Ci(Oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=yr(t)}catch(m){throw m===vs?_i:m}else s=t;t=Pe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Ss(9,{destroy:void 0},Ap.bind(null,o,a),null)),[s,u,e]}function Ap(e,t){e.action=t}function Wd(e){var t=Pe(),a=De;if(a!==null)return Pd(t,a,e);Pe(),t=t.memoizedState,a=Pe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ss(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=Oi(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Fd(){return Pe().memoizedState}function Ui(e,t,a,s){var o=St();me.flags|=e,o.memoizedState=Ss(1|t,{destroy:void 0},a,s===void 0?null:s)}function Di(e,t,a,s){var o=Pe();s=s===void 0?null:s;var u=o.memoizedState.inst;De!==null&&s!==null&&No(s,De.memoizedState.deps)?o.memoizedState=Ss(t,u,a,s):(me.flags|=e,o.memoizedState=Ss(1|t,u,a,s))}function eh(e,t){Ui(8390656,8,e,t)}function zo(e,t){Di(2048,8,e,t)}function Op(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Oi(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function th(e){var t=Pe().memoizedState;return Op({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function ah(e,t){return Di(4,2,e,t)}function nh(e,t){return Di(4,4,e,t)}function sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,a){a=a!=null?a.concat([e]):null,Di(4,4,sh.bind(null,t,e),a)}function Mo(){}function ih(e,t){var a=Pe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&No(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function lh(e,t){var a=Pe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&No(t,s[1]))return s[0];if(s=e(),Ln){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[s,t],s}function Bo(e,t,a){return a===void 0||(Aa&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=cf(),me.lanes|=e,rn|=e,a)}function oh(e,t,a,s){return Mt(a,t)?a:ys.current!==null?(e=Bo(e,a,s),Mt(e,t)||(et=!0),e):(Aa&42)===0||(Aa&1073741824)!==0&&(Se&261930)===0?(et=!0,e.memoizedState=a):(e=cf(),me.lanes|=e,rn|=e,t)}function ch(e,t,a,s,o){var u=G.p;G.p=u!==0&&8>u?u:8;var m=R.T,x={};R.T=x,Ho(e,!1,t,a);try{var _=o(),A=R.S;if(A!==null&&A(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=Np(_,s);wr(e,t,B,It(e))}else wr(e,t,s,It(e))}catch(H){wr(e,t,{then:function(){},status:"rejected",reason:H},It())}finally{G.p=u,m!==null&&x.types!==null&&(m.types=x.types),R.T=m}}function Rp(){}function Lo(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=uh(e).queue;ch(e,o,t,ae,a===null?Rp:function(){return dh(e),a(s)})}function uh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dh(e){var t=uh(e);t.next===null&&(t=e.alternate.memoizedState),wr(e,t.next.queue,{},It())}function qo(){return ut(Lr)}function hh(){return Pe().memoizedState}function fh(){return Pe().memoizedState}function Cp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=It();e=Fa(a);var s=en(t,e,a);s!==null&&(Ut(s,t,a),gr(s,t,a)),t={cache:mo()},e.payload=t;return}t=t.return}}function Up(e,t,a){var s=It();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e)?ph(t,a):(a=ao(e,t,a,s),a!==null&&(Ut(a,e,s),gh(a,t,s)))}function mh(e,t,a){var s=It();wr(e,t,a,s)}function wr(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))ph(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,x=u(m,a);if(o.hasEagerState=!0,o.eagerState=x,Mt(x,m))return pi(e,t,o,0),Be===null&&mi(),!1}catch{}if(a=ao(e,t,o,s),a!==null)return Ut(a,e,s),gh(a,t,s),!0}return!1}function Ho(e,t,a,s){if(s={lane:2,revertLane:vc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e)){if(t)throw Error(l(479))}else t=ao(e,a,s,2),t!==null&&Ut(t,e,2)}function zi(e){var t=e.alternate;return e===me||t!==null&&t===me}function ph(e,t){ws=ki=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function gh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Nt(e,a)}}var _r={readContext:ut,use:Ri,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};_r.useEffectEvent=Je;var bh={readContext:ut,use:Ri,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:eh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ui(4194308,4,sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){Ui(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var s=e();if(Ln){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=St();if(a!==void 0){var o=a(t);if(Ln){na(!0);try{a(t)}finally{na(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Up.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,a=mh.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mo,useDeferredValue:function(e,t){var a=St();return Bo(a,e,t)},useTransition:function(){var e=Uo(!1);return e=ch.bind(null,me,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,o=St();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(Se&127)!==0||Ld(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,eh(Hd.bind(null,s,u,e),[e]),s.flags|=2048,Ss(9,{destroy:void 0},qd.bind(null,s,u,a,t),null),a},useId:function(){var e=St(),t=Be.identifierPrefix;if(Ee){var a=ga,s=pa;a=(s&~(1<<32-gt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ai++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ep++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qo,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ho.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Oo,useCacheRefresh:function(){return St().memoizedState=Cp.bind(null,me)},useEffectEvent:function(e){var t=St(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},$o={readContext:ut,use:Ri,useCallback:ih,useContext:ut,useEffect:zo,useImperativeHandle:rh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:lh,useReducer:Ci,useRef:Fd,useState:function(){return Ci(Oa)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=Pe();return oh(a,De.memoizedState,e,t)},useTransition:function(){var e=Ci(Oa)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Bd,useId:hh,useHostTransitionStatus:qo,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,t){var a=Pe();return Vd(a,De,e,t)},useMemoCache:Oo,useCacheRefresh:fh};$o.useEffectEvent=th;var vh={readContext:ut,use:Ri,useCallback:ih,useContext:ut,useEffect:zo,useImperativeHandle:rh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:lh,useReducer:Co,useRef:Fd,useState:function(){return Co(Oa)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=Pe();return De===null?Bo(a,e,t):oh(a,De.memoizedState,e,t)},useTransition:function(){var e=Co(Oa)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Bd,useId:hh,useHostTransitionStatus:qo,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var a=Pe();return De!==null?Vd(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:fh};vh.useEffectEvent=th;function Io(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=It(),o=Fa(s);o.payload=t,a!=null&&(o.callback=a),t=en(e,o,s),t!==null&&(Ut(t,e,s),gr(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=It(),o=Fa(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=en(e,o,s),t!==null&&(Ut(t,e,s),gr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=It(),s=Fa(a);s.tag=2,t!=null&&(s.callback=t),t=en(e,s,a),t!==null&&(Ut(t,e,a),gr(t,e,a))}};function xh(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!or(a,s)||!or(o,u):!0}function yh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function qn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function wh(e){fi(e)}function _h(e){console.error(e)}function Sh(e){fi(e)}function Mi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function jh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Go(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Mi(e,t)},a}function Nh(e){return e=Fa(e),e.tag=3,e}function Eh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){jh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){jh(t,a,s),typeof o!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Dp(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ps(t,a,o,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?Xi():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Si?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),pc(e,s,o)),!1;case 22:return a.flags|=65536,s===Si?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),pc(e,s,o)),!1}throw Error(l(435,a.tag))}return pc(e,s,o),Xi(),!1}if(Ee)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==oo&&(e=Error(l(422),{cause:s}),dr(Qt(e,a)))):(s!==oo&&(t=Error(l(423),{cause:s}),dr(Qt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Qt(s,a),o=Go(e.stateNode,s,o),yo(e,o),Xe!==4&&(Xe=2)),!1;var u=Error(l(520),{cause:s});if(u=Qt(u,a),Or===null?Or=[u]:Or.push(u),Xe!==4&&(Xe=2),t===null)return!0;s=Qt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Go(a.stateNode,s,e),yo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ln===null||!ln.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Nh(o),Eh(o,e,a,s),yo(a,o),!1}a=a.return}while(a!==null);return!1}var Yo=Error(l(461)),et=!1;function dt(e,t,a,s){t.child=e===null?Od(t,null,a,s):Bn(t,e.child,a,s)}function Th(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var x in s)x!=="ref"&&(m[x]=s[x])}else m=s;return Un(t),s=Eo(e,t,a,m,u,o),x=To(),e!==null&&!et?(ko(e,t,o),Ra(e,t,o)):(Ee&&x&&io(t),t.flags|=1,dt(e,t,s,o),t.child)}function kh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!no(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Ah(e,t,u,s,o)):(e=bi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Fo(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:or,a(m,s)&&e.ref===t.ref)return Ra(e,t,o)}return t.flags|=1,e=Na(u,s),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(or(u,s)&&e.ref===t.ref)if(et=!1,t.pendingProps=s=u,Fo(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Ra(e,t,o)}return Ko(e,t,a,s,o)}function Oh(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Rh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wi(t,u!==null?u.cachePool:null),u!==null?Ud(t,u):_o(),Dd(t);else return s=t.lanes=536870912,Rh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(wi(t,u.cachePool),Ud(t,u),an(),t.memoizedState=null):(e!==null&&wi(t,null),_o(),an());return dt(e,t,o,a),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rh(e,t,a,s,o){var u=go();return u=u===null?null:{parent:We._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&wi(t,null),_o(),Dd(t),e!==null&&ps(e,t,s,!0),t.childLanes=o,null}function Bi(e,t){return t=qi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ch(e,t,a){return Bn(t,e.child,null,a),e=Bi(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function zp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=Bi(t,s),t.lanes=536870912,Sr(null,e);if(jo(t),(e=He)?(e=Yf(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,ct=t,He=null)):e=null,e===null)throw Za(t);return t.lanes=536870912,null}return Bi(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(jo(t),o)if(t.flags&256)t.flags&=-257,t=Ch(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(et||ps(e,t,a,!1),o=(a&e.childLanes)!==0,et||o){if(s=Be,s!==null&&(m=Et(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,An(e,m),Ut(s,e,m),Yo;Xi(),t=Ch(e,t,a)}else e=u.treeContext,He=ea(m.nextSibling),ct=t,Ee=!0,Qa=null,Wt=!1,e!==null&&vd(t,e),t=Bi(t,s),t.flags|=4096;return t}return e=Na(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Li(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ko(e,t,a,s,o){return Un(t),a=Eo(e,t,a,s,void 0,o),s=To(),e!==null&&!et?(ko(e,t,o),Ra(e,t,o)):(Ee&&s&&io(t),t.flags|=1,dt(e,t,a,o),t.child)}function Uh(e,t,a,s,o,u){return Un(t),t.updateQueue=null,a=Md(t,s,a,o),zd(e),s=To(),e!==null&&!et?(ko(e,t,u),Ra(e,t,u)):(Ee&&s&&io(t),t.flags|=1,dt(e,t,a,u),t.child)}function Dh(e,t,a,s,o){if(Un(t),t.stateNode===null){var u=ds,m=a.contextType;typeof m=="object"&&m!==null&&(u=ut(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},vo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?ut(m):ds,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Io(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Vo.enqueueReplaceState(u,u.state,null),vr(t,s,u,o),br(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,_=qn(a,x);u.props=_;var A=u.context,B=a.contextType;m=ds,typeof B=="object"&&B!==null&&(m=ut(B));var H=a.getDerivedStateFromProps;B=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,B||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||A!==m)&&yh(t,u,s,m),Wa=!1;var C=t.memoizedState;u.state=C,vr(t,s,u,o),br(),A=t.memoizedState,x||C!==A||Wa?(typeof H=="function"&&(Io(t,a,H,s),A=t.memoizedState),(_=Wa||xh(t,a,_,s,C,A,m))?(B||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=m,s=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,xo(e,t),m=t.memoizedProps,B=qn(a,m),u.props=B,H=t.pendingProps,C=u.context,A=a.contextType,_=ds,typeof A=="object"&&A!==null&&(_=ut(A)),x=a.getDerivedStateFromProps,(A=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==H||C!==_)&&yh(t,u,s,_),Wa=!1,C=t.memoizedState,u.state=C,vr(t,s,u,o),br();var z=t.memoizedState;m!==H||C!==z||Wa||e!==null&&e.dependencies!==null&&xi(e.dependencies)?(typeof x=="function"&&(Io(t,a,x,s),z=t.memoizedState),(B=Wa||xh(t,a,B,s,C,z,_)||e!==null&&e.dependencies!==null&&xi(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=_,s=B):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Li(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Bn(t,e.child,null,o),t.child=Bn(t,null,a,o)):dt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Ra(e,t,o),e}function zh(e,t,a,s){return Rn(),t.flags|=256,dt(e,t,a,s),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:jd()}}function Qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function Mh(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?tn(t):an(),(e=He)?(e=Yf(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,ct=t,He=null)):e=null,e===null)throw Za(t);return Rc(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(an(),o=t.mode,x=qi({mode:"hidden",children:x},o),s=On(s,o,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=Xo(a),s.childLanes=Qo(e,m,a),t.memoizedState=Jo,Sr(null,s)):(tn(t),Zo(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(u)t.flags&256?(tn(t),t.flags&=-257,t=Po(e,t,a)):t.memoizedState!==null?(an(),t.child=e.child,t.flags|=128,t=null):(an(),x=s.fallback,o=t.mode,s=qi({mode:"visible",children:s.children},o),x=On(x,o,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,Bn(t,e.child,null,a),s=t.child,s.memoizedState=Xo(a),s.childLanes=Qo(e,m,a),t.memoizedState=Jo,t=Sr(null,s));else if(tn(t),Rc(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var A=m.dgst;m=A,s=Error(l(419)),s.stack="",s.digest=m,dr({value:s,source:null,stack:null}),t=Po(e,t,a)}else if(et||ps(e,t,a,!1),m=(a&e.childLanes)!==0,et||m){if(m=Be,m!==null&&(s=Et(m,a),s!==0&&s!==_.retryLane))throw _.retryLane=s,An(e,s),Ut(m,e,s),Yo;Oc(x)||Xi(),t=Po(e,t,a)}else Oc(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,He=ea(x.nextSibling),ct=t,Ee=!0,Qa=null,Wt=!1,e!==null&&vd(t,e),t=Zo(t,s.children),t.flags|=4096);return t}return o?(an(),x=s.fallback,o=t.mode,_=e.child,A=_.sibling,s=Na(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,A!==null?x=Na(A,x):(x=On(x,o,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Sr(null,s),s=t.child,x=e.child.memoizedState,x===null?x=Xo(a):(o=x.cachePool,o!==null?(_=We._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=jd(),x={baseLanes:x.baseLanes|a,cachePool:o}),s.memoizedState=x,s.childLanes=Qo(e,m,a),t.memoizedState=Jo,Sr(e.child,s)):(tn(t),a=e.child,e=a.sibling,a=Na(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Zo(e,t){return t=qi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qi(e,t){return e=Bt(22,e,null,t),e.lanes=0,e}function Po(e,t,a){return Bn(t,e.child,null,a),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ho(e.return,t,a)}function Wo(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Lh(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=Ze.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,$(Ze,m),dt(e,t,s,a),s=Ee?ur:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,a,t);else if(e.tag===19)Bh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Ti(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Wo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ti(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Wo(t,!0,a,null,u,s);break;case"together":Wo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ps(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Fo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xi(e)))}function Mp(e,t,a){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Pa(t,We,e.memoizedState.cache),Rn();break;case 27:case 5:da(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(tn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mh(e,t,a):(tn(t),e=Ra(e,t,a),e!==null?e.sibling:null);tn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ps(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Lh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$(Ze,Ze.current),s)break;return null;case 22:return t.lanes=0,Oh(e,t,a,t.pendingProps);case 24:Pa(t,We,e.memoizedState.cache)}return Ra(e,t,a)}function qh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!Fo(e,a)&&(t.flags&128)===0)return et=!1,Mp(e,t,a);et=(e.flags&131072)!==0}else et=!1,Ee&&(t.flags&1048576)!==0&&bd(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=zn(t.elementType),t.type=e,typeof e=="function")no(e)?(s=qn(e,s),t.tag=1,t=Dh(null,t,e,s,a)):(t.tag=0,t=Ko(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=Th(null,t,e,s,a);break e}else if(o===X){t.tag=14,t=kh(null,t,e,s,a);break e}}throw t=Ne(e)||e,Error(l(306,t,""))}}return t;case 0:return Ko(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=qn(s,t.pendingProps),Dh(e,t,s,o,a);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,xo(e,t),vr(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Pa(t,We,s),s!==u.cache&&fo(t,[We],a,!0),br(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=zh(e,t,s,a);break e}else if(s!==o){o=Qt(Error(l(424)),t),dr(o),t=zh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=ea(e.firstChild),ct=t,Ee=!0,Qa=null,Wt=!0,a=Od(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rn(),s===o){t=Ra(e,t,a);break e}dt(e,t,s,a)}t=t.child}return t;case 26:return Li(e,t),e===null?(a=Pf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,s=tl(le.current).createElement(a),s[ot]=t,s[Tt]=e,ht(s,a,e),it(s),t.stateNode=s):t.memoizedState=Pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return da(t),e===null&&Ee&&(s=t.stateNode=Xf(t.type,t.pendingProps,le.current),ct=t,Wt=!0,o=He,dn(t.type)?(Cc=o,He=ea(s.firstChild)):He=o),dt(e,t,t.pendingProps.children,a),Li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=s=He)&&(s=hg(s,t.type,t.pendingProps,Wt),s!==null?(t.stateNode=s,ct=t,He=ea(s.firstChild),Wt=!1,o=!0):o=!1),o||Za(t)),da(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Tc(o,u)?s=null:m!==null&&Tc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Eo(e,t,Tp,null,null,a),Lr._currentValue=o),Li(e,t),dt(e,t,s,a),t.child;case 6:return e===null&&Ee&&((e=a=He)&&(a=fg(a,t.pendingProps,Wt),a!==null?(t.stateNode=a,ct=t,He=null,e=!0):e=!1),e||Za(t)),null;case 13:return Mh(e,t,a);case 4:return ve(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Bn(t,null,s,a):dt(e,t,s,a),t.child;case 11:return Th(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Pa(t,t.type,s.value),dt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Un(t),o=ut(o),s=s(o),t.flags|=1,dt(e,t,s,a),t.child;case 14:return kh(e,t,t.type,t.pendingProps,a);case 15:return Ah(e,t,t.type,t.pendingProps,a);case 19:return Lh(e,t,a);case 31:return zp(e,t,a);case 22:return Oh(e,t,a,t.pendingProps);case 24:return Un(t),s=ut(We),e===null?(o=go(),o===null&&(o=Be,u=mo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},vo(t),Pa(t,We,o)):((e.lanes&a)!==0&&(xo(e,t),vr(t,null,null,a),br()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Pa(t,We,s)):(s=u.cache,Pa(t,We,s),s!==o.cache&&fo(t,[We],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ca(e){e.flags|=4}function ec(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ff())e.flags|=8192;else throw Mn=Si,bo}else e.flags&=-16777217}function Hh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!am(t))if(ff())e.flags|=8192;else throw Mn=Si,bo}function Hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bt():536870912,e.lanes|=t,Ts|=t)}function jr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Bp(e,t,a){var s=t.pendingProps;switch(lo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ka(We),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ms(t)?Ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,co())),$e(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Ca(t),u!==null?($e(t),Hh(t,u)):($e(t),ec(t,o,null,s,a))):u?u!==e.memoizedState?(Ca(t),$e(t),Hh(t,u)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ca(t),$e(t),ec(t,o,e,s,a)),null;case 27:if(ya(t),a=le.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ca(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=K.current,ms(t)?xd(t):(e=Xf(o,s,a),t.stateNode=e,Ca(t))}return $e(t),null;case 5:if(ya(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ca(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(u=K.current,ms(t))xd(t);else{var m=tl(le.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[ot]=t,u[Tt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ht(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ca(t)}}return $e(t),ec(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ca(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=le.current,ms(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=ct,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Bf(e.nodeValue,a)),e||Za(t,!0)}else e=tl(e).createTextNode(s),e[ot]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ms(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ot]=t}else Rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ot]=t}else Rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hi(t,t.updateQueue),$e(t),null);case 4:return Ue(),e===null&&_c(t.stateNode.containerInfo),$e(t),null;case 10:return ka(t.type),$e(t),null;case 19:if(q(Ze),s=t.memoizedState,s===null)return $e(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)jr(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ti(e),u!==null){for(t.flags|=128,jr(s,!1),e=u.updateQueue,t.updateQueue=e,Hi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)md(a,e),a=a.sibling;return $(Ze,Ze.current&1|2),Ee&&Ea(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>Yi&&(t.flags|=128,o=!0,jr(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ti(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Hi(t,e),jr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ee)return $e(t),null}else 2*wt()-s.renderingStartTime>Yi&&a!==536870912&&(t.flags|=128,o=!0,jr(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,a=Ze.current,$(Ze,o?a&1|2:a&1),Ee&&Ea(t,s.treeForkCount),e):($e(t),null);case 22:case 23:return qt(t),So(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&Hi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&q(Dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ka(We),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Lp(e,t){switch(lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ka(We),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ya(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(l(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ze),null;case 4:return Ue(),null;case 10:return ka(t.type),null;case 22:case 23:return qt(t),So(),e!==null&&q(Dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ka(We),null;case 25:return null;default:return null}}function $h(e,t){switch(lo(t),t.tag){case 3:ka(We),Ue();break;case 26:case 27:case 5:ya(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:q(Ze);break;case 10:ka(t.type);break;case 22:case 23:qt(t),So(),e!==null&&q(Dn);break;case 24:ka(We)}}function Nr(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(x){Re(t,t.return,x)}}function nn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,o=t;var _=a,A=x;try{A()}catch(B){Re(o,_,B)}}}s=s.next}while(s!==u)}}catch(B){Re(t,t.return,B)}}function Ih(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Cd(t,a)}catch(s){Re(e,e.return,s)}}}function Vh(e,t,a){a.props=qn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Re(e,t,s)}}function Er(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Re(e,t,o)}}function ba(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Re(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Re(e,t,o)}else a.current=null}function Gh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Re(e,e.return,o)}}function tc(e,t,a){try{var s=e.stateNode;ig(s,e.type,a,t),s[Tt]=t}catch(o){Re(e,e.return,o)}}function Yh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dn(e.type)||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Sa));else if(s!==4&&(s===27&&dn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(nc(e,t,a),e=e.sibling;e!==null;)nc(e,t,a),e=e.sibling}function $i(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&dn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($i(e,t,a),e=e.sibling;e!==null;)$i(e,t,a),e=e.sibling}function Kh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,s,a),t[ot]=e,t[Tt]=a}catch(u){Re(e,e.return,u)}}var Ua=!1,tt=!1,sc=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,lt=null;function qp(e,t){if(e=e.containerInfo,Nc=ol,e=rd(e),Zl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,x=-1,_=-1,A=0,B=0,H=e,C=null;t:for(;;){for(var z;H!==a||o!==0&&H.nodeType!==3||(x=m+o),H!==u||s!==0&&H.nodeType!==3||(_=m+s),H.nodeType===3&&(m+=H.nodeValue.length),(z=H.firstChild)!==null;)C=H,H=z;for(;;){if(H===e)break t;if(C===a&&++A===o&&(x=m),C===u&&++B===s&&(_=m),(z=H.nextSibling)!==null)break;H=C,C=H.parentNode}H=z}a=x===-1||_===-1?null:{start:x,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ec={focusedElem:e,selectionRange:a},ol=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var ee=qn(a.type,o);e=s.getSnapshotBeforeUpdate(ee,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ac(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ac(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function Xh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:za(e,a),s&4&&Nr(5,a);break;case 1:if(za(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(a,a.return,m)}else{var o=qn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(a,a.return,m)}}s&64&&Ih(a),s&512&&Er(a,a.return);break;case 3:if(za(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Cd(e,t)}catch(m){Re(a,a.return,m)}}break;case 27:t===null&&s&4&&Kh(a);case 26:case 5:za(e,a),t===null&&s&4&&Gh(a),s&512&&Er(a,a.return);break;case 12:za(e,a);break;case 31:za(e,a),s&4&&Ph(e,a);break;case 13:za(e,a),s&4&&Wh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Xp.bind(null,a),mg(e,a))));break;case 22:if(s=a.memoizedState!==null||Ua,!s){t=t!==null&&t.memoizedState!==null||tt,o=Ua;var u=tt;Ua=s,(tt=t)&&!u?Ma(e,a,(a.subtreeFlags&8772)!==0):za(e,a),Ua=o,tt=u}break;case 30:break;default:za(e,a)}}function Qh(e){var t=e.alternate;t!==null&&(e.alternate=null,Qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ul(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,At=!1;function Da(e,t,a){for(a=a.child;a!==null;)Zh(e,t,a),a=a.sibling}function Zh(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 26:tt||ba(a,t),Da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||ba(a,t);var s=Ve,o=At;dn(a.type)&&(Ve=a.stateNode,At=!1),Da(e,t,a),zr(a.stateNode),Ve=s,At=o;break;case 5:tt||ba(a,t);case 6:if(s=Ve,o=At,Ve=null,Da(e,t,a),Ve=s,At=o,Ve!==null)if(At)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(u){Re(a,t,u)}else try{Ve.removeChild(a.stateNode)}catch(u){Re(a,t,u)}break;case 18:Ve!==null&&(At?(e=Ve,Vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):Vf(Ve,a.stateNode));break;case 4:s=Ve,o=At,Ve=a.stateNode.containerInfo,At=!0,Da(e,t,a),Ve=s,At=o;break;case 0:case 11:case 14:case 15:nn(2,a,t),tt||nn(4,a,t),Da(e,t,a);break;case 1:tt||(ba(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Vh(a,t,s)),Da(e,t,a);break;case 21:Da(e,t,a);break;case 22:tt=(s=tt)||a.memoizedState!==null,Da(e,t,a),tt=s;break;default:Da(e,t,a)}}function Ph(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(a){Re(t,t.return,a)}}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){Re(t,t.return,a)}}function Hp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jh),t;default:throw Error(l(435,e.tag))}}function Ii(e,t){var a=Hp(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Qp.bind(null,e,s);s.then(o,o)}})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(dn(x.type)){Ve=x.stateNode,At=!1;break e}break;case 5:Ve=x.stateNode,At=!1;break e;case 3:case 4:Ve=x.stateNode.containerInfo,At=!0;break e}x=x.return}if(Ve===null)throw Error(l(160));Zh(u,m,o),Ve=null,At=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fh(t,e),t=t.sibling}var ia=null;function Fh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Rt(e),s&4&&(nn(3,e,e.return),Nr(3,e),nn(5,e,e.return));break;case 1:Ot(t,e),Rt(e),s&512&&(tt||a===null||ba(a,a.return)),s&64&&Ua&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=ia;if(Ot(t,e),Rt(e),s&512&&(tt||a===null||ba(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Fs]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),ht(u,s,a),u[ot]=e,it(u),s=u;break e;case"link":var m=em("link","href",o).get(s+(a.href||""));if(m){for(var x=0;x<m.length;x++)if(u=m[x],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(x,1);break t}}u=o.createElement(s),ht(u,s,a),o.head.appendChild(u);break;case"meta":if(m=em("meta","content",o).get(s+(a.content||""))){for(x=0;x<m.length;x++)if(u=m[x],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(x,1);break t}}u=o.createElement(s),ht(u,s,a),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[ot]=e,it(u),s=u}e.stateNode=s}else tm(o,e.type,e.stateNode);else e.stateNode=Ff(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?tm(o,e.type,e.stateNode):Ff(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&tc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),Rt(e),s&512&&(tt||a===null||ba(a,a.return)),a!==null&&s&4&&tc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),Rt(e),s&512&&(tt||a===null||ba(a,a.return)),e.flags&32){o=e.stateNode;try{ss(o,"")}catch(ee){Re(e,e.return,ee)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,tc(e,o,a!==null?a.memoizedProps:o)),s&1024&&(sc=!0);break;case 6:if(Ot(t,e),Rt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ee){Re(e,e.return,ee)}}break;case 3:if(sl=null,o=ia,ia=al(t.containerInfo),Ot(t,e),ia=o,Rt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(ee){Re(e,e.return,ee)}sc&&(sc=!1,ef(e));break;case 4:s=ia,ia=al(e.stateNode.containerInfo),Ot(t,e),Rt(e),ia=s;break;case 12:Ot(t,e),Rt(e);break;case 31:Ot(t,e),Rt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ii(e,s)));break;case 13:Ot(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gi=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ii(e,s)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,A=Ua,B=tt;if(Ua=A||o,tt=B||_,Ot(t,e),tt=B,Ua=A,Rt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||Ua||tt||Hn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=_.stateNode;var H=_.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null;x.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(ee){Re(_,_.return,ee)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(ee){Re(_,_.return,ee)}}}else if(t.tag===18){if(a===null){_=t;try{var z=_.stateNode;o?Gf(z,!0):Gf(_.stateNode,!1)}catch(ee){Re(_,_.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ii(e,a))));break;case 19:Ot(t,e),Rt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ii(e,s)));break;case 30:break;case 21:break;default:Ot(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Yh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=ac(e);$i(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(ss(m,""),a.flags&=-33);var x=ac(e);$i(e,x,m);break;case 3:case 4:var _=a.stateNode.containerInfo,A=ac(e);nc(e,A,_);break;default:throw Error(l(161))}}catch(B){Re(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ef(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xh(e,t.alternate,t),t=t.sibling}function Hn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:nn(4,t,t.return),Hn(t);break;case 1:ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Vh(t,t.return,a),Hn(t);break;case 27:zr(t.stateNode);case 26:case 5:ba(t,t.return),Hn(t);break;case 22:t.memoizedState===null&&Hn(t);break;case 30:Hn(t);break;default:Hn(t)}e=e.sibling}}function Ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Ma(o,u,a),Nr(4,u);break;case 1:if(Ma(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Re(s,s.return,A)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Rd(_[o],x)}catch(A){Re(s,s.return,A)}}a&&m&64&&Ih(u),Er(u,u.return);break;case 27:Kh(u);case 26:case 5:Ma(o,u,a),a&&s===null&&m&4&&Gh(u),Er(u,u.return);break;case 12:Ma(o,u,a);break;case 31:Ma(o,u,a),a&&m&4&&Ph(o,u);break;case 13:Ma(o,u,a),a&&m&4&&Wh(o,u);break;case 22:u.memoizedState===null&&Ma(o,u,a),Er(u,u.return);break;case 30:break;default:Ma(o,u,a)}t=t.sibling}}function rc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hr(a))}function ic(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hr(e))}function la(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tf(e,t,a,s),t=t.sibling}function tf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,a,s),o&2048&&Nr(9,t);break;case 1:la(e,t,a,s);break;case 3:la(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hr(e)));break;case 12:if(o&2048){la(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,x=u.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Re(t,t.return,_)}}else la(e,t,a,s);break;case 31:la(e,t,a,s);break;case 13:la(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?la(e,t,a,s):Tr(e,t):u._visibility&2?la(e,t,a,s):(u._visibility|=2,js(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&rc(m,t);break;case 24:la(e,t,a,s),o&2048&&ic(t.alternate,t);break;default:la(e,t,a,s)}}function js(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,x=a,_=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:js(u,m,x,_,o),Nr(8,m);break;case 23:break;case 22:var B=m.stateNode;m.memoizedState!==null?B._visibility&2?js(u,m,x,_,o):Tr(u,m):(B._visibility|=2,js(u,m,x,_,o)),o&&A&2048&&rc(m.alternate,m);break;case 24:js(u,m,x,_,o),o&&A&2048&&ic(m.alternate,m);break;default:js(u,m,x,_,o)}t=t.sibling}}function Tr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Tr(a,s),o&2048&&rc(s.alternate,s);break;case 24:Tr(a,s),o&2048&&ic(s.alternate,s);break;default:Tr(a,s)}t=t.sibling}}var kr=8192;function Ns(e,t,a){if(e.subtreeFlags&kr)for(e=e.child;e!==null;)af(e,t,a),e=e.sibling}function af(e,t,a){switch(e.tag){case 26:Ns(e,t,a),e.flags&kr&&e.memoizedState!==null&&Eg(a,ia,e.memoizedState,e.memoizedProps);break;case 5:Ns(e,t,a);break;case 3:case 4:var s=ia;ia=al(e.stateNode.containerInfo),Ns(e,t,a),ia=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=kr,kr=16777216,Ns(e,t,a),kr=s):Ns(e,t,a));break;default:Ns(e,t,a)}}function nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ar(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];lt=s,rf(s,e)}nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sf(e),e=e.sibling}function sf(e){switch(e.tag){case 0:case 11:case 15:Ar(e),e.flags&2048&&nn(9,e,e.return);break;case 3:Ar(e);break;case 12:Ar(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vi(e)):Ar(e);break;default:Ar(e)}}function Vi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];lt=s,rf(s,e)}nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:nn(8,t,t.return),Vi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vi(t));break;default:Vi(t)}e=e.sibling}}function rf(e,t){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:nn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:hr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,lt=s;else e:for(a=e;lt!==null;){s=lt;var o=s.sibling,u=s.return;if(Qh(s),s===a){lt=null;break e}if(o!==null){o.return=u,lt=o;break e}lt=u}}}var $p={getCacheForType:function(e){var t=ut(We),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(We).controller.signal}},Ip=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,we=null,Se=0,Oe=0,Ht=null,sn=!1,Es=!1,lc=!1,Ba=0,Xe=0,rn=0,$n=0,oc=0,$t=0,Ts=0,Or=null,Ct=null,cc=!1,Gi=0,lf=0,Yi=1/0,Ki=null,ln=null,nt=0,on=null,ks=null,La=0,uc=0,dc=null,of=null,Rr=0,hc=null;function It(){return(Ae&2)!==0&&Se!==0?Se&-Se:R.T!==null?vc():Rl()}function cf(){if($t===0)if((Se&536870912)===0||Ee){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),$t=e}else $t=536870912;return e=Lt.current,e!==null&&(e.flags|=32),$t}function Ut(e,t,a){(e===Be&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(As(e,0),cn(e,Se,$t,!1)),Ye(e,a),((Ae&2)===0||e!==Be)&&(e===Be&&((Ae&2)===0&&($n|=a),Xe===4&&cn(e,Se,$t,!1)),va(e))}function uf(e,t,a){if((Ae&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ie(e,t),o=s?Yp(e,t):mc(e,t,!0),u=s;do{if(o===0){Es&&!s&&cn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Vp(a)){o=mc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;o=Or;var _=x.current.memoizedState.isDehydrated;if(_&&(As(x,m).flags|=256),m=mc(x,m,!1),m!==2){if(lc&&!_){x.errorRecoveryDisabledLanes|=u,$n|=u,o=4;break e}u=Ct,Ct=o,u!==null&&(Ct===null?Ct=u:Ct.push.apply(Ct,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){As(e,0),cn(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:cn(s,t,$t,!sn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Gi+300-wt(),10<o)){if(cn(s,t,$t,!sn),de(s,0,!0)!==0)break e;La=t,s.timeoutHandle=$f(df.bind(null,s,a,Ct,Ki,cc,t,$t,$n,Ts,sn,u,"Throttled",-0,0),o);break e}df(s,a,Ct,Ki,cc,t,$t,$n,Ts,sn,u,null,-0,0)}}break}while(!0);va(e)}function df(e,t,a,s,o,u,m,x,_,A,B,H,C,z){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},af(t,u,H);var ee=(u&62914560)===u?Gi-wt():(u&4194048)===u?lf-wt():0;if(ee=Tg(H,ee),ee!==null){La=u,e.cancelPendingCommit=ee(xf.bind(null,e,t,u,a,s,o,m,x,_,B,H,null,C,z)),cn(e,u,m,!A);return}}xf(e,t,u,a,s,o,m,x,_)}function Vp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!Mt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t,a,s){t&=~oc,t&=~$n,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-gt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&jn(e,a,t)}function Ji(){return(Ae&6)===0?(Cr(0),!1):!0}function fc(){if(we!==null){if(Oe===0)var e=we.return;else e=we,Ta=Cn=null,Ao(e),xs=null,mr=0,e=we;for(;e!==null;)$h(e.alternate,e),e=e.return;we=null}}function As(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),La=0,fc(),Be=e,we=a=Na(e.current,null),Se=t,Oe=0,Ht=null,sn=!1,Es=Ie(e,t),lc=!1,Ts=$t=oc=$n=rn=Xe=0,Ct=Or=null,cc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-gt(s),u=1<<o;t|=e[o],s&=~u}return Ba=t,mi(),a}function hf(e,t){me=null,R.H=_r,t===vs||t===_i?(t=Td(),Oe=3):t===bo?(t=Td(),Oe=4):Oe=t===Yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,we===null&&(Xe=1,Mi(e,Qt(t,e.current)))}function ff(){var e=Lt.current;return e===null?!0:(Se&4194048)===Se?Ft===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Ft:!1}function mf(){var e=R.H;return R.H=_r,e===null?_r:e}function pf(){var e=R.A;return R.A=$p,e}function Xi(){Xe=4,sn||(Se&4194048)!==Se&&Lt.current!==null||(Es=!0),(rn&134217727)===0&&($n&134217727)===0||Be===null||cn(Be,Se,$t,!1)}function mc(e,t,a){var s=Ae;Ae|=2;var o=mf(),u=pf();(Be!==e||Se!==t)&&(Ki=null,As(e,t)),t=!1;var m=Xe;e:do try{if(Oe!==0&&we!==null){var x=we,_=Ht;switch(Oe){case 8:fc(),m=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var A=Oe;if(Oe=0,Ht=null,Os(e,x,_,A),a&&Es){m=0;break e}break;default:A=Oe,Oe=0,Ht=null,Os(e,x,_,A)}}Gp(),m=Xe;break}catch(B){hf(e,B)}while(!0);return t&&e.shellSuspendCounter++,Ta=Cn=null,Ae=s,R.H=o,R.A=u,we===null&&(Be=null,Se=0,mi()),m}function Gp(){for(;we!==null;)gf(we)}function Yp(e,t){var a=Ae;Ae|=2;var s=mf(),o=pf();Be!==e||Se!==t?(Ki=null,Yi=wt()+500,As(e,t)):Es=Ie(e,t);e:do try{if(Oe!==0&&we!==null){t=we;var u=Ht;t:switch(Oe){case 1:Oe=0,Ht=null,Os(e,t,u,1);break;case 2:case 9:if(Nd(u)){Oe=0,Ht=null,bf(t);break}t=function(){Oe!==2&&Oe!==9||Be!==e||(Oe=7),va(e)},u.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Nd(u)?(Oe=0,Ht=null,bf(t)):(Oe=0,Ht=null,Os(e,t,u,7));break;case 5:var m=null;switch(we.tag){case 26:m=we.memoizedState;case 5:case 27:var x=we;if(m?am(m):x.stateNode.complete){Oe=0,Ht=null;var _=x.sibling;if(_!==null)we=_;else{var A=x.return;A!==null?(we=A,Qi(A)):we=null}break t}}Oe=0,Ht=null,Os(e,t,u,5);break;case 6:Oe=0,Ht=null,Os(e,t,u,6);break;case 8:fc(),Xe=6;break e;default:throw Error(l(462))}}Kp();break}catch(B){hf(e,B)}while(!0);return Ta=Cn=null,R.H=s,R.A=o,Ae=a,we!==null?0:(Be=null,Se=0,mi(),Xe)}function Kp(){for(;we!==null&&!yt();)gf(we)}function gf(e){var t=qh(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?Qi(e):we=t}function bf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uh(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Uh(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ao(t);default:$h(a,t),t=we=md(t,Ba),t=qh(a,t,Ba)}e.memoizedProps=e.pendingProps,t===null?Qi(e):we=t}function Os(e,t,a,s){Ta=Cn=null,Ao(t),xs=null,mr=0;var o=t.return;try{if(Dp(e,o,t,a,Se)){Xe=1,Mi(e,Qt(a,e.current)),we=null;return}}catch(u){if(o!==null)throw we=o,u;Xe=1,Mi(e,Qt(a,e.current)),we=null;return}t.flags&32768?(Ee||s===1?e=!0:Es||(Se&536870912)!==0?e=!1:(sn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),vf(t,e)):Qi(t)}function Qi(e){var t=e;do{if((t.flags&32768)!==0){vf(t,sn);return}e=t.return;var a=Bp(t.alternate,t,Ba);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Xe===0&&(Xe=5)}function vf(e,t){do{var a=Lp(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Xe=6,we=null}function xf(e,t,a,s,o,u,m,x,_){e.cancelPendingCommit=null;do Zi();while(nt!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=to,jt(e,a,u,m,x,_),e===Be&&(we=Be=null,Se=0),ks=t,on=e,La=a,uc=u,dc=o,of=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zp(wn,function(){return jf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,o=G.p,G.p=2,m=Ae,Ae|=4;try{qp(e,t,a)}finally{Ae=m,G.p=o,R.T=s}}nt=1,yf(),wf(),_f()}}function yf(){if(nt===1){nt=0;var e=on,t=ks,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var s=G.p;G.p=2;var o=Ae;Ae|=4;try{Fh(t,e);var u=Ec,m=rd(e.containerInfo),x=u.focusedElem,_=u.selectionRange;if(m!==x&&x&&x.ownerDocument&&sd(x.ownerDocument.documentElement,x)){if(_!==null&&Zl(x)){var A=_.start,B=_.end;if(B===void 0&&(B=A),"selectionStart"in x)x.selectionStart=A,x.selectionEnd=Math.min(B,x.value.length);else{var H=x.ownerDocument||document,C=H&&H.defaultView||window;if(C.getSelection){var z=C.getSelection(),ee=x.textContent.length,ie=Math.min(_.start,ee),Me=_.end===void 0?ie:Math.min(_.end,ee);!z.extend&&ie>Me&&(m=Me,Me=ie,ie=m);var T=nd(x,ie),E=nd(x,Me);if(T&&E&&(z.rangeCount!==1||z.anchorNode!==T.node||z.anchorOffset!==T.offset||z.focusNode!==E.node||z.focusOffset!==E.offset)){var k=H.createRange();k.setStart(T.node,T.offset),z.removeAllRanges(),ie>Me?(z.addRange(k),z.extend(E.node,E.offset)):(k.setEnd(E.node,E.offset),z.addRange(k))}}}}for(H=[],z=x;z=z.parentNode;)z.nodeType===1&&H.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<H.length;x++){var L=H[x];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}ol=!!Nc,Ec=Nc=null}finally{Ae=o,G.p=s,R.T=a}}e.current=t,nt=2}}function wf(){if(nt===2){nt=0;var e=on,t=ks,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var s=G.p;G.p=2;var o=Ae;Ae|=4;try{Xh(e,t.alternate,t)}finally{Ae=o,G.p=s,R.T=a}}nt=3}}function _f(){if(nt===4||nt===3){nt=0,Va();var e=on,t=ks,a=La,s=of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,ks=on=null,Sf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ln=null),sa(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,o=G.p,G.p=2,R.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var x=s[m];u(x.value,{componentStack:x.stack})}}finally{R.T=t,G.p=o}}(La&3)!==0&&Zi(),va(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===hc?Rr++:(Rr=0,hc=e):Rr=0,Cr(0)}}function Sf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hr(t)))}function Zi(){return yf(),wf(),_f(),jf()}function jf(){if(nt!==5)return!1;var e=on,t=uc;uc=0;var a=sa(La),s=R.T,o=G.p;try{G.p=32>a?32:a,R.T=null,a=dc,dc=null;var u=on,m=La;if(nt=0,ks=on=null,La=0,(Ae&6)!==0)throw Error(l(331));var x=Ae;if(Ae|=4,sf(u.current),tf(u,u.current,m,a),Ae=x,Cr(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(_n,u)}catch{}return!0}finally{G.p=o,R.T=s,Sf(e,t)}}function Nf(e,t,a){t=Qt(a,t),t=Go(e.stateNode,t,2),e=en(e,t,2),e!==null&&(Ye(e,2),va(e))}function Re(e,t,a){if(e.tag===3)Nf(e,e,a);else for(;t!==null;){if(t.tag===3){Nf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ln===null||!ln.has(s))){e=Qt(a,e),a=Nh(2),s=en(t,a,2),s!==null&&(Eh(a,s,t,e),Ye(s,2),va(s));break}}t=t.return}}function pc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Ip;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(lc=!0,o.add(a),e=Jp.bind(null,e,t,a),t.then(e,e))}function Jp(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Se&a)===a&&(Xe===4||Xe===3&&(Se&62914560)===Se&&300>wt()-Gi?(Ae&2)===0&&As(e,0):oc|=a,Ts===Se&&(Ts=0)),va(e)}function Ef(e,t){t===0&&(t=bt()),e=An(e,t),e!==null&&(Ye(e,t),va(e))}function Xp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ef(e,a)}function Qp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Ef(e,a)}function Zp(e,t){return Qs(e,t)}var Pi=null,Rs=null,gc=!1,Wi=!1,bc=!1,un=0;function va(e){e!==Rs&&e.next===null&&(Rs===null?Pi=Rs=e:Rs=Rs.next=e),Wi=!0,gc||(gc=!0,Wp())}function Cr(e,t){if(!bc&&Wi){bc=!0;do for(var a=!1,s=Pi;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=o&~(m&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Of(s,u))}else u=Se,u=de(s,s===Be?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Ie(s,u)||(a=!0,Of(s,u));s=s.next}while(a);bc=!1}}function Pp(){Tf()}function Tf(){Wi=gc=!1;var e=0;un!==0&&og()&&(e=un);for(var t=wt(),a=null,s=Pi;s!==null;){var o=s.next,u=kf(s,t);u===0?(s.next=null,a===null?Pi=o:a.next=o,o===null&&(Rs=a)):(a=s,(e!==0||(u&3)!==0)&&(Wi=!0)),s=o}nt!==0&&nt!==5||Cr(e),un!==0&&(un=0)}function kf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-gt(u),x=1<<m,_=o[m];_===-1?((x&a)===0||(x&s)!==0)&&(o[m]=rt(x,t)):_<=t&&(e.expiredLanes|=x),u&=~x}if(t=Be,a=Se,a=de(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Zs(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ie(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Zs(s),sa(a)){case 2:case 8:a=ti;break;case 32:a=wn;break;case 268435456:a=wa;break;default:a=wn}return s=Af.bind(null,e),a=Qs(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Zs(s),e.callbackPriority=2,e.callbackNode=null,2}function Af(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zi()&&e.callbackNode!==a)return null;var s=Se;return s=de(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(uf(e,s,t),kf(e,wt()),e.callbackNode!=null&&e.callbackNode===a?Af.bind(null,e):null)}function Of(e,t){if(Zi())return null;uf(e,t,!0)}function Wp(){ug(function(){(Ae&6)!==0?Qs(yn,Pp):Tf()})}function vc(){if(un===0){var e=gs;e===0&&(e=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),un=e}return un}function Rf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function Cf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Fp(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Rf((o[Tt]||null).action),m=s.submitter;m&&(t=(t=m[Tt]||null)?Rf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var x=new ui("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(un!==0){var _=m?Cf(o,m):new FormData(o);Lo(a,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(x.preventDefault(),_=m?Cf(o,m):new FormData(o),Lo(a,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var xc=0;xc<eo.length;xc++){var yc=eo[xc],eg=yc.toLowerCase(),tg=yc[0].toUpperCase()+yc.slice(1);ra(eg,"on"+tg)}ra(od,"onAnimationEnd"),ra(cd,"onAnimationIteration"),ra(ud,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(bp,"onTransitionRun"),ra(vp,"onTransitionStart"),ra(xp,"onTransitionCancel"),ra(dd,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ag=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ur));function Uf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var x=s[m],_=x.instance,A=x.currentTarget;if(x=x.listener,_!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=A;try{u(o)}catch(B){fi(B)}o.currentTarget=null,u=_}else for(m=0;m<s.length;m++){if(x=s[m],_=x.instance,A=x.currentTarget,x=x.listener,_!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=A;try{u(o)}catch(B){fi(B)}o.currentTarget=null,u=_}}}}function _e(e,t){var a=t[Cl];a===void 0&&(a=t[Cl]=new Set);var s=e+"__bubble";a.has(s)||(Df(t,e,2,!1),a.add(s))}function wc(e,t,a){var s=0;t&&(s|=4),Df(a,e,s,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Fi]){e[Fi]=!0,Eu.forEach(function(a){a!=="selectionchange"&&(ag.has(a)||wc(a,!1,e),wc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,wc("selectionchange",!1,t))}}function Df(e,t,a,s){switch(cm(t)){case 2:var o=Og;break;case 8:o=Rg;break;default:o=Bc}a=o.bind(null,t,a,e),o=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Sc(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var x=s.stateNode.containerInfo;if(x===o)break;if(m===4)for(m=s.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;x!==null;){if(m=Fn(x),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){s=u=m;continue e}x=x.parentNode}}s=s.return}Lu(function(){var A=u,B=ql(a),H=[];e:{var C=hd.get(e);if(C!==void 0){var z=ui,ee=e;switch(e){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":z=Q0;break;case"focusin":ee="focus",z=Yl;break;case"focusout":ee="blur",z=Yl;break;case"beforeblur":case"afterblur":z=Yl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=W0;break;case od:case cd:case ud:z=H0;break;case dd:z=ep;break;case"scroll":case"scrollend":z=z0;break;case"wheel":z=ap;break;case"copy":case"cut":case"paste":z=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Vu;break;case"toggle":case"beforetoggle":z=sp}var ie=(t&4)!==0,Me=!ie&&(e==="scroll"||e==="scrollend"),T=ie?C!==null?C+"Capture":null:C;ie=[];for(var E=A,k;E!==null;){var L=E;if(k=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||k===null||T===null||(L=tr(E,T),L!=null&&ie.push(Dr(E,L,k))),Me)break;E=E.return}0<ie.length&&(C=new z(C,ee,null,a,B),H.push({event:C,listeners:ie}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",C&&a!==Ll&&(ee=a.relatedTarget||a.fromElement)&&(Fn(ee)||ee[Wn]))break e;if((z||C)&&(C=B.window===B?B:(C=B.ownerDocument)?C.defaultView||C.parentWindow:window,z?(ee=a.relatedTarget||a.toElement,z=A,ee=ee?Fn(ee):null,ee!==null&&(Me=h(ee),ie=ee.tag,ee!==Me||ie!==5&&ie!==27&&ie!==6)&&(ee=null)):(z=null,ee=A),z!==ee)){if(ie=$u,L="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Vu,L="onPointerLeave",T="onPointerEnter",E="pointer"),Me=z==null?C:er(z),k=ee==null?C:er(ee),C=new ie(L,E+"leave",z,a,B),C.target=Me,C.relatedTarget=k,L=null,Fn(B)===A&&(ie=new ie(T,E+"enter",ee,a,B),ie.target=k,ie.relatedTarget=Me,L=ie),Me=L,z&&ee)t:{for(ie=ng,T=z,E=ee,k=0,L=T;L;L=ie(L))k++;L=0;for(var se=E;se;se=ie(se))L++;for(;0<k-L;)T=ie(T),k--;for(;0<L-k;)E=ie(E),L--;for(;k--;){if(T===E||E!==null&&T===E.alternate){ie=T;break t}T=ie(T),E=ie(E)}ie=null}else ie=null;z!==null&&zf(H,C,z,ie,!1),ee!==null&&Me!==null&&zf(H,Me,ee,ie,!0)}}e:{if(C=A?er(A):window,z=C.nodeName&&C.nodeName.toLowerCase(),z==="select"||z==="input"&&C.type==="file")var Te=Pu;else if(Qu(C))if(Wu)Te=mp;else{Te=hp;var te=dp}else z=C.nodeName,!z||z.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&Bl(A.elementType)&&(Te=Pu):Te=fp;if(Te&&(Te=Te(e,A))){Zu(H,Te,a,B);break e}te&&te(e,C,A),e==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&Ml(C,"number",C.value)}switch(te=A?er(A):window,e){case"focusin":(Qu(te)||te.contentEditable==="true")&&(os=te,Pl=A,cr=null);break;case"focusout":cr=Pl=os=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,id(H,a,B);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":id(H,a,B)}var be;if(Jl)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ls?Ju(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Gu&&a.locale!=="ko"&&(ls||je!=="onCompositionStart"?je==="onCompositionEnd"&&ls&&(be=qu()):(Ja=B,Il="value"in Ja?Ja.value:Ja.textContent,ls=!0)),te=el(A,je),0<te.length&&(je=new Iu(je,e,null,a,B),H.push({event:je,listeners:te}),be?je.data=be:(be=Xu(a),be!==null&&(je.data=be)))),(be=ip?lp(e,a):op(e,a))&&(je=el(A,"onBeforeInput"),0<je.length&&(te=new Iu("onBeforeInput","beforeinput",null,a,B),H.push({event:te,listeners:je}),te.data=be)),Fp(H,e,A,a,B)}Uf(H,t)})}function Dr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function el(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=tr(e,a),o!=null&&s.unshift(Dr(e,o,u)),o=tr(e,t),o!=null&&s.push(Dr(e,o,u))),e.tag===3)return s;e=e.return}return[]}function ng(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zf(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var x=a,_=x.alternate,A=x.stateNode;if(x=x.tag,_!==null&&_===s)break;x!==5&&x!==26&&x!==27||A===null||(_=A,o?(A=tr(a,u),A!=null&&m.unshift(Dr(a,A,_))):o||(A=tr(a,u),A!=null&&m.push(Dr(a,A,_)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var sg=/\r\n?/g,rg=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(sg,`
`).replace(rg,"")}function Bf(e,t){return t=Mf(t),Mf(e)===t}function ze(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ss(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ss(e,""+s);break;case"className":si(e,"class",s);break;case"tabIndex":si(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,a,s);break;case"style":Mu(e,s,u);break;case"data":if(t!=="object"){si(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ii(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ii(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ii(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),ni(e,"popover",s);break;case"xlinkActuate":_a(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":_a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":_a(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":_a(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":_a(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":_a(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":_a(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":_a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":_a(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ni(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=U0.get(a)||a,ni(e,a,s))}}function jc(e,t,a,s,o,u){switch(a){case"style":Mu(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ss(e,s):(typeof s=="number"||typeof s=="bigint")&&ss(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Tt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ni(e,a,s)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,u,m,a,null)}}o&&ze(e,t,"srcSet",a.srcSet,a,null),s&&ze(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var x=u=m=o=null,_=null,A=null;for(s in a)if(a.hasOwnProperty(s)){var B=a[s];if(B!=null)switch(s){case"name":o=B;break;case"type":m=B;break;case"checked":_=B;break;case"defaultChecked":A=B;break;case"value":u=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:ze(e,t,s,B,a,null)}}Cu(e,u,x,_,A,m,o,!1);return;case"select":_e("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(x=a[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":m=x;break;case"multiple":s=x;default:ze(e,t,o,x,a,null)}t=u,a=m,e.multiple=!!s,t!=null?ns(e,!!s,t,!1):a!=null&&ns(e,!!s,a,!0);return;case"textarea":_e("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(x=a[m],x!=null))switch(m){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:ze(e,t,m,x,a,null)}Du(e,s,o,u);return;case"option":for(_ in a)a.hasOwnProperty(_)&&(s=a[_],s!=null)&&(_==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ze(e,t,_,s,a,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Ur.length;s++)_e(Ur[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(s=a[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,A,s,a,null)}return;default:if(Bl(t)){for(B in a)a.hasOwnProperty(B)&&(s=a[B],s!==void 0&&jc(e,t,B,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&ze(e,t,x,s,a,null))}function ig(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,x=null,_=null,A=null,B=null;for(z in a){var H=a[z];if(a.hasOwnProperty(z)&&H!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=H;default:s.hasOwnProperty(z)||ze(e,t,z,null,s,H)}}for(var C in s){var z=s[C];if(H=a[C],s.hasOwnProperty(C)&&(z!=null||H!=null))switch(C){case"type":u=z;break;case"name":o=z;break;case"checked":A=z;break;case"defaultChecked":B=z;break;case"value":m=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:z!==H&&ze(e,t,C,z,s,H)}}zl(e,m,x,_,A,B,u,o);return;case"select":z=m=x=C=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":z=_;default:s.hasOwnProperty(u)||ze(e,t,u,null,s,_)}for(o in s)if(u=s[o],_=a[o],s.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":C=u;break;case"defaultValue":x=u;break;case"multiple":m=u;default:u!==_&&ze(e,t,o,u,s,_)}t=x,a=m,s=z,C!=null?ns(e,!!a,C,!1):!!s!=!!a&&(t!=null?ns(e,!!a,t,!0):ns(e,!!a,a?[]:"",!1));return;case"textarea":z=C=null;for(x in a)if(o=a[x],a.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ze(e,t,x,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":C=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&ze(e,t,m,o,s,u)}Uu(e,C,z);return;case"option":for(var ee in a)C=a[ee],a.hasOwnProperty(ee)&&C!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:ze(e,t,ee,null,s,C));for(_ in s)C=s[_],z=a[_],s.hasOwnProperty(_)&&C!==z&&(C!=null||z!=null)&&(_==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":ze(e,t,_,C,s,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)C=a[ie],a.hasOwnProperty(ie)&&C!=null&&!s.hasOwnProperty(ie)&&ze(e,t,ie,null,s,C);for(A in s)if(C=s[A],z=a[A],s.hasOwnProperty(A)&&C!==z&&(C!=null||z!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:ze(e,t,A,C,s,z)}return;default:if(Bl(t)){for(var Me in a)C=a[Me],a.hasOwnProperty(Me)&&C!==void 0&&!s.hasOwnProperty(Me)&&jc(e,t,Me,void 0,s,C);for(B in s)C=s[B],z=a[B],!s.hasOwnProperty(B)||C===z||C===void 0&&z===void 0||jc(e,t,B,C,s,z);return}}for(var T in a)C=a[T],a.hasOwnProperty(T)&&C!=null&&!s.hasOwnProperty(T)&&ze(e,t,T,null,s,C);for(H in s)C=s[H],z=a[H],!s.hasOwnProperty(H)||C===z||C==null&&z==null||ze(e,t,H,C,s,z)}function Lf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,x=o.duration;if(u&&x&&Lf(m)){for(m=0,x=o.responseEnd,s+=1;s<a.length;s++){var _=a[s],A=_.startTime;if(A>x)break;var B=_.transferSize,H=_.initiatorType;B&&Lf(H)&&(_=_.responseEnd,m+=B*(_<x?1:(x-A)/(_-A)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nc=null,Ec=null;function tl(e){return e.nodeType===9?e:e.ownerDocument}function qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=null;function og(){var e=window.event;return e&&e.type==="popstate"?e===kc?!1:(kc=e,!0):(kc=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,ug=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(e){return If.resolve(null).then(e).catch(dg)}:$f;function dg(e){setTimeout(function(){throw e})}function dn(e){return e==="head"}function Vf(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),zs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")zr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,zr(a);for(var u=a.firstChild;u;){var m=u.nextSibling,x=u.nodeName;u[Fs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&zr(e.ownerDocument.body);a=o}while(a);zs(t)}function Gf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ac(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ac(a),Ul(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hg(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Fs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function fg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ea(e.nextSibling),e===null))return null;return e}function Yf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function Oc(e){return e.data==="$?"||e.data==="$~"}function Rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cc=null;function Kf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ea(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xf(e,t,a){switch(t=tl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ul(e)}var ta=new Map,Qf=new Set;function al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=G.d;G.d={f:pg,r:gg,D:bg,C:vg,L:xg,m:yg,X:_g,S:wg,M:Sg};function pg(){var e=qa.f(),t=Ji();return e||t}function gg(e){var t=es(e);t!==null&&t.tag===5&&t.type==="form"?dh(t):qa.r(e)}var Cs=typeof document>"u"?null:document;function Zf(e,t,a){var s=Cs;if(s&&typeof t=="string"&&t){var o=Jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Qf.has(o)||(Qf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ht(t,"link",e),it(t),s.head.appendChild(t)))}}function bg(e){qa.D(e),Zf("dns-prefetch",e,null)}function vg(e,t){qa.C(e,t),Zf("preconnect",e,t)}function xg(e,t,a){qa.L(e,t,a);var s=Cs;if(s&&e&&t){var o='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Jt(a.imageSizes)+'"]')):o+='[href="'+Jt(e)+'"]';var u=o;switch(t){case"style":u=Us(e);break;case"script":u=Ds(e)}ta.has(u)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ta.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Mr(u))||t==="script"&&s.querySelector(Br(u))||(t=s.createElement("link"),ht(t,"link",e),it(t),s.head.appendChild(t)))}}function yg(e,t){qa.m(e,t);var a=Cs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Jt(s)+'"][href="'+Jt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ds(e)}if(!ta.has(u)&&(e=v({rel:"modulepreload",href:e},t),ta.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Br(u)))return}s=a.createElement("link"),ht(s,"link",e),it(s),a.head.appendChild(s)}}}function wg(e,t,a){qa.S(e,t,a);var s=Cs;if(s&&e){var o=ts(s).hoistableStyles,u=Us(e);t=t||"default";var m=o.get(u);if(!m){var x={loading:0,preload:null};if(m=s.querySelector(Mr(u)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ta.get(u))&&Uc(e,a);var _=m=s.createElement("link");it(_),ht(_,"link",e),_._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,nl(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:x},o.set(u,m)}}}function _g(e,t){qa.X(e,t);var a=Cs;if(a&&e){var s=ts(a).hoistableScripts,o=Ds(e),u=s.get(o);u||(u=a.querySelector(Br(o)),u||(e=v({src:e,async:!0},t),(t=ta.get(o))&&Dc(e,t),u=a.createElement("script"),it(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Sg(e,t){qa.M(e,t);var a=Cs;if(a&&e){var s=ts(a).hoistableScripts,o=Ds(e),u=s.get(o);u||(u=a.querySelector(Br(o)),u||(e=v({src:e,async:!0,type:"module"},t),(t=ta.get(o))&&Dc(e,t),u=a.createElement("script"),it(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Pf(e,t,a,s){var o=(o=le.current)?al(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Us(a.href),a=ts(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Us(a.href);var u=ts(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(Mr(e)))&&!u._p&&(m.instance=u,m.state.loading=5),ta.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ta.set(e,a),u||jg(o,e,a,m.state))),t&&s===null)throw Error(l(528,""));return m}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ds(a),a=ts(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Us(e){return'href="'+Jt(e)+'"'}function Mr(e){return'link[rel="stylesheet"]['+e+"]"}function Wf(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function jg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ht(t,"link",a),it(t),e.head.appendChild(t))}function Ds(e){return'[src="'+Jt(e)+'"]'}function Br(e){return"script[async]"+e}function Ff(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(s)return t.instance=s,it(s),s;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),ht(s,"style",o),nl(s,a.precedence,e),t.instance=s;case"stylesheet":o=Us(a.href);var u=e.querySelector(Mr(o));if(u)return t.state.loading|=4,t.instance=u,it(u),u;s=Wf(a),(o=ta.get(o))&&Uc(s,o),u=(e.ownerDocument||e).createElement("link"),it(u);var m=u;return m._p=new Promise(function(x,_){m.onload=x,m.onerror=_}),ht(u,"link",s),t.state.loading|=4,nl(u,a.precedence,e),t.instance=u;case"script":return u=Ds(a.src),(o=e.querySelector(Br(u)))?(t.instance=o,it(o),o):(s=a,(o=ta.get(u))&&(s=v({},a),Dc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),ht(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,nl(s,a.precedence,e));return t.instance}function nl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var x=s[m];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sl=null;function em(e,t,a){if(sl===null){var s=new Map,o=sl=new Map;o.set(a,s)}else o=sl,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Fs]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var x=s.get(m);x?x.push(u):s.set(m,[u])}}return s}function tm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ng(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function am(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eg(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Us(s.href),u=t.querySelector(Mr(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,it(u);return}u=t.ownerDocument||t,s=Wf(s),(o=ta.get(o))&&Uc(s,o),u=u.createElement("link"),it(u);var m=u;m._p=new Promise(function(x,_){m.onload=x,m.onerror=_}),ht(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=rl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var zc=0;function Tg(e,t){return e.stylesheets&&e.count===0&&ll(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&zc===0&&(zc=62500*lg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>zc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ll(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var il=null;function ll(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,il=new Map,t.forEach(kg,e),il=null,rl.call(e))}function kg(e,t){if(!(t.state.loading&4)){var a=il.get(e);if(a)var s=a.get(null);else{a=new Map,il.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=rl.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Lr={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Ag(e,t,a,s,o,u,m,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function nm(e,t,a,s,o,u,m,x,_,A,B,H){return e=new Ag(e,t,a,m,_,A,B,H,x),t=1,u===!0&&(t|=24),u=Bt(3,null,null,t),e.current=u,u.stateNode=e,t=mo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},vo(u),e}function sm(e){return e?(e=ds,e):ds}function rm(e,t,a,s,o,u){o=sm(o),s.context===null?s.context=o:s.pendingContext=o,s=Fa(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=en(e,s,t),a!==null&&(Ut(a,e,t),gr(a,e,t))}function im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Mc(e,t){im(e,t),(e=e.alternate)&&im(e,t)}function lm(e){if(e.tag===13||e.tag===31){var t=An(e,67108864);t!==null&&Ut(t,e,67108864),Mc(e,67108864)}}function om(e){if(e.tag===13||e.tag===31){var t=It();t=Pn(t);var a=An(e,t);a!==null&&Ut(a,e,t),Mc(e,t)}}var ol=!0;function Og(e,t,a,s){var o=R.T;R.T=null;var u=G.p;try{G.p=2,Bc(e,t,a,s)}finally{G.p=u,R.T=o}}function Rg(e,t,a,s){var o=R.T;R.T=null;var u=G.p;try{G.p=8,Bc(e,t,a,s)}finally{G.p=u,R.T=o}}function Bc(e,t,a,s){if(ol){var o=Lc(s);if(o===null)Sc(e,t,s,cl,a),um(e,s);else if(Ug(o,e,t,a,s))s.stopPropagation();else if(um(e,s),t&4&&-1<Cg.indexOf(e)){for(;o!==null;){var u=es(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=ma(u.pendingLanes);if(m!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var _=1<<31-gt(m);x.entanglements[1]|=_,m&=~_}va(u),(Ae&6)===0&&(Yi=wt()+500,Cr(0))}}break;case 31:case 13:x=An(u,2),x!==null&&Ut(x,u,2),Ji(),Mc(u,2)}if(u=Lc(s),u===null&&Sc(e,t,s,cl,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else Sc(e,t,s,null,a)}}function Lc(e){return e=ql(e),qc(e)}var cl=null;function qc(e){if(cl=null,e=Fn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cl=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Al()){case yn:return 2;case ti:return 8;case wn:case Ps:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Hc=!1,hn=null,fn=null,mn=null,qr=new Map,Hr=new Map,pn=[],Cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function um(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function $r(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=es(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ug(e,t,a,s,o){switch(t){case"focusin":return hn=$r(hn,e,t,a,s,o),!0;case"dragenter":return fn=$r(fn,e,t,a,s,o),!0;case"mouseover":return mn=$r(mn,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return qr.set(u,$r(qr.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Hr.set(u,$r(Hr.get(u)||null,e,t,a,s,o)),!0}return!1}function dm(e){var t=Fn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,ju(e.priority,function(){om(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,ju(e.priority,function(){om(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Lc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ll=s,a.target.dispatchEvent(s),Ll=null}else return t=es(a),t!==null&&lm(t),e.blockedOn=a,!1;t.shift()}return!0}function hm(e,t,a){ul(e)&&a.delete(t)}function Dg(){Hc=!1,hn!==null&&ul(hn)&&(hn=null),fn!==null&&ul(fn)&&(fn=null),mn!==null&&ul(mn)&&(mn=null),qr.forEach(hm),Hr.forEach(hm)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Hc||(Hc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dg)))}var hl=null;function fm(e){hl!==e&&(hl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hl===e&&(hl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(qc(s||a)===null)continue;break}var u=es(a);u!==null&&(e.splice(t,3),t-=3,Lo(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function zs(e){function t(_){return dl(_,e)}hn!==null&&dl(hn,e),fn!==null&&dl(fn,e),mn!==null&&dl(mn,e),qr.forEach(t),Hr.forEach(t);for(var a=0;a<pn.length;a++){var s=pn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<pn.length&&(a=pn[0],a.blockedOn===null);)dm(a),a.blockedOn===null&&pn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[Tt]||null;if(typeof u=="function")m||fm(a);else if(m){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Tt]||null)x=m.formAction;else if(qc(o)!==null)continue}else x=m.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),fm(a)}}}function mm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function $c(e){this._internalRoot=e}fl.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=It();rm(a,s,e,t,null,null)},fl.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rm(e.current,2,null,e,null,null),Ji(),t[Wn]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rl();e={blockedOn:null,target:e,priority:t};for(var a=0;a<pn.length&&t!==0&&t<pn[a].priority;a++);pn.splice(a,0,e),a===0&&dm(e)}};var pm=n.version;if(pm!=="19.2.3")throw Error(l(527,pm,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var zg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{_n=ml.inject(zg),_t=ml}catch{}}return Vr.createRoot=function(e,t){if(!d(e))throw Error(l(299));var a=!1,s="",o=wh,u=_h,m=Sh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=nm(e,1,!1,null,null,a,s,null,o,u,m,mm),e[Wn]=t.current,_c(e),new $c(t)},Vr.hydrateRoot=function(e,t,a){if(!d(e))throw Error(l(299));var s=!1,o="",u=wh,m=_h,x=Sh,_=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=nm(e,1,!0,t,a??null,s,o,_,u,m,x,mm),t.context=sm(null),a=t.current,s=It(),s=Pn(s),o=Fa(s),o.callback=null,en(a,o,s),a=s,t.current.lanes=a,Ye(t,a),va(t),e[Wn]=t.current,_c(e),new fl(t)},Vr.version="19.2.3",Vr}var Nm;function Gg(){if(Nm)return Gc.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Gc.exports=Vg(),Gc.exports}var Yg=Gg();const Kg=({children:i,user:n,onLogout:r,onToggleView:l,isUserMode:d,onAdminUsers:h})=>{const[f,g]=Q.useState(!1);return c.jsxs("div",{className:"flex min-h-screen font-sans relative overflow-x-hidden",children:[c.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-black border-b border-white/10 flex items-center justify-between px-4 pt-[env(safe-area-inset-top,20px)] h-[calc(5rem+env(safe-area-inset-top,20px))] shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-brand-orange/20 to-brand-purple/20 flex items-center justify-center border border-white/10 shadow-inner",children:n?.avatarUrl?c.jsx("img",{src:n.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover rounded-2xl"}):c.jsx("span",{className:"text-2xl",children:""})}),c.jsx("div",{className:"flex flex-col",children:c.jsx("span",{className:"text-sm font-display font-black text-white italic truncate max-w-[120px] uppercase",children:n?.username||"GUEST"})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-end bg-white/5 px-3 py-1.5 rounded-xl border border-white/10 shadow-inner",children:[c.jsx("span",{className:"text-[6px] text-gray-500 font-black uppercase tracking-widest leading-none mb-0.5",children:"Balance"}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-lg font-mono font-black text-brand-gold drop-shadow-[0_0_10px_rgba(255,204,0,0.3)]",children:n?.tokens||0}),c.jsx("span",{className:"text-[7px] font-black text-brand-gold/60",children:"FTK"})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[n?.role==="ADMIN"&&h&&c.jsx("button",{onClick:h,className:"w-10 h-10 flex items-center justify-center bg-brand-diamond/10 rounded-xl border border-brand-diamond/30 text-brand-diamond text-lg hover:bg-brand-diamond/20 transition-all touch-target",title:"Admin Panel",children:""}),c.jsx("button",{onClick:()=>g(!f),className:"w-10 h-10 flex items-center justify-center bg-white/5 rounded-xl border border-white/10 text-white shadow-xl touch-target",children:f?"":""})]})]})]}),c.jsxs("aside",{className:`
                fixed md:static inset-y-0 left-0 z-40 w-64 sm:w-72 md:w-64 liquid-glass m-3 md:m-0 md:mr-0 flex flex-col border-white/5 shadow-2xl transition-transform duration-500
                ${f?"translate-x-0":"-translate-x-full md:translate-x-0"}
            `,children:[c.jsx("div",{className:"hidden md:block p-8 md:p-10 border-b border-white/5",children:c.jsxs("h1",{className:"text-[0.98rem] md:text-[1.46rem] modern-title",children:["FANNY",c.jsx("span",{className:"text-brand-orange drop-shadow-[0_0_10px_rgba(255,106,0,0.5)]",children:"BET"})]})}),c.jsxs("div",{className:"flex-1 px-4 py-6 md:py-20 flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-white/5 border border-white/10 flex items-center justify-center mb-4 animate-pulse-slow",children:c.jsx("span",{className:"text-4xl md:text-5xl text-brand-orange",children:""})}),c.jsx("p",{className:"text-[9px] text-gray-400 font-black uppercase tracking-[0.4em] mb-2",children:"Core Protocol"}),c.jsx("p",{className:"text-[11px] text-gray-500 italic px-3 leading-relaxed opacity-60",children:"Seleziona una categoria per visualizzare i mercati attivi."})]}),n&&c.jsx("div",{className:"p-4 md:p-6 mt-auto",children:c.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 md:gap-3 py-3 md:py-4 border border-white/5 bg-white/[0.02] text-gray-400 rounded-2xl hover:bg-red-500/10 hover:text-red-500 hover:border-red-500/20 transition-all font-black text-[9px] md:text-[10px] uppercase tracking-[0.2em] touch-target",children:[c.jsx("span",{className:"text-lg",children:""})," ",c.jsx("span",{className:"hidden sm:inline",children:"ESCI"})]})})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>g(!1)}),c.jsxs("div",{className:"flex-1 flex flex-col p-2 md:p-6 space-y-2 md:space-y-6 max-h-screen pt-20 md:pt-6 overflow-hidden",children:[c.jsxs("header",{className:"hidden md:flex liquid-glass px-6 md:px-10 py-5 items-center justify-between border-white/5 h-24 md:h-28 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-5 min-w-0",children:[c.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl md:rounded-2xl bg-gradient-to-br from-brand-orange/20 to-brand-purple/20 flex items-center justify-center border border-white/10 shadow-inner flex-shrink-0 overflow-hidden",children:n?.avatarUrl?c.jsx("img",{src:n.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-2xl md:text-3xl animate-glow",children:""})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.4em] mb-1",children:"Authenticated As"}),c.jsx("h2",{className:"text-xl md:text-3xl font-display font-black tracking-tight text-white/90 truncate",children:n?.username||"GUEST_USER"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.4em] mb-2",children:"Credits"}),c.jsxs("div",{className:"flex items-baseline gap-1 md:gap-2",children:[c.jsx("span",{className:"text-xl md:text-3xl font-display font-black text-brand-orange drop-shadow-[0_0_15px_rgba(255,106,0,0.3)]",children:n?.tokens||0}),c.jsx("span",{className:"text-[10px] md:text-xs font-black text-white/30 tracking-widest italic",children:"TK"})]})]}),c.jsx("div",{className:"h-10 md:h-12 w-[1px] bg-white/10"}),n?.role==="ADMIN"&&h&&c.jsxs("button",{onClick:h,className:"bg-brand-diamond/10 hover:bg-brand-diamond/20 p-3 md:p-4 rounded-xl md:rounded-2xl transition-all border border-brand-diamond/30 group relative touch-target",title:"Gestisci Utenti",children:[c.jsx("div",{className:"absolute inset-0 bg-brand-diamond/5 rounded-2xl blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:scale-110 transition-transform duration-500 relative z-10 text-brand-diamond/70 group-hover:text-brand-diamond",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})]}),c.jsx("div",{className:"h-10 md:h-12 w-[1px] bg-white/10"}),l&&c.jsxs("button",{onClick:l,className:"bg-white/5 hover:bg-white/10 p-3 md:p-4 rounded-xl md:rounded-2xl transition-all border border-white/10 group relative touch-target",title:d?"Activate Admin Matrix":"Return to User Grid",children:[c.jsx("div",{className:"absolute inset-0 bg-brand-orange/5 rounded-2xl blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:rotate-90 transition-transform duration-500 relative z-10 text-white/70 group-hover:text-brand-orange",children:[c.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto pr-1 md:pr-2 no-scrollbar",children:c.jsx("div",{className:"max-w-6xl mx-auto py-1 md:py-4 px-1 md:px-0",children:i})})]})]})};function El(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(i);d<l.length;d++)n.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(i,l[d])&&(r[l[d]]=i[l[d]]);return r}function Jg(i,n,r,l){function d(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(w){try{b(l.next(w))}catch(v){f(v)}}function p(w){try{b(l.throw(w))}catch(v){f(v)}}function b(w){w.done?h(w.value):d(w.value).then(g,p)}b((l=l.apply(i,n||[])).next())})}const Xg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class bu extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Qg extends bu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Em extends bu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Tm extends bu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var su;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(su||(su={}));class Zg{constructor(n,{headers:r={},customFetch:l,region:d=su.Any}={}){this.url=n,this.headers=r,this.region=d,this.fetch=Xg(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Jg(this,arguments,void 0,function*(r,l={}){var d;let h,f;try{const{headers:g,method:p,body:b,signal:w,timeout:v}=l;let y={},{region:S}=l;S||(S=this.region);const j=new URL(`${this.url}/${r}`);S&&S!=="any"&&(y["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let O;b&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",O=b):typeof b=="string"?(y["Content-Type"]="text/plain",O=b):typeof FormData<"u"&&b instanceof FormData?O=b:(y["Content-Type"]="application/json",O=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?O=JSON.stringify(b):O=b;let U=w;v&&(f=new AbortController,h=setTimeout(()=>f.abort(),v),w?(U=f.signal,w.addEventListener("abort",()=>f.abort())):U=f.signal);const M=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),g),body:O,signal:U}).catch(fe=>{throw new Qg(fe)}),I=M.headers.get("x-relay-error");if(I&&I==="true")throw new Em(M);if(!M.ok)throw new Tm(M);let D=((d=M.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),Z;return D==="application/json"?Z=yield M.json():D==="application/octet-stream"||D==="application/pdf"?Z=yield M.blob():D==="text/event-stream"?Z=M:D==="multipart/form-data"?Z=yield M.formData():Z=yield M.text(),{data:Z,error:null,response:M}}catch(g){return{data:null,error:g,response:g instanceof Tm||g instanceof Em?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var Pg=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},Wg=class{constructor(i){var n,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,p=null,b=h.status,w=h.statusText;if(h.ok){var v,y;if(r.method!=="HEAD"){var S;const M=await h.text();M===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?g=M:g=JSON.parse(M))}const O=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),U=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");O&&U&&U.length>1&&(p=parseInt(U[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,b=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var j;const O=await h.text();try{f=JSON.parse(O),Array.isArray(f)&&h.status===404&&(g=[],f=null,b=200,w="OK")}catch{h.status===404&&O===""?(b=204,w="No Content"):f={message:O}}if(f&&r.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,b=200,w="OK"),f&&r.shouldThrowOnError)throw new Pg(f)}return{error:f,data:g,count:p,status:b,statusText:w}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let g="";const p=h?.cause;if(p){var b,w,v,y;const j=(b=p?.message)!==null&&b!==void 0?b:"",O=(w=p?.code)!==null&&w!==void 0?w:"";g=`${(v=h?.name)!==null&&v!==void 0?v:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(y=p?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,O&&(g+=` (${O})`),p?.stack&&(g+=`
${p.stack}`)}else{var S;g=(S=h?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,n)}returns(){return this}overrideTypes(){return this}},Fg=class extends Wg{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:d=l}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const d=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:d=!1,format:h="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const km=new RegExp("[,()]");var Is=class extends Fg{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&km.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&km.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${d}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},eb=class{constructor(i,{headers:n={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:r=!1,count:l}=n??{},d=r?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(b=>/\s/.test(b)&&!h?"":(b==='"'&&(h=!h),b)).join(""),{url:g,headers:p}=this.cloneRequestState();return g.searchParams.set("select",f),l&&p.append("Prefer",`count=${l}`),new Is({method:d,url:g,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const d="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",p.join(","))}}return new Is({method:d,url:h,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:d=!0}={}){var h;const f="POST",{url:g,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),l&&p.append("Prefer",`count=${l}`),d||p.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(b.length>0){const w=[...new Set(b)].map(v=>`"${v}"`);g.searchParams.set("columns",w.join(","))}}return new Is({method:f,url:g,headers:p,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:n}={}){var r;const l="PATCH",{url:d,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new Is({method:l,url:d,headers:h,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var n;const r="DELETE",{url:l,headers:d}=this.cloneRequestState();return i&&d.append("Prefer",`count=${i}`),new Is({method:r,url:l,headers:d,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},tb=class s0{constructor(n,{headers:r={},schema:l,fetch:d}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new s0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:d=!1,count:h}={}){var f;let g;const p=new URL(`${this.url}/rpc/${n}`);let b;const w=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(w)),v=l&&Object.values(r).some(w);v?(g="POST",b=r):l||d?(g=l?"HEAD":"GET",Object.entries(r).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{p.searchParams.append(S,j)})):(g="POST",b=r);const y=new Headers(this.headers);return v?y.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&y.set("Prefer",`count=${h}`),new Is({method:g,url:p,headers:y,schema:this.schemaName,body:b,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class ab{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const d=l.node,h=parseInt(d.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const nb="2.90.1",sb=`realtime-js/${nb}`,r0="1.0.0",rb="2.0.0",Am=r0,ru=1e4,ib=1e3,lb=100;var bn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(bn||(bn={}));var st;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(st||(st={}));var ua;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ua||(ua={}));var iu;(function(i){i.websocket="websocket"})(iu||(iu={}));var Yn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Yn||(Yn={}));class ob{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var d,h;const f=n.topic,g=(d=n.ref)!==null&&d!==void 0?d:"",p=(h=n.join_ref)!==null&&h!==void 0?h:"",b=n.payload.event,w=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},v=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+f.length+b.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+y);let j=new DataView(S),O=0;j.setUint8(O++,this.KINDS.userBroadcastPush),j.setUint8(O++,p.length),j.setUint8(O++,g.length),j.setUint8(O++,f.length),j.setUint8(O++,b.length),j.setUint8(O++,v.length),j.setUint8(O++,r),Array.from(p,M=>j.setUint8(O++,M.charCodeAt(0))),Array.from(g,M=>j.setUint8(O++,M.charCodeAt(0))),Array.from(f,M=>j.setUint8(O++,M.charCodeAt(0))),Array.from(b,M=>j.setUint8(O++,M.charCodeAt(0))),Array.from(v,M=>j.setUint8(O++,M.charCodeAt(0)));var U=new Uint8Array(S.byteLength+l.byteLength);return U.set(new Uint8Array(S),0),U.set(new Uint8Array(l),S.byteLength),U.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[d,h,f,g,p]=l;return r({join_ref:d,ref:h,topic:f,event:g,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),d=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,d)}_decodeUserBroadcast(n,r,l){const d=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),g=r.getUint8(4);let p=this.HEADER_LENGTH+4;const b=l.decode(n.slice(p,p+d));p=p+d;const w=l.decode(n.slice(p,p+h));p=p+h;const v=l.decode(n.slice(p,p+f));p=p+f;const y=n.slice(p,n.byteLength),S=g===this.JSON_ENCODING?JSON.parse(l.decode(y)):y,j={type:this.BROADCAST_EVENT,event:w,payload:S};return f>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class i0{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Le||(Le={}));const Om=(i,n,r={})=>{var l;const d=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=cb(f,i,n,d),h),{}):{}},cb=(i,n,r,l)=>{const d=n.find(g=>g.name===i),h=d?.type,f=r[i];return h&&!l.includes(h)?l0(h,f):lu(f)},l0=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return fb(n,r)}switch(i){case Le.bool:return ub(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return db(n);case Le.json:case Le.jsonb:return hb(n);case Le.timestamp:return mb(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return lu(n);default:return lu(n)}},lu=i=>i,ub=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},db=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},hb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},fb=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let h;const f=i.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>l0(n,g))}return i},mb=i=>typeof i=="string"?i.replace(" ","T"):i,o0=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Xc{constructor(n,r,l={},d=ru){this.channel=n,this.event=r,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Rm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Rm||(Rm={}));class Yr{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,d,h,f),this.pendingDiffs.forEach(p=>{this.state=Yr.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Yr.syncDiff(this.state,d,h,f),g())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,d){const h=this.cloneDeep(n),f=this.transformState(r),g={},p={};return this.map(h,(b,w)=>{f[b]||(p[b]=w)}),this.map(f,(b,w)=>{const v=h[b];if(v){const y=w.map(U=>U.presence_ref),S=v.map(U=>U.presence_ref),j=w.filter(U=>S.indexOf(U.presence_ref)<0),O=v.filter(U=>y.indexOf(U.presence_ref)<0);j.length>0&&(g[b]=j),O.length>0&&(p[b]=O)}else g[b]=w}),this.syncDiff(h,{joins:g,leaves:p},l,d)}static syncDiff(n,r,l,d){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(h,(g,p)=>{var b;const w=(b=n[g])!==null&&b!==void 0?b:[];if(n[g]=this.cloneDeep(p),w.length>0){const v=n[g].map(S=>S.presence_ref),y=w.filter(S=>v.indexOf(S.presence_ref)<0);n[g].unshift(...y)}l(g,w,p)}),this.map(f,(g,p)=>{let b=n[g];if(!b)return;const w=p.map(v=>v.presence_ref);b=b.filter(v=>w.indexOf(v.presence_ref)<0),n[g]=b,d(g,b,p),b.length===0&&delete n[g]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const d=n[l];return"metas"in d?r[l]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=d,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Cm||(Cm={}));var Kr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Kr||(Kr={}));var $a;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class Ys{constructor(n,r={config:{}},l){var d,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xc(this,ua.join,this.params,this.timeout),this.rejoinTimer=new i0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ua.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Yr(this),this.broadcastEndpointURL=o0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,b=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&d!==void 0?d:[],w=!!this.bindings[Kr.PRESENCE]&&this.bindings[Kr.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,v={},y={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:w}),postgres_changes:b,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>n?.($a.CHANNEL_ERROR,S)),this._onClose(()=>n?.($a.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.($a.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,U=(j=O?.length)!==null&&j!==void 0?j:0,M=[];for(let I=0;I<U;I++){const D=O[I],{filter:{event:Z,schema:fe,table:J,filter:X}}=D,ue=S&&S[I];if(ue&&ue.event===Z&&Ys.isFilterValueEqual(ue.schema,fe)&&Ys.isFilterValueEqual(ue.table,J)&&Ys.isFilterValueEqual(ue.filter,X))M.push(Object.assign(Object.assign({},D),{id:ue.id}));else{this.unsubscribe(),this.state=st.errored,n?.($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n($a.SUBSCRIBED);return}}).receive("error",S=>{this.state=st.errored,n?.($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===st.joined&&n===Kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var d;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const b=await g.json();p=b.error||b.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var l,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=b.body)===null||d===void 0?void 0:d.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,p;const b=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),b.receive("ok",()=>h("ok")),b.receive("error",()=>h("error")),b.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ua.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new Xc(this,ua.leave,{},n),l.receive("ok",()=>{r(),d("ok")}).receive("timeout",()=>{r(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const d=new AbortController,h=setTimeout(()=>d.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:d.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Xc(this,n,r,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>lb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var d,h;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:b,join:w}=ua;if(l&&[g,p,b,w].indexOf(f)>=0&&l!==this._joinRef())return;let y=this._onMessage(f,r,l);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(S=>{var j,O,U;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((U=(O=S.filter)===null||O===void 0?void 0:O.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(S=>S.callback(y,l)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var j,O,U,M,I,D,Z,fe;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const J=S.id,X=(j=S.filter)===null||j===void 0?void 0:j.event;return J&&((O=r.ids)===null||O===void 0?void 0:O.includes(J))&&(X==="*"||X?.toLocaleLowerCase()===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((M=S.filter)===null||M===void 0)&&M.table)||S.filter.table===((I=r.data)===null||I===void 0?void 0:I.table))}else{const J=(Z=(D=S?.filter)===null||D===void 0?void 0:D.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return J==="*"||J===((fe=r?.event)===null||fe===void 0?void 0:fe.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:O,table:U,commit_timestamp:M,type:I,errors:D}=j;y=Object.assign(Object.assign({},{schema:O,table:U,commit_timestamp:M,eventType:I,new:{},old:{},errors:D}),this._getPayloadRecords(j))}S.callback(y,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const d=n.toLocaleLowerCase(),h={type:d,filter:r,callback:l};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Ys.isEqual(d.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ua.close,{},n)}_onError(n){this._on(ua.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Om(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Om(n.columns,n.old_record)),r}}const Qc=()=>{},pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pb=[1e3,2e3,5e3,1e4],gb=1e4,bb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vb{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ru,this.transport=null,this.heartbeatIntervalMs=pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qc,this.ref=0,this.reconnectTimer=null,this.vsn=Am,this.logger=Qc,this.conn=null,this.sendBuffer=[],this.serializer=new ob,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${iu.websocket}`,this.httpEndpoint=o0(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ab.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return Yn.Connecting;case bn.open:return Yn.Open;case bn.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,d=this.getChannels().find(h=>h.topic===l);if(d)return d;{const h=new Ys(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:d,ref:h}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${r} ${l} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(ib,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",b)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:d,payload:h,ref:f}=r,g=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${l} ${d} ${g}`.trim(),h),this.channels.filter(b=>b._isMember(l)).forEach(b=>b._trigger(d,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bn.open||this.conn.readyState===bn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ua.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",d=new URLSearchParams(r);return`${n}${l}${d}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([bb],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(d=>{const h={access_token:r,version:sb};r&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(ua.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new i0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,d,h,f,g,p,b,w,v,y,S;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:ru,this.heartbeatIntervalMs=(d=n?.heartbeatIntervalMs)!==null&&d!==void 0?d:pl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Qc,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:Am,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=n?.reconnectAfterMs)!==null&&b!==void 0?b:(j=>pb[j-1]||gb),this.vsn){case r0:this.encode=(w=n?.encode)!==null&&w!==void 0?w:((j,O)=>O(JSON.stringify(j))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:((j,O)=>O(JSON.parse(j)));break;case rb:this.encode=(y=n?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Jr=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xb(i,n,r){const l=new URL(n,i);if(r)for(const[d,h]of Object.entries(r))h!==void 0&&l.searchParams.set(d,h);return l.toString()}async function yb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function wb(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:d,body:h,headers:f}){const g=xb(i.baseUrl,l,d),p=await yb(i.auth),b=await n(g,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...p,...f},body:h?JSON.stringify(h):void 0}),w=await b.text(),v=(b.headers.get("content-type")||"").includes("application/json"),y=v&&w?JSON.parse(w):w;if(!b.ok){const S=v?y:void 0,j=S?.error;throw new Jr(j?.message??`Request failed with status ${b.status}`,{status:b.status,icebergType:j?.type,icebergCode:j?.code,details:S})}return{status:b.status,headers:b.headers,data:y}}}}function gl(i){return i.join("")}var _b=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:gl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gl(i.namespace)}`}),!0}catch(n){if(n instanceof Jr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof Jr&&r.status===409)return;throw r}}};function Ms(i){return i.join("")}var Sb=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof Jr&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof Jr&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},jb=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=wb({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new _b(this.client,n),this.tableOps=new Sb(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},Tl=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ke(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Nb=class extends Tl{constructor(i,n,r){super(i),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ou=class extends Tl{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const vu=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Eb=()=>Response,cu=i=>{if(Array.isArray(i))return i.map(r=>cu(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const d=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[d]=cu(l)}),n},Tb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},kb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Xr(i){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xr(i)}function Ab(i,n){if(Xr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Xr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ob(i){var n=Ab(i,"string");return Xr(n)=="symbol"?n:n+""}function Rb(i,n,r){return(n=Ob(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Um(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),r.push.apply(r,l)}return r}function ce(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Um(Object(r),!0).forEach(function(l){Rb(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Um(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Zc=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Cb=async(i,n,r)=>{i instanceof await Eb()&&!r?.noResolveJson?i.json().then(l=>{const d=i.status||500,h=l?.statusCode||d+"";n(new Nb(Zc(l),d,h))}).catch(l=>{n(new ou(Zc(l),l))}):n(new ou(Zc(i),i))},Ub=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return i==="GET"||!l?d:(Tb(l)?(d.headers=ce({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,n?.duplex&&(d.duplex=n.duplex),ce(ce({},d),r))};async function Fr(i,n,r,l,d,h){return new Promise((f,g)=>{i(r,Ub(n,l,d,h)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Cb(p,g,l))})}async function Qr(i,n,r,l){return Fr(i,"GET",n,r,l)}async function ca(i,n,r,l,d){return Fr(i,"POST",n,l,d,r)}async function uu(i,n,r,l,d){return Fr(i,"PUT",n,l,d,r)}async function Db(i,n,r,l){return Fr(i,"HEAD",n,ce(ce({},r),{},{noResolveJson:!0}),l)}async function xu(i,n,r,l,d){return Fr(i,"DELETE",n,l,d,r)}var zb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};let c0;c0=Symbol.toStringTag;var Mb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[c0]="BlobDownloadBuilder",this.promise=null}asStream(){return new zb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};const Bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Lb=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=r,this.fetch=vu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,r,l){var d=this;try{let h;const f=ce(ce({},Dm),l);let g=ce(ce({},d.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",d.encodeMetadata(p)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),p&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(p))):(h=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=d.toBase64(d.encodeMetadata(p))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(g=ce(ce({},g),l.headers));const b=d._removeEmptyFolders(n),w=d._getFinalPath(b),v=await(i=="PUT"?uu:ca)(d.fetch,`${d.url}/object/${w}`,h,ce({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:b,id:v.Id,fullPath:v.Key},error:null}}catch(h){if(d.shouldThrowOnError)throw h;if(Ke(h))return{data:null,error:h};throw h}}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var d=this;const h=d._removeEmptyFolders(i),f=d._getFinalPath(h),g=new URL(d.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let p;const b=ce({upsert:Dm.upsert},l),w=ce(ce({},d.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",b.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",b.cacheControl)):(p=r,w["cache-control"]=`max-age=${b.cacheControl}`,w["content-type"]=b.contentType),{data:{path:h,fullPath:(await uu(d.fetch,g.toString(),p,{headers:w})).Key},error:null}}catch(p){if(d.shouldThrowOnError)throw p;if(Ke(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(i,n){var r=this;try{let l=r._getFinalPath(i);const d=ce({},r.headers);n?.upsert&&(d["x-upsert"]="true");const h=await ca(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:d}),f=new URL(r.url+h.url),g=f.searchParams.get("token");if(!g)throw new Tl("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;try{return{data:await ca(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async copy(i,n,r){var l=this;try{return{data:{path:(await ca(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async createSignedUrl(i,n,r){var l=this;try{let d=l._getFinalPath(i),h=await ca(l.fetch,`${l.url}/object/sign/${d}`,ce({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async createSignedUrls(i,n,r){var l=this;try{const d=await ca(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:d.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}download(i,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),d=l?`?${l}`:"",h=this._getFinalPath(i),f=()=>Qr(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new Mb(f,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);try{return{data:cu(await Qr(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await Db(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ke(l)&&l instanceof ou){const d=l.originalError;if([400,404].includes(d?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&l.push(d);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}async remove(i){var n=this;try{return{data:await xu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async list(i,n,r){var l=this;try{const d=ce(ce(ce({},Bb),n),{},{prefix:i||""});return{data:await ca(l.fetch,`${l.url}/object/list/${l.bucketId}`,d,{headers:l.headers},r),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async listV2(i,n){var r=this;try{const l=ce({},i);return{data:await ca(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const u0="2.90.1",d0={"X-Client-Info":`storage-js/${u0}`};var qb=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1;const d=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=ce(ce({},d0),n),this.fetch=vu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const r=n.listBucketOptionsToQueryString(i);return{data:await Qr(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Qr(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async createBucket(i,n={public:!1}){var r=this;try{return{data:await ca(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async updateBucket(i,n){var r=this;try{return{data:await uu(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async emptyBucket(i){var n=this;try{return{data:await ca(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await xu(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Hb=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},d0),n),this.fetch=vu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await ca(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async listBuckets(i){var n=this;try{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),d=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Qr(n.fetch,d,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await xu(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}from(i){var n=this;if(!kb(i))throw new Tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new jb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(d,g),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const yu={"X-Client-Info":`storage-js/${u0}`,"Content-Type":"application/json"};var h0=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Gt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Pc=class extends h0{constructor(i,n,r){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$b=class extends h0{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const wu=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Ib=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},zm=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Vb=async(i,n,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const l=i.status||500,d=i;if(typeof d.json=="function")d.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new Pc(zm(h),l,f))}).catch(()=>{const h=l+"";n(new Pc(d.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new Pc(d.statusText||`HTTP ${l} error`,l,h))}}else n(new $b(zm(i),i))},Gb=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return l?(Ib(l)?(d.headers=ce({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,ce(ce({},d),r)):d};async function Yb(i,n,r,l,d,h){return new Promise((f,g)=>{i(r,Gb(n,l,d,h)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const b=p.headers.get("content-type");return!b||!b.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>Vb(p,g,l))})}async function Yt(i,n,r,l,d){return Yb(i,"POST",n,l,d,r)}var Kb=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},yu),n),this.fetch=wu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async getIndex(i,n){var r=this;try{return{data:await Yt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}}async listIndexes(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async deleteIndex(i,n){var r=this;try{return{data:await Yt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}}},Jb=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},yu),n),this.fetch=wu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yt(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async getVectors(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Yt(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async queryVectors(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yt(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}},Xb=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},yu),n),this.fetch=wu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async listBuckets(i={}){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}}},Qb=class extends Xb{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new Zb(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},Zb=class extends Kb{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new Pb(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Pb=class extends Jb{constructor(i,n,r,l,d){super(i,n,d),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,ce(ce({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Wb=class extends qb{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new Lb(this.url,this.headers,i,this.fetch)}get vectors(){return new Qb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hb(this.url+"/iceberg",this.headers,this.fetch)}};const f0="2.90.1",Vs=30*1e3,du=3,Wc=du*Vs,Fb="http://localhost:9999",ev="supabase.auth.token",tv={"X-Client-Info":`gotrue-js/${f0}`},hu="X-Supabase-Api-Version",m0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},av=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nv=600*1e3;class Zr extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ne(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class sv extends Zr{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function rv(i){return ne(i)&&i.name==="AuthApiError"}class Kn extends Zr{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Ia extends Zr{constructor(n,r,l,d){super(n,l,d),this.name=r,this.status=l}}class Vt extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iv(i){return ne(i)&&i.name==="AuthSessionMissingError"}class Bs extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bl extends Ia{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class vl extends Ia{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lv(i){return ne(i)&&i.name==="AuthImplicitGrantRedirectError"}class Mm extends Ia{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ov extends Ia{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fu extends Ia{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Fc(i){return ne(i)&&i.name==="AuthRetryableFetchError"}class Bm extends Ia{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class mu extends Ia{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const _l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lm=` 	
\r=`.split(""),cv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Lm.length;n+=1)i[Lm[n].charCodeAt(0)]=-2;for(let n=0;n<_l.length;n+=1)i[_l[n].charCodeAt(0)]=n;return i})();function qm(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(_l[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(_l[l]),n.queuedBits-=6}}function p0(i,n,r){const l=cv[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Hm(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{hv(f,l,r)};for(let f=0;f<i.length;f+=1)p0(i.charCodeAt(f),d,h);return n.join("")}function uv(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function dv(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|d)+65536,r+=1}uv(l,n)}}function hv(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ks(i){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};for(let d=0;d<i.length;d+=1)p0(i.charCodeAt(d),r,l);return new Uint8Array(n)}function fv(i){const n=[];return dv(i,r=>n.push(r)),new Uint8Array(n)}function Jn(i){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};return i.forEach(d=>qm(d,r,l)),qm(null,r,l),n.join("")}function mv(i){return Math.round(Date.now()/1e3)+i}function pv(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},g0=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function gv(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return r.searchParams.forEach((l,d)=>{n[d]=l}),n}const b0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),bv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Gs=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},Vn=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ft=async(i,n)=>{await i.removeItem(n)};class kl{constructor(){this.promise=new kl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}kl.promiseConstructor=Promise;function eu(i){const n=i.split(".");if(n.length!==3)throw new mu("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!av.test(n[l]))throw new mu("JWT not in base64url format");return{header:JSON.parse(Hm(n[0])),payload:JSON.parse(Hm(n[1])),signature:Ks(n[2]),raw:{header:n[0],payload:n[1]}}}async function vv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function xv(i,n){return new Promise((l,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function yv(i){return("0"+i.toString(16)).substr(-2)}function wv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let d="";for(let h=0;h<56;h++)d+=r.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(n),Array.from(n,yv).join("")}async function _v(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),d=new Uint8Array(l);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function Sv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await _v(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(i,n,r=!1){const l=wv();let d=l;r&&(d+="/PASSWORD_RECOVERY"),await Gs(i,`${n}-code-verifier`,d);const h=await Sv(l);return[h,l===h?"plain":"s256"]}const jv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nv(i){const n=i.headers.get(hu);if(!n||!n.match(jv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Ev(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Tv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qs(i){if(!kv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tu(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Av(i,n){return new Proxy(i,{get:(r,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,d)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,d)}})}function $m(i){return JSON.parse(JSON.stringify(i))}const Gn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Ov=[502,503,504];async function Im(i){var n;if(!bv(i))throw new fu(Gn(i),0);if(Ov.includes(i.status))throw new fu(Gn(i),i.status);let r;try{r=await i.json()}catch(h){throw new Kn(Gn(h),h)}let l;const d=Nv(i);if(d&&d.getTime()>=m0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Bm(Gn(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Bm(Gn(r),i.status,r.weak_password.reasons);throw new sv(Gn(r),i.status||500,l)}const Rv=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),r))};async function oe(i,n,r,l){var d;const h=Object.assign({},l?.headers);h[hu]||(h[hu]=m0["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(d=l?.query)!==null&&d!==void 0?d:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Cv(i,n,r+g,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function Cv(i,n,r,l,d,h){const f=Rv(n,l,d,h);let g;try{g=await i(r,Object.assign({},f))}catch(p){throw console.error(p),new fu(Gn(p),0)}if(g.ok||await Im(g),l?.noResolveJson)return g;try{return await g.json()}catch(p){await Im(p)}}function oa(i){var n;let r=null;zv(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=mv(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Vm(i){const n=oa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function vn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Uv(i){return{data:i,error:null}}function Dv(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:h}=i,f=El(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:h},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function Gm(i){return i}function zv(i){return i.access_token&&i.refresh_token&&i.expires_in}const au=["global","local","others"];class Mv{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=b0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=au[0]){if(au.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${au.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=El(n,["options"]),d=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(d.new_email=l?.newEmail,delete d.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Dv,redirectTo:r?.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:vn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,d,h,f,g,p;try{const b={nextPage:null,lastPage:0,total:0},w=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Gm});if(w.error)throw w.error;const v=await w.json(),y=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(j.split(";")[1].split("=")[1]);b[`${U}Page`]=O}),b.total=parseInt(y)),{data:Object.assign(Object.assign({},v),b),error:null}}catch(b){if(ne(b))return{data:{users:[]},error:b};throw b}}async getUserById(n){qs(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:vn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){qs(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:vn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){qs(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:vn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){qs(n.userId);try{const{data:r,error:l}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:r,error:l}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(n){qs(n.userId),qs(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,d,h,f,g,p;try{const b={nextPage:null,lastPage:0,total:0},w=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Gm});if(w.error)throw w.error;const v=await w.json(),y=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(j.split(";")[1].split("=")[1]);b[`${U}Page`]=O}),b.total=parseInt(y)),{data:Object.assign(Object.assign({},v),b),error:null}}catch(b){if(ne(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function Ym(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const Hs={debug:!!(globalThis&&g0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Bv extends v0{}async function Lv(i,n,r){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,d.name);try{return await r()}finally{Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,d.name)}}else{if(n===0)throw Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Bv(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Hs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function x0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Hv(i){return parseInt(i,16)}function $v(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Iv(i){var n;const{chainId:r,domain:l,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:p,resources:b,scheme:w,uri:v,version:y}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=x0(i.address),j=w?`${w}://${l}`:l,O=i.statement?`${i.statement}
`:"",U=`${j} wants you to sign in with your Ethereum account:
${S}

${O}`;let M=`URI: ${v}
Version: ${y}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(M+=`
Expiration Time: ${d.toISOString()}`),g&&(M+=`
Not Before: ${g.toISOString()}`),p&&(M+=`
Request ID: ${p}`),b){let I=`
Resources:`;for(const D of b){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);I+=`
- ${D}`}M+=I}return`${U}
${M}`}class at extends Error{constructor({message:n,code:r,cause:l,name:d}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=d??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Sl extends at{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function Vv({error:i,options:n}){var r,l,d;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new at({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(y0(f)){if(h.rp.id!==f)return new at({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Gv({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new at({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(y0(l)){if(r.rpId!==l)return new at({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Yv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Kv=new Yv;function Jv(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,d=El(i,["challenge","user","excludeCredentials"]),h=Ks(n).buffer,f=Object.assign(Object.assign({},r),{id:Ks(r.id).buffer}),g=Object.assign(Object.assign({},d),{challenge:h,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const b=l[p];g.excludeCredentials[p]=Object.assign(Object.assign({},b),{id:Ks(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return g}function Xv(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=El(i,["challenge","allowCredentials"]),d=Ks(n).buffer,h=Object.assign(Object.assign({},l),{challenge:d});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const g=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ks(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function Qv(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Jn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Jn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Zv(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),d=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Jn(new Uint8Array(d.authenticatorData)),clientDataJSON:Jn(new Uint8Array(d.clientDataJSON)),signature:Jn(new Uint8Array(d.signature)),userHandle:d.userHandle?Jn(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function y0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Km(){var i,n;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Pv(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:Vv({error:n,options:i})}}}async function Wv(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:Gv({error:n,options:i})}}}const Fv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ex={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jl(...i){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),r=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of i)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(n(f)){const g=l[h];n(g)?l[h]=jl(g,f):l[h]=jl(f)}else l[h]=f}return l}function tx(i,n){return jl(Fv,i,n||{})}function ax(i,n){return jl(ex,i,n||{})}class nx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:d},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:g};const p=d??Kv.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:b}=f.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${l}`),b.displayName||(b.displayName=b.name)}switch(f.webauthn.type){case"create":{const b=tx(f.webauthn.credential_options.publicKey,h?.create),{data:w,error:v}=await Pv({publicKey:b,signal:p});return w?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:v}}case"request":{const b=ax(f.webauthn.credential_options.publicKey,h?.request),{data:w,error:v}=await Wv(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:b,signal:p}));return w?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:v}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Kn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!Km())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:d},{request:h});if(!f)return{data:null,error:g};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:l,credential_response:p.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Kn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!Km())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(w=>{var v;return(v=w.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:g};const{data:p,error:b}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:d},{create:h});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:b}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Kn("Unexpected error in register",f)}}}}qv();const sx={url:Fb,storageKey:ev,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Jm(i,n,r){return await r()}const $s={};class Pr{get jwks(){var n,r;return(r=(n=$s[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=$s[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},sx),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Pr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Mv({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=b0(h.fetch),this.lock=h.lock||Jm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&mt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Lv:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:g0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${f0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(mt()&&(r=gv(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),mt()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),lv(h)){const p=(n=h.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new Kn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,d;try{const h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=n?.options)===null||d===void 0?void 0:d.captchaToken}},xform:oa}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const p=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(h){if(ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,d;try{let h;if("email"in n){const{email:w,password:v,options:y}=n;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Ls(this.storage,this.storageKey)),h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:w,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:S,code_challenge_method:j},xform:oa})}else if("phone"in n){const{phone:w,password:v,options:y}=n;h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:v,data:(l=y?.data)!==null&&l!==void 0?l:{},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:oa})}else throw new bl("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:g}=n;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vm})}else if("phone"in n){const{phone:h,password:f,options:g}=n;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vm})}else throw new bl("You must provide either an email or phone number and a password");const{data:l,error:d}=r;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const h=new Bs;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,d,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,d,h,f,g,p,b,w,v,y;let S,j;if("message"in n)S=n.message,j=n.signature;else{const{chain:O,wallet:U,statement:M,options:I}=n;let D;if(mt())if(typeof U=="object")D=U;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")D=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=U}const Z=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),fe=await D.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=x0(fe[0]);let X=(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const Y=await D.request({method:"eth_chainId"});X=Hv(Y)}const ue={domain:Z.host,address:J,statement:M,uri:Z.href,version:"1",chainId:X,nonce:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=I?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(b=I?.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(w=I?.signInWithEthereum)===null||w===void 0?void 0:w.resources};S=Iv(ue),j=await D.request({method:"personal_sign",params:[$v(S),J]})}try{const{data:O,error:U}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oa});if(U)throw U;if(!O||!O.session||!O.user){const M=new Bs;return this._returnResult({data:{user:null,session:null},error:M})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:U})}catch(O){if(ne(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(n){var r,l,d,h,f,g,p,b,w,v,y,S;let j,O;if("message"in n)j=n.message,O=n.signature;else{const{chain:U,wallet:M,statement:I,options:D}=n;let Z;if(mt())if(typeof M=="object")Z=M;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))Z=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=M}const fe=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){const J=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),I?{statement:I}:null));let X;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")X=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)X=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)j=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),O=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${fe.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(d=(l=D?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=D?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((b=D?.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((v=(w=D?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||v===void 0)&&v.length?["Resources",...D.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const J=await Z.signMessage(new TextEncoder().encode(j),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=J}}try{const{data:U,error:M}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Jn(O)},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:oa});if(M)throw M;if(!U||!U.session||!U.user){const I=new Bs;return this._returnResult({data:{user:null,session:null},error:I})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:M})}catch(U){if(ne(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(n){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new ov;const{data:h,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:oa});if(await ft(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:d,access_token:h,nonce:f}=n,g=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oa}),{data:p,error:b}=g;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!p||!p.session||!p.user){const w=new Bs;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:b})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,d,h,f;try{if("email"in n){const{email:g,options:p}=n;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Ls(this.storage,this.storageKey));const{error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:b,code_challenge_method:w},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in n){const{phone:g,options:p}=n,{data:b,error:w}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=p?.data)!==null&&d!==void 0?d:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:w})}throw new bl("You must provide either an email or phone number.")}catch(g){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var r,l;try{let d,h;"options"in n&&(d=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:oa});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,b=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var r,l,d,h,f;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Ls(this.storage,this.storageKey));const b=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=n?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Uv});return!((h=b.data)===null||h===void 0)&&h.url&&mt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(g){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Vt;const{error:d}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:d,options:h}=n,{error:f}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:d,options:h}=n,{data:f,error:g}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new bl("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Wc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Vn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=tu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Av(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:vn}):await this._useSession(async r=>{var l,d,h;const{data:f,error:g}=r;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:vn})})}catch(r){if(ne(r))return iv(r)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:d,error:h}=l;if(h)throw h;if(!d.session)throw new Vt;const f=d.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await Ls(this.storage,this.storageKey));const{data:b,error:w}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:vn});if(w)throw w;return f.user=b.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Vt;const r=Date.now()/1e3;let l=r,d=!0,h=null;const{payload:f}=eu(n.access_token);if(f.exp&&(l=f.exp,d=l<=r),d){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:g}=r;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Vt;const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!mt())throw new vl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new vl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Mm("No code detected.");const{data:I,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:g,expires_at:p,token_type:b}=n;if(!h||!g||!f||!b)throw new vl("No session defined in URL");const w=Math.round(Date.now()/1e3),v=parseInt(g);let y=w+v;p&&(y=parseInt(p));const S=y-w;S*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const j=y-v;w-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,w):w-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,w);const{data:O,error:U}=await this._getUser(h);if(U)throw U;const M={provider_token:l,provider_refresh_token:d,access_token:h,expires_in:v,expires_at:y,refresh_token:f,token_type:b,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:n.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=d.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(rv(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=pv(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,d;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Ls(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:d}=await this._useSession(async h=>{var f,g,p,b,w;const{data:v,error:y}=h;if(y)throw y;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",S,{headers:this.headers,jwt:(w=(b=v.session)===null||b===void 0?void 0:b.access_token)!==null&&w!==void 0?w:void 0})});if(d)throw d;return mt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:d,data:{session:h}}=r;if(d)throw d;const{options:f,provider:g,token:p,access_token:b,nonce:w}=n,v=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:p,access_token:b,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:oa}),{data:y,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:S}))}catch(d){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,d;const{data:h,error:f}=r;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await xv(async d=>(d>0&&await vv(200*Math.pow(2,d-1)),this._debug(r,"refreshing attempt",d),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:oa})),(d,h)=>{const f=200*Math.pow(2,d);return h&&Fc(h)&&Date.now()+f-l<Vs})}catch(l){if(this._debug(r,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),mt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await Vn(this.storage,this.storageKey);if(d&&this.userStorage){let f=await Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Gs(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f?.user)!==null&&n!==void 0?n:tu()}else if(d&&!d.user&&!d.user){const f=await Vn(this.storage,this.storageKey+"-user");f&&f?.user?(d.user=f.user,await ft(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,d)):d.user=tu()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const h=((r=d.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wc;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Wc}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),Fc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(d.access_token);!g&&f?.user?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new kl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Vt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(d,"error",h),ne(h)){const f={data:null,error:h};return Fc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,r,l=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,r)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:r.user});const d=Object.assign({},r);delete d.user;const h=$m(d);await Gs(this.storage,this.storageKey,h)}else{const d=$m(r);await Gs(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-n)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Vs}ms, refresh threshold is ${du} ticks`),d<=du&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof v0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const d=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await Ls(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(g.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);d.push(h.toString())}return l?.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;return h?this._returnResult({data:null,error:h}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,d;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:b}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return b?this._returnResult({data:null,error:b}):(n.factorType==="totp"&&p.type==="totp"&&(!((d=p?.totp)===null||d===void 0)&&d.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Qv(n.webauthn.credential_response):Zv(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Jv(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Xv(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=eu(l.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const b=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Vt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&mt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Vt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&mt()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(g=>g.kid===n);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+nv>d)return l;const{data:h,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,l=h.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});l=S.session.access_token}const{header:d,payload:h,signature:f,raw:{header:g,payload:p}}=eu(l);r?.allowExpired||Ev(h.exp);const b=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!b){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:h,header:d,signature:f},error:null}}const w=Tv(d.alg),v=await crypto.subtle.importKey("jwk",b,w,!0,["verify"]);if(!await crypto.subtle.verify(w,v,f,fv(`${g}.${p}`)))throw new mu("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Pr.nextInstanceID={};const rx=Pr,ix="2.90.1";let Gr="";typeof Deno<"u"?Gr="deno":typeof document<"u"?Gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gr="react-native":Gr="node";const lx={"X-Client-Info":`supabase-js-${Gr}/${ix}`},ox={headers:lx},cx={schema:"public"},ux={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dx={};function Wr(i){"@babel/helpers - typeof";return Wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wr(i)}function hx(i,n){if(Wr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Wr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function fx(i){var n=hx(i,"string");return Wr(n)=="symbol"?n:n+""}function mx(i,n,r){return(n=fx(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Xm(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),r.push.apply(r,l)}return r}function Qe(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Xm(Object(r),!0).forEach(function(l){mx(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Xm(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const px=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),gx=()=>Headers,bx=(i,n,r)=>{const l=px(r),d=gx();return async(h,f)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let b=new d(f?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${p}`),l(h,Qe(Qe({},f),{},{headers:b}))}};function vx(i){return i.endsWith("/")?i:i+"/"}function xx(i,n){var r,l;const{db:d,auth:h,realtime:f,global:g}=i,{db:p,auth:b,realtime:w,global:v}=n,y={db:Qe(Qe({},p),d),auth:Qe(Qe({},b),h),realtime:Qe(Qe({},w),f),storage:{},global:Qe(Qe(Qe({},v),g),{},{headers:Qe(Qe({},(r=v?.headers)!==null&&r!==void 0?r:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?y.accessToken=i.accessToken:delete y.accessToken,y}function yx(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vx(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wx=class extends rx{constructor(i){super(i)}},_x=class{constructor(i,n,r){var l,d;this.supabaseUrl=i,this.supabaseKey=n;const h=yx(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:cx,realtime:dx,auth:Qe(Qe({},ux),{},{storageKey:f}),global:ox},p=xx(r??{},g);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=p.auth)!==null&&b!==void 0?b:{},this.headers,p.global.fetch)}this.fetch=bx(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new tb(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Wb(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Zg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,storageKey:h,flowType:f,lock:g,debug:p,throwOnError:b},w,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wx({url:this.authUrl.href,headers:Qe(Qe({},y),w),storageKey:h,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,flowType:f,lock:g,debug:p,throwOnError:b,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new vb(this.realtimeUrl.href,Qe(Qe({},i),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sx=(i,n,r)=>new _x(i,n,r);function jx(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}jx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nx="https://rzyscsvzentuplsgoipv.supabase.co",Ex="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6eXNjc3Z6ZW50dXBsc2dvaXB2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0ODgwNTAsImV4cCI6MjA4NDA2NDA1MH0.5n-iXvz7L3VgGhr20l54AQ_HScFmYStEu9co2gElKsU",W=Sx(Nx,Ex),Tx={login:async(i,n)=>{const{data:r,error:l}=await W.auth.signInWithPassword({email:i,password:n});if(l)return{user:null,error:l.message};if(!r.user)return{user:null,error:"No user data"};const{data:d}=await W.from("profiles").select("*").eq("id",r.user.id).single();return d?{user:{id:d.id,username:d.username,role:d.role,tokens:d.tokens,email:r.user.email,createdAt:d.created_at,avatarUrl:d.avatar_url,wins1x2:d.wins_1x2,winsSurvival:d.wins_survival,level:d.level,predictionAccuracy:d.prediction_accuracy,betsPlaced:d.bets_placed,totalTokensWon:d.total_tokens_won,totalPoints:d.total_points},error:null}:{user:null,error:"Profile not found"}},signUp:async(i,n,r)=>{const{data:l,error:d}=await W.auth.signUp({email:n,password:r,options:{data:{username:i}}});return d?{user:null,error:d.message}:l.user?{user:{id:l.user.id,username:i,role:"USER",tokens:100,email:l.user.email,wins1x2:0,winsSurvival:0,level:1,predictionAccuracy:0,betsPlaced:0,totalTokensWon:0,totalPoints:0},error:null}:{user:null,error:"Signup failed"}},logout:async()=>{await W.auth.signOut()},getCurrentUser:async()=>{const{data:{user:i}}=await W.auth.getUser();if(!i)return null;const{data:n}=await W.from("profiles").select("*").eq("id",i.id).single();return n?{id:n.id,username:n.username,role:n.role,tokens:n.tokens,email:i.email,createdAt:n.created_at,avatarUrl:n.avatar_url,wins1x2:n.wins_1x2,winsSurvival:n.wins_survival,level:n.level,predictionAccuracy:n.prediction_accuracy,betsPlaced:n.bets_placed,totalTokensWon:n.total_tokens_won,totalPoints:n.total_points}:null},updateProfile:async(i,n)=>{const{data:{user:r}}=await W.auth.getUser();if(!r)return{success:!1,message:"Non loggato"};const l={username:i,updated_at:new Date().toISOString()};n&&(l.avatar_url=n);const{error:d}=await W.from("profiles").update(l).eq("id",r.id);return d?{success:!1,message:d.message}:{success:!0,message:"Profilo aggiornato con successo"}},uploadAvatar:async i=>{const{data:{user:n}}=await W.auth.getUser();if(!n)return{success:!1,message:"Non loggato"};const r=i.name.split(".").pop(),l=`${Math.random()}.${r}`,d=`${n.id}/${l}`,{error:h}=await W.storage.from("avatars").upload(d,i);if(h)return{success:!1,message:"Caricamento fallito: "+h.message};const{data:{publicUrl:f}}=W.storage.from("avatars").getPublicUrl(d);return{success:!0,url:f,message:"Immagine caricata"}},getAllUsers:async()=>{const{data:i,error:n}=await W.from("profiles").select("id, username, email, tokens, role, created_at").order("created_at",{ascending:!1});return n?(console.error("Error fetching users:",n),[]):i||[]},updateUserTokens:async(i,n)=>{const{data:r}=await W.from("profiles").select("tokens").eq("id",i).single();if(!r)return!1;const l=Math.max(0,(r.tokens||0)+n),{error:d}=await W.from("profiles").update({tokens:l}).eq("id",i);return!d},deleteUserProfile:async i=>{const{error:n}=await W.rpc("delete_user_by_admin",{target_user_id:i});return n?(console.error("Error deleting user:",n),!1):!0},updateUserRole:async(i,n)=>{const{error:r}=await W.rpc("update_user_role",{target_user_id:i,new_role:n});return r?(console.error("Error updating role:",r),!1):!0},syncEmails:async()=>{await W.rpc("sync_user_emails")}},_u={getSurvivalState:async()=>{const{data:i}=await W.from("survival_seasons").select("*").in("status",["OPEN","ACTIVE"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(console.log("[getSurvivalState] Current Active Season:",i),!i)return{season:null,players:[]};console.log("[getSurvivalState] Fetching players for season:",i.id);const{data:n,error:r}=await W.from("survival_players").select("*, profiles(username, avatar_url, tokens)").eq("season_id",i.id);r&&console.error("Error fetching survival players:",r),console.log("Raw players from DB:",n);const l=await xt.getMatchday();let d=[];if(l){const{data:p}=await W.from("survival_picks").select("player_id, team, result").eq("matchday_id",l.id);d=p||[]}const h=(n||[]).map(p=>{const b=d.find(v=>v.player_id===p.id),w=Array.isArray(p.profiles)?p.profiles[0]:p.profiles;return{id:p.id,userId:p.user_id,username:w?.username||"Sconosciuto",avatarUrl:w?.avatar_url,tokens:w?.tokens||0,status:p.status||"ALIVE",usedTeams:p.used_teams||[],eliminatedAt:p.eliminated_at_matchday,currentPick:b?.team}}),{data:{user:f}}=await W.auth.getUser();let g;if(f&&l){const p=h.find(b=>b.userId===f.id||b.username===f.user_metadata?.username);if(console.log('[getSurvivalState] Finding "Me":',p),p&&p.currentPick){const b=d.find(w=>w.player_id===p.id);b&&(g={myPick:b.team,myStatus:b.result})}}return{season:{id:i.id,status:i.status,prizePool:i.prize_pool,startMatchdayId:i.start_matchday_id,currentMatch:g},players:h}},joinSurvival:async i=>{const{data:n,error:r}=await W.rpc("join_survival",{p_season_id:i});return r?{success:!1,message:r.message}:n},submitSurvivalPick:async(i,n)=>{const{data:r,error:l}=await W.rpc("submit_survival_pick",{p_season_id:i,p_team:n});return l?{success:!1,message:l.message}:r},processSurvivalRound:async i=>{const n=await xt.getMatchday();if(!n||n.id!==i)return{success:!1,message:"Matchday not found or not active"};const{season:r,players:l}=await _u.getSurvivalState();if(!r)return{success:!1,message:"No active season"};const{data:d}=await W.from("survival_picks").select("*").eq("matchday_id",i);if(!d)return{success:!1,message:"No picks found"};const h=[];let f=0;for(const p of l){if(p.status==="ELIMINATED")continue;const b=d.find(j=>j.player_id===p.id);if(!b){h.push(p.id);continue}const w=n.matches.findIndex(j=>j.home===b.team||j.away===b.team);if(w===-1){console.warn(`Player ${p.username} picked team ${b.team} not found in matchday.`);continue}const v=n.results[w];if(!v)return{success:!1,message:"Not all matches have results"};const y=n.matches[w];y.home===b.team&&v==="1"||y.away===b.team&&v==="2"?f++:h.push(p.id)}if(h.length>0){const{error:p}=await W.rpc("eliminate_survival_players",{p_player_ids:h});if(p)return{success:!1,message:p.message}}const{error:g}=await W.rpc("update_survivors_teams",{p_matchday_id:i});return g?(console.error("Failed to update survivor teams",g),{success:!1,message:"Round processed but failed to update survivor teams"}):{success:!0,message:"Round processed",eliminated:h.length,advanced:f}},closeSurvivalSeason:async i=>{const{data:n,error:r}=await W.rpc("close_survival_season",{p_season_id:i});return r?{success:!1,message:r.message}:n},startNewSurvivalSeason:async()=>{const{data:i,error:n}=await W.rpc("start_new_survival_season");return n?{success:!1,message:n.message}:i}},xt={getMatchday:async()=>{const{data:i,error:n}=await W.from("matchdays").select("*").eq("status","OPEN").order("id",{ascending:!1}).limit(1).single();return n||!i?null:{id:i.id,matches:i.matches,results:i.results,superJackpot:i.super_jackpot,currentPot:i.current_pot,rolloverPot:i.rollover_pot,status:i.status,deadline:i.deadline,betsLocked:i.bets_locked||!1,winners:i.winners||[],winnerAnimation:i.winner_animation||!1,leaderboardAnimation:i.leaderboard_animation||!1}},getArchivedMatchdays:async()=>{const{data:i}=await W.from("matchdays").select("*").eq("status","ARCHIVED").order("id",{ascending:!1});return i?i.map(n=>({id:n.id,matches:n.matches,results:n.results,superJackpot:n.super_jackpot,currentPot:n.current_pot,rolloverPot:n.rollover_pot,status:n.status,deadline:n.deadline,betsLocked:n.bets_locked||!1,winners:n.winners||[],winnerAnimation:n.winner_animation||!1,leaderboardAnimation:n.leaderboard_animation||!1})):[]},getGlobalRanking:async()=>{const{data:i}=await W.from("profiles").select("username, total_points, avatar_url").order("total_points",{ascending:!1}).limit(100);return i?i.map(n=>({username:n.username,totalPoints:n.total_points||0,avatarUrl:n.avatar_url})):[]},getAllBets:async()=>{const{data:i}=await W.from("bets").select(`
                *,
                profiles (username, avatar_url, level)
            `);return i?i.map(n=>{const r=Array.isArray(n.profiles)?n.profiles[0]:n.profiles;return{id:n.id,username:r?.username||"Sconosciuto",avatarUrl:r?.avatar_url,level:r?.level||1,matchdayId:n.matchday_id,predictions:n.predictions,includeSuperJackpot:n.include_super_jackpot,timestamp:n.created_at||new Date().toISOString()}}):[]},getUserBet:async i=>{const n=await xt.getMatchday();if(!n)return;const{data:r}=await W.from("profiles").select("id").eq("username",i).single();if(!r)return;const{data:l}=await W.from("bets").select("*").eq("user_id",r.id).eq("matchday_id",n.id).maybeSingle();if(l)return{id:l.id,username:i,matchdayId:l.matchday_id,predictions:l.predictions,includeSuperJackpot:l.include_super_jackpot,timestamp:l.created_at||new Date().toISOString()}},placeBet:async(i,n)=>{const{data:{user:r}}=await W.auth.getUser();if(!r)return{success:!1,message:"Not logged in"};const l=await xt.getMatchday();if(!l)return{success:!1,message:"No active matchday"};if(l.deadline){const p=new Date(l.deadline).getTime();if(isNaN(p)||Date.now()>=p)return{success:!1,message:"Scommesse chiuse per la giornata (deadline raggiunta)."}}const d=n?2:1,{data:h}=await W.from("profiles").select("tokens").eq("id",r.id).single();if(!h||h.tokens<d)return{success:!1,message:"Insufficient tokens"};const{error:f}=await W.from("profiles").update({tokens:h.tokens-d}).eq("id",r.id);if(f)return{success:!1,message:"Token deduction failed"};await W.from("matchdays").update({current_pot:l.currentPot+1}).eq("id",l.id);const{error:g}=await W.from("bets").insert({user_id:r.id,matchday_id:l.id,predictions:i,include_super_jackpot:n});return g?{success:!1,message:g.message}:{success:!0,message:n?"Schedina + SuperJackpot Giocata!":"Schedina Base Giocata!"}},createMatchday:async()=>{const{data:i,error:n}=await W.rpc("admin_create_matchday");return n?{success:!1,message:n.message}:i},updateMatch:async(i,n)=>{const r=await xt.getMatchday();if(!r)return;const l=[...r.matches];l[i]=n,await W.from("matchdays").update({matches:l}).eq("id",r.id)},updateMatchResult:async(i,n)=>{const r=await xt.getMatchday();if(!r)return;const l=[...r.results];l[i]=n,await W.from("matchdays").update({results:l}).eq("id",r.id)},updateSuperJackpot:async i=>{const n=await xt.getMatchday();n&&await W.from("matchdays").update({super_jackpot:i}).eq("id",n.id)},updateDeadline:async i=>{const n=await xt.getMatchday();n&&await W.from("matchdays").update({deadline:i}).eq("id",n.id)},setBetLock:async i=>{const n=await xt.getMatchday();if(!n)return{success:!1,message:"No active matchday"};const{error:r}=await W.from("matchdays").update({bets_locked:i}).eq("id",n.id);return r?{success:!1,message:r.message}:{success:!0}},resetMatchday:async()=>{const i=await xt.getMatchday();i&&(await W.from("matchdays").update({results:Array(12).fill(null)}).eq("id",i.id),await W.from("bets").delete().eq("matchday_id",i.id))},archiveMatchday:async()=>{const i=await xt.getMatchday();if(!i)return{success:!1,message:"Nessuna giornata attiva"};let n;try{console.log("Auto-processing Survival Round...");const w=await _u.processSurvivalRound(i.id);w.success?(console.log("Survival Round Processed:",w),n={eliminated:w.eliminated||0,advanced:w.advanced||0}):console.warn("Survival Process Warning:",w.message)}catch(w){console.error("Survival Process Error:",w)}try{console.log("Resolving Duels...");const{error:w}=await W.rpc("resolve_matchday_duels",{p_matchday_id:i.id});w?console.error("Duel Resolution Error:",w):console.log("Duels resolved successfully.")}catch(w){console.error("Duel Resolution Exception:",w)}const l=(await xt.getAllBets()).filter(w=>w.matchdayId===i.id);let d=0;l.forEach(w=>{let v=0;i.results.forEach((y,S)=>{y&&y===w.predictions[S]&&v++}),v>d&&(d=v)});const h=i.currentPot||0,f=i.superJackpot||0;let g=0,p="",b=[];if(d>=7){console.log("WINNER(S) FOUND");const w=l.filter(O=>{let U=0;return i.results.forEach((M,I)=>{M&&M===O.predictions[I]&&U++}),U===d}),v=w.length,y=Math.floor(h+f),S=v>0?Math.floor(y/v):0,j=v>0?y%v:y;b=w.map(O=>O.username);for(const O of b){const{data:U}=await W.from("profiles").select("id, tokens, wins1x2, total_tokens_won").eq("username",O).single();if(!U)continue;const M=(U.tokens||0)+S,I=(U.wins1x2||0)+1,D=(U.total_tokens_won||0)+S;await W.from("profiles").update({tokens:M,wins1x2:I,total_tokens_won:D}).eq("id",U.id)}g=0,p=`VINCITORI: ${b.join(", ")}  ${S} token${v>1?" ciascuno":""} (bruciati: ${j})`}else console.log("NO WINNER, ROLLOVER"),p="NESSUN VINCITORE (Rollover)",g=h;for(const w of l){let v=0;if(i.results.forEach((y,S)=>{y&&y===w.predictions[S]&&v++}),v>0){const{data:y}=await W.from("profiles").select("total_points").eq("username",w.username).single(),S=y?.total_points||0;await W.from("profiles").update({total_points:S+v}).eq("username",w.username)}}return await W.from("matchdays").update({status:"ARCHIVED",rollover_pot:g,current_pot:(g>0,0),super_jackpot:0,winners:b,winner_animation:b.length>0,leaderboard_animation:b.length>0}).eq("id",i.id),{success:!0,message:`Giornata Archiviata. ${p}`,survivalStats:n}},resetSystem:async()=>{const{error:i}=await W.rpc("reset_fanny_system");return i?{success:!1,message:i.message}:{success:!0,message:"Sistema resettato con successo. Tutti i dati di gioco sono stati ripuliti."}}},kx={getChallengeableUsers:async()=>{const i=await xt.getMatchday();if(!i)return[];const{data:n,error:r}=await W.rpc("get_challengeable_users",{p_matchday_id:i.id});return r?(console.error("Error fetching opponents:",r),[]):(n||[]).map(l=>({id:l.id,username:l.username,avatarUrl:l.avatar_url}))},createDuel:async(i,n=0)=>{const{data:{user:r}}=await W.auth.getUser();if(!r)return{success:!1,message:"Non loggato"};const l=await xt.getMatchday();if(!l)return{success:!1,message:"Nessuna giornata attiva"};const{error:d}=await W.from("duels").insert({matchday_id:l.id,challenger_id:r.id,opponent_id:i,status:"PENDING",wager_amount:n});return d?{success:!1,message:d.message}:{success:!0,message:"Sfida inviata!"}},getMyDuels:async()=>{const{data:{user:i}}=await W.auth.getUser();if(!i)return[];const{data:n,error:r}=await W.from("duels").select(`
                *,
                challenger:profiles!challenger_id(id, username, avatar_url),
                opponent:profiles!opponent_id(id, username, avatar_url)
            `).or(`challenger_id.eq.${i.id},opponent_id.eq.${i.id}`).order("created_at",{ascending:!1});return r?(console.error("Error fetching duels:",r),[]):(n||[]).map(l=>({id:l.id,matchdayId:l.matchday_id,challenger:{id:l.challenger.id,username:l.challenger.username,avatarUrl:l.challenger.avatar_url},opponent:{id:l.opponent.id,username:l.opponent.username,avatarUrl:l.opponent.avatar_url},status:l.status,scores:l.scores?{challenger_score:l.scores.challenger_score??0,opponent_score:l.scores.opponent_score??0}:void 0,winnerId:l.winner_id,wagerAmount:l.wager_amount||0,createdAt:l.created_at}))},respondToDuel:async(i,n)=>{const r=n?"ACCEPTED":"DECLINED",{error:l}=await W.from("duels").update({status:r}).eq("id",i);return l?{success:!1,message:l.message}:{success:!0,message:n?"Sfida Accettata!":"Sfida Rifiutata"}},getAllDuels:async()=>{const i=await xt.getMatchday();if(!i)return[];const{data:n,error:r}=await W.from("duels").select(`
                *,
                challenger:profiles!challenger_id(id, username, avatar_url),
                opponent:profiles!opponent_id(id, username, avatar_url)
            `).eq("matchday_id",i.id).order("created_at",{ascending:!1});return r?(console.error("Error fetching all duels:",r),[]):(n||[]).map(l=>({id:l.id,matchdayId:l.matchday_id,challenger:{id:l.challenger.id,username:l.challenger.username,avatarUrl:l.challenger.avatar_url},opponent:{id:l.opponent.id,username:l.opponent.username,avatarUrl:l.opponent.avatar_url},status:l.status,scores:l.scores?{challenger_score:l.scores.challenger_score??0,opponent_score:l.scores.opponent_score??0}:void 0,winnerId:l.winner_id,wagerAmount:l.wager_amount||0,createdAt:l.created_at}))},updateDuelScores:async(i,n)=>{const{error:r}=await W.from("duels").update({scores:n}).eq("id",i);return r?(console.error("Error updating duel scores:",r),{success:!1,message:r.message}):{success:!0}}},re={...Tx,...xt,..._u,...kx},Ax=({onLogin:i})=>{const[n,r]=V.useState(!0),[l,d]=V.useState(""),[h,f]=V.useState(""),[g,p]=V.useState(""),[b,w]=V.useState(null),[v,y]=V.useState(!1),[S,j]=V.useState(!1),[O,U]=V.useState(null),M=async I=>{I.preventDefault(),w(null),y(!0);try{if(n){const{user:D,error:Z}=await re.login(l,h);if(Z)throw new Error(Z);D&&i(D)}else{if(!g.trim())throw new Error("Username richiesto");const{user:D,error:Z}=await re.signUp(g,l,h);if(Z)throw new Error(Z);D&&(U(D),j(!0))}}catch(D){w(D instanceof Error?D.message:"Errore sconosciuto")}finally{y(!1)}};return S&&O?c.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-black/90 backdrop-blur-md overflow-hidden animate-fade-in",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-orange/10 blur-[100px] animate-pulse-slow"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-brand-purple/10 blur-[100px] animate-pulse-slow"})]}),c.jsxs("div",{className:"relative z-10 text-center space-y-8 animate-[popIn_0.8s_ease-out_forwards]",children:[c.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-brand-gold via-brand-orange to-brand-purple rounded-3xl flex items-center justify-center shadow-[0_0_50px_rgba(255,106,0,0.5)] rotate-12 animate-float",children:c.jsx("span",{className:"text-5xl",children:""})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-4xl md:text-7xl font-display font-black italic tracking-tighter leading-none text-white uppercase drop-shadow-[0_0_20px_rgba(255,255,255,0.4)]",children:"COMPLIMENTI!"}),c.jsx("div",{className:"h-0.5 w-32 mx-auto bg-gradient-to-r from-transparent via-brand-gold to-transparent"}),c.jsx("p",{className:"text-2xl md:text-5xl font-display font-black italic tracking-tight uppercase leading-none bg-gradient-to-r from-brand-gold via-white to-brand-gold bg-[length:200%_auto] text-transparent bg-clip-text animate-[shimmerText_3s_linear_infinite]",children:"ORA SEI UN FANNIES"})]}),c.jsxs("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-xs md:text-sm",children:["Prepara le tue scommesse, ",O.username,"."]}),c.jsx("button",{onClick:()=>i(O),className:"btn-primary !px-16 !text-2xl !py-6 !rounded-[2rem] shadow-[0_0_40px_rgba(255,106,0,0.3)] hover:shadow-[0_0_60px_rgba(255,106,0,0.5)] transition-all hover:scale-105",children:"ENTRA NELL'ARENA"})]})]}):c.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] animate-fade-in",children:c.jsxs("div",{className:"glass-panel w-full max-w-md p-8 text-center relative overflow-hidden group border border-white/10",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-orange to-brand-purple"}),c.jsx("h2",{className:"text-3xl font-display font-bold mb-2 text-white",children:n?"BENTORNATO":"CREA ACCOUNT"}),c.jsx("p",{className:"text-gray-400 text-sm mb-8",children:n?"Inserisci le credenziali per entrare.":"Registrati per iniziare a giocare."}),b&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded mb-4 text-sm font-bold",children:[" ",b]}),c.jsxs("form",{onSubmit:M,className:"space-y-4 text-left",children:[!n&&c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Username"}),c.jsx("input",{type:"text",placeholder:"Il tuo nome in campo...",value:g,onChange:I=>p(I.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-700 focus:outline-none focus:border-brand-orange transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Email"}),c.jsx("input",{type:"email",placeholder:"tu@esempio.com",value:l,onChange:I=>d(I.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-700 focus:outline-none focus:border-brand-orange transition-colors",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Password"}),c.jsx("input",{type:"password",placeholder:"******",value:h,onChange:I=>f(I.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-700 focus:outline-none focus:border-brand-orange transition-colors",required:!0})]}),c.jsx("button",{type:"submit",disabled:v,className:"w-full btn-primary py-4 mt-6 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:v?"CARICAMENTO...":n?"ENTRA IN CAMPO":"ISCRIVITI ORA"})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:c.jsx("button",{onClick:()=>{r(!n),w(null)},className:"text-sm text-gray-400 hover:text-white transition-colors underline",children:n?"Non hai un account? Registrati":"Hai gi un account? Accedi"})})]})})},Ox=({matchday:i,userBet:n,user:r,onBetPlaced:l,onViewChange:d})=>{const[h,f]=V.useState(Array(12).fill("")),[g,p]=V.useState(!1),[b,w]=V.useState(""),v=(S,j)=>{f(O=>{const U=[...O];return U[S]=j,U})},y=async S=>{if(h.some(O=>O==="")){w("Devi completare tutti i pronostici!");return}p(!0);const j=await re.placeBet(h,S);w(j.message),p(!1),j.success&&l()};return c.jsxs("div",{className:"space-y-6 md:space-y-12 animate-fade-in pb-20 bg-gradient-to-br from-[#2d1b4d] via-[#120a1f] to-black min-h-screen p-0 md:p-10 border border-white/5",children:[n&&c.jsx("div",{className:"flex justify-center px-4 md:px-0",children:c.jsxs("button",{onClick:()=>d("SPY"),className:"glass-card card-bright-yellow !py-1.5 !px-4 flex items-center gap-2 rounded-full border-acid-glow/40 bg-acid-glow/10 hover:bg-acid-glow/20 transition-all group shadow-[0_0_20px_rgba(191,255,0,0.2)]",children:[c.jsx("span",{className:"relative flex h-2 w-2",children:c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-acid-glow"})}),c.jsxs("span",{className:"text-[10px] md:text-xs font-mono font-black text-acid-glow uppercase tracking-widest leading-none",children:["GIOCATA ATTIVA RILEVATA ",c.jsx("span",{className:"text-white/40 ml-1",children:"|"})," ",c.jsx("span",{className:"text-white group-hover:text-acid-glow transition-colors ml-1",children:"VEDI DETTAGLI"})]}),c.jsx("span",{className:"text-xs group-hover:translate-x-1 transition-transform",children:""})]})}),c.jsxs("div",{className:"glass-panel !bg-black/40 !p-1 md:!p-12 border-0 md:border-2 border-white/10 shadow-[0_0_50px_rgba(157,0,255,0.15)]",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12 px-4 md:px-0 mt-6 md:mt-0",children:[c.jsx("div",{className:"bg-acid-glow px-6 py-2 md:py-3 skew-x-[-12deg] shadow-[0_0_30px_rgba(191,255,0,0.4)]",children:c.jsxs("h3",{className:"text-2xl md:text-4xl font-display font-black italic tracking-tighter text-black skew-x-[12deg]",children:["ARENA ",c.jsx("span",{className:"text-black/60",children:"1X2"})]})}),c.jsxs("div",{className:"flex items-center gap-4 bg-white/5 px-6 py-2 rounded-2xl border border-white/10 overflow-x-auto whitespace-nowrap",children:[c.jsx("span",{className:"text-[10px] font-mono text-gray-500 uppercase tracking-widest",children:"MONTEPREMI"}),c.jsxs("span",{className:"text-xl md:text-2xl font-mono font-black text-brand-gold",children:[i.currentPot," FTK"]})]})]}),c.jsx("div",{className:"flex flex-col gap-1.5 md:gap-3",children:i.matches.map((S,j)=>c.jsxs("div",{className:`relative overflow-hidden p-6 md:p-6 rounded-none md:rounded-lg border-y md:border-2 transition-all duration-500 group ${j>=10?"bg-brand-purple/20 border-brand-purple/40 hover:border-brand-purple":"bg-white/[0.03] border-white/5 md:border-white/10 hover:border-white/30"}`,children:[c.jsxs("div",{className:"absolute top-3 left-6 text-[#00a2ff] font-mono text-[9px] font-black tracking-widest drop-shadow-[0_0_8px_#00a2ff] opacity-80 uppercase",children:["MATCH_",j+1]}),c.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-12 mt-4 px-0 md:px-8",children:[c.jsx("div",{className:"flex-1 text-right",children:c.jsx("h4",{className:`text-[14px] md:text-xl font-display font-black italic uppercase tracking-tight leading-none ${j>=10?"text-brand-purple":"text-white"}`,children:S.home})}),c.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[c.jsx("div",{className:"w-5 md:w-10 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent mb-1"}),c.jsx("span",{className:"text-[9px] font-mono text-gray-500 font-bold tracking-tighter",children:"VS"}),c.jsx("div",{className:"w-5 md:w-10 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent mt-1"})]}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("h4",{className:`text-[14px] md:text-xl font-display font-black italic uppercase tracking-tight leading-none ${j>=10?"text-brand-purple":"text-white"}`,children:S.away})})]}),c.jsx("div",{className:"flex justify-center gap-2 md:gap-6 mt-6",children:["1","X","2"].map(O=>c.jsx("button",{onClick:()=>v(j,O),className:`w-full max-w-[125px] h-10 md:h-12 rounded-md text-sm md:text-xl font-mono font-black transition-all duration-300 border-2 ${h[j]===O?"bg-acid-glow text-black border-acid-glow shadow-[0_0_15px_#bfff00] scale-105":"bg-black/60 text-gray-400 border-white/5 hover:border-white/30 hover:text-white"}`,children:O},O))})]},j))}),c.jsxs("div",{className:"mt-8 p-6 md:p-10 border-t border-white/10 flex flex-col items-center gap-6 bg-black/40",children:[b&&c.jsx("div",{className:`text-center text-[10px] md:text-base font-mono font-black uppercase tracking-[0.2em] px-6 py-4 rounded-2xl border-2 animate-bounce ${b.includes("Giocata")?"text-acid-glow border-acid-glow/40 bg-acid-glow/5":"text-red-500 border-red-500/40 bg-red-500/5"}`,children:b}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-3xl",children:[c.jsxs("button",{onClick:()=>y(!1),disabled:g||(r?.tokens||0)<1,className:`py-4 md:py-6 rounded-2xl text-lg md:text-xl font-display font-black italic tracking-tighter uppercase transition-all hover:scale-[0.98] active:scale-95 shadow-[0_0_20px_rgba(255,204,0,0.2)] relative overflow-hidden group ${g||(r?.tokens||0)<1?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50":"bg-brand-gold text-black border-2 border-white/20"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 pointer-events-none"}),g?"...":"MONTEPREMI 1FT"]}),c.jsxs("button",{onClick:()=>y(!0),disabled:g||(r?.tokens||0)<2,className:`py-4 md:py-6 rounded-2xl text-lg md:text-xl font-display font-black italic tracking-tighter uppercase transition-all hover:scale-[0.98] active:scale-95 shadow-[0_0_30px_rgba(185,242,255,0.4)] relative overflow-hidden group ${g||(r?.tokens||0)<2?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50":"bg-gradient-to-r from-brand-diamond via-white to-brand-diamond text-black border-2 border-white/20"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-white/40 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 pointer-events-none"}),g?"...":"SUPERJACKPOT 2FT"]})]})]})]})]})},Rx=({matchday:i})=>{const[n,r]=V.useState([]),[l,d]=V.useState([]),[h,f]=V.useState("CURRENT"),[g,p]=V.useState(null);V.useEffect(()=>{re.getAllBets().then(r),re.getArchivedMatchdays().then(d)},[i,h]);const b=h==="CURRENT"?i:g||i,w=n.filter(y=>y.matchdayId===b.id),v=(y,S)=>{let j=0,O=0;return y.forEach((U,M)=>{S[M]&&(O++,U===S[M]&&j++)}),O>0?Math.round(j/O*100):0};return c.jsxs("div",{className:"space-y-8 animate-fade-in pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[c.jsx("div",{className:"bg-acid-glow px-8 py-2 md:py-3 skew-x-[-12deg] shadow-[0_0_30px_rgba(191,255,0,0.4)] inline-block self-start",children:c.jsx("h3",{className:"text-2xl md:text-3xl font-display font-black italic tracking-tighter text-black skew-x-[12deg] uppercase",children:"I FANNIES"})}),c.jsxs("div",{className:"flex bg-black/60 rounded-xl p-1.5 border border-white/5 shadow-2xl self-start md:self-center",children:[c.jsxs("button",{onClick:()=>{f("CURRENT"),p(null)},className:`px-4 py-1.5 rounded-lg text-[10px] font-black tracking-widest transition-all uppercase ${h==="CURRENT"?"bg-brand-gold text-black shadow-lg shadow-brand-gold/20":"text-gray-500 hover:text-white"}`,children:["LIVE #",i.id]}),c.jsxs("button",{onClick:()=>f("ARCHIVE"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black tracking-widest transition-all uppercase ${h==="ARCHIVE"?"bg-white/10 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:["STORICO (",l.length,")"]})]})]}),h==="ARCHIVE"&&c.jsxs("div",{className:"glass-panel mb-8 border-brand-gold/20",children:[c.jsx("h4",{className:"text-[10px] font-mono font-black text-brand-gold mb-4 uppercase tracking-[0.3em] opacity-80",children:"Seleziona Giornata Passata"}),c.jsx("div",{className:"flex gap-2 flex-wrap",children:l.length===0?c.jsx("div",{className:"text-gray-500 text-sm italic font-mono uppercase",children:"Nessuna giornata archiviata."}):l.map(y=>c.jsxs("button",{onClick:()=>p(y),className:`px-4 py-2 rounded-lg border-2 transition-all text-xs font-mono font-black ${g?.id===y.id?"bg-brand-gold text-black border-brand-gold shadow-[0_0_20px_rgba(255,204,0,0.3)]":"bg-black/30 text-gray-400 border-white/5 hover:border-white/20"}`,children:["GIORNATA #",y.id]},y.id))})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.length===0?c.jsx("div",{className:"col-span-full text-gray-500 text-center py-20 glass-panel border-dashed border-white/10 font-mono tracking-widest uppercase text-xs",children:h==="CURRENT"?"Nessuna scommessa per questa giornata. Sii il primo!":"Nessun dato per la giornata selezionata."}):w.map(y=>{const S=v(y.predictions,b.results);return c.jsxs("div",{className:"glass-card !bg-black/40 border-2 border-brand-gold/20 hover:border-brand-gold/40 transition-all group overflow-hidden relative",children:[c.jsx("div",{className:"absolute top-0 right-0 bg-brand-gold px-4 py-1 skew-x-[-15deg] translate-x-2 -translate-y-1 shadow-[0_0_15px_rgba(255,204,0,0.3)] z-10",children:c.jsxs("div",{className:"skew-x-[15deg] font-display font-black text-xs text-black uppercase tracking-tighter",children:["LEVEL ",y.level||1]})}),c.jsx("div",{className:"flex items-center justify-between mb-2 p-1",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-brand-gold to-[#D4AF37] p-[1.5px] shadow-lg group-hover:scale-110 transition-transform",children:y.avatarUrl?c.jsx("img",{src:y.avatarUrl,alt:y.username,className:"w-full h-full object-cover rounded-lg"}):c.jsx("div",{className:"w-full h-full bg-black rounded-lg flex items-center justify-center font-display font-black text-brand-gold italic text-xs",children:y.username.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex flex-col items-start leading-none",children:[c.jsx("span",{className:"font-display font-black italic text-white uppercase tracking-tighter text-sm",children:y.username}),c.jsxs("span",{className:"text-[8px] font-black text-brand-gold/80 uppercase whitespace-nowrap mt-0.5",children:["acc. ",S,"%"]})]}),c.jsx("span",{className:"text-[6px] font-mono text-gray-500 uppercase tracking-widest mt-0.5",children:new Date(y.timestamp).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})})]})]})}),c.jsx("div",{className:"grid grid-cols-6 gap-1 md:gap-1 p-1 bg-black/20 rounded-lg border border-white/5 mx-auto max-w-[92%]",children:y.predictions.map((j,O)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"text-[5px] text-gray-600 font-mono font-bold mb-0.2 opacity-60",children:["#",O+1]}),c.jsx("div",{className:`w-full h-6 md:h-7 rounded-none flex items-center justify-center font-mono font-black text-[9px] md:text-xs border transition-all ${b.results[O]?b.results[O]===j?"bg-acid-glow text-black border-acid-glow shadow-[0_0_10px_rgba(191,255,0,0.3)]":"bg-red-500/10 text-red-500 border-red-500/30 line-through opacity-50":"bg-white/5 text-brand-gold border-brand-gold/20"}`,children:j})]},O))}),y.includeSuperJackpot&&c.jsxs("div",{className:"mt-1.5 pt-1 border-t border-white/5 flex items-center justify-center gap-1.5",children:[c.jsx("span",{className:"w-1 h-1 rounded-full bg-brand-gold animate-pulse"}),c.jsx("span",{className:"text-[7px] font-mono font-black text-brand-gold uppercase tracking-[0.2em]",children:"SUPERJACKPOT ACTIVE"})]})]},y.id)})})]})};const Cx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ux=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase()),Qm=i=>{const n=Ux(i);return n.charAt(0).toUpperCase()+n.slice(1)},w0=(...i)=>i.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim(),Dx=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mx=V.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:d="",children:h,iconNode:f,...g},p)=>V.createElement("svg",{ref:p,...zx,width:n,height:n,stroke:i,strokeWidth:l?Number(r)*24/Number(n):r,className:w0("lucide",d),...!h&&!Dx(g)&&{"aria-hidden":"true"},...g},[...f.map(([b,w])=>V.createElement(b,w)),...Array.isArray(h)?h:[h]]));const pt=(i,n)=>{const r=V.forwardRef(({className:l,...d},h)=>V.createElement(Mx,{ref:h,iconNode:n,className:w0(`lucide-${Cx(Qm(i))}`,`lucide-${i}`,l),...d}));return r.displayName=Qm(i),r};const Bx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nu=pt("activity",Bx);const Lx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qx=pt("arrow-left",Lx);const Hx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$x=pt("camera",Hx);const Ix=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vx=pt("check",Ix);const Gx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Yx=pt("coins",Gx);const Kx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_0=pt("eye",Kx);const Jx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xx=pt("file-text",Jx);const Qx=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],xl=pt("gem",Qx);const Zx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Px=pt("house",Zx);const Wx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fx=pt("pen",Wx);const ey=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Su=pt("skull",ey);const ty=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],S0=pt("swords",ty);const ay=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zm=pt("target",ay);const ny=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Nl=pt("trophy",ny);const sy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j0=pt("user",sy);const ry=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pm=pt("x",ry);const iy=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N0=pt("zap",iy),ly=({currentView:i,onNavigate:n})=>{const r=[{id:"HOME",label:"Home",icon:c.jsx(Px,{size:18})},{id:"BETTING",label:"1x2 Mode",icon:c.jsx(N0,{size:18})},{id:"SPY",label:"I fannies",icon:c.jsx(_0,{size:18})},{id:"LEADERBOARD",label:"Classifiche",icon:c.jsx(Nl,{size:18})},{id:"SURVIVAL",label:"Survival Mode",icon:c.jsx(Su,{size:18})},{id:"DUEL_ARENA",label:"Sfide",icon:c.jsx(S0,{size:18})},{id:"PROFILE",label:"Profilo",icon:c.jsx(j0,{size:18})}];return c.jsx("div",{className:"flex justify-center w-full overflow-x-auto",children:c.jsx("div",{className:"flex gap-1 md:gap-2 p-1 md:p-1.5 rounded-full bg-white/[0.02] border border-white/5 backdrop-blur-2xl min-w-min",children:r.map(l=>c.jsxs("button",{onClick:()=>n(l.id),className:`
                            px-2 md:px-6 py-2 md:py-2.5 rounded-full text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] flex items-center gap-1 md:gap-3 transition-all duration-500 touch-target whitespace-nowrap
                            ${i===l.id?"bg-white/10 text-white shadow-[0_0_20px_rgba(255,255,255,0.1)] border border-white/10":"text-gray-500 hover:text-white hover:bg-white/5"}
                        `,children:[c.jsx("span",{className:"flex-shrink-0",children:l.icon}),c.jsx("span",{className:"hidden md:inline",children:l.label})]},l.id))})})},oy=({matchday:i})=>{const[n,r]=V.useState([]),[l,d]=V.useState([]),[h,f]=V.useState(null),[g,p]=V.useState("MATCHDAY"),[b,w]=V.useState(!1);if(V.useEffect(()=>{(async()=>{w(!0);try{if(g==="MATCHDAY"){let O=i;if(!O){const D=await re.getArchivedMatchdays();D.length>0&&(O=D[0])}if(f(O),!O){r([]);return}const I=(await re.getAllBets()).filter(D=>D.matchdayId===O.id).map(D=>{let Z=0;return O.results.forEach((fe,J)=>{fe&&fe===D.predictions[J]&&(Z+=1)}),{username:D.username,score:Z,predictions:D.predictions,timestamp:D.timestamp,avatarUrl:D.avatarUrl,includeSuperJackpot:D.includeSuperJackpot}});I.sort((D,Z)=>Z.score!==D.score?Z.score-D.score:new Date(D.timestamp).getTime()-new Date(Z.timestamp).getTime()),r(I)}else{const O=await re.getGlobalRanking();d(O)}}finally{w(!1)}})()},[i,g]),!h&&g==="MATCHDAY"&&!b)return c.jsx("div",{className:"text-center text-gray-500 py-10 font-black uppercase tracking-widest text-xs opacity-50 italic",children:"Nessuna classifica disponibile per questa giornata."});const v=g==="MATCHDAY"?n.map(j=>({username:j.username,score:j.score,avatarUrl:j.avatarUrl,extra:"/12",includeSuperJackpot:j.includeSuperJackpot})):l.map(j=>({username:j.username,score:j.totalPoints,avatarUrl:j.avatarUrl,extra:" PT",includeSuperJackpot:!1})),y=v.slice(0,3),S=v.slice(3);return c.jsxs("div",{className:"space-y-10 animate-fade-in pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{className:"bg-brand-purple px-8 py-2 md:py-3 skew-x-[-12deg] shadow-[0_0_30px_rgba(157,0,255,0.4)] inline-block self-start",children:c.jsx("h3",{className:"text-2xl md:text-3xl font-display font-black italic tracking-tighter text-white skew-x-[12deg] uppercase",children:"CLASSIFICA"})}),c.jsxs("div",{className:"flex gap-2 p-1 bg-black/40 backdrop-blur-md rounded-xl border border-white/5 self-start scale-90 origin-left",children:[c.jsxs("button",{onClick:()=>p("MATCHDAY"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${g==="MATCHDAY"?"bg-brand-purple text-white shadow-[0_0_15px_rgba(157,0,255,0.3)]":"text-gray-500 hover:text-gray-300"}`,children:["Giornata ",h?`#${h.id}`:""]}),c.jsx("button",{onClick:()=>p("GLOBAL"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${g==="GLOBAL"?"bg-brand-purple text-white shadow-[0_0_15px_rgba(157,0,255,0.3)]":"text-gray-500 hover:text-gray-300"}`,children:"Generale"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-[10px] font-mono font-black text-brand-purple uppercase tracking-[0.2em]",children:g==="MATCHDAY"?h?.status==="OPEN"?"LIVE GIORNATA":"ARCHIVIO GIORNATA":"GLOBAL FANNIES RANKING"}),c.jsx("div",{className:"text-white/30 text-[9px] font-black uppercase tracking-tighter mt-1 italic",children:g==="MATCHDAY"?"Basata sui risultati dell'ultima giornata":"Basata sulla somma di tutti i punti vinti"})]})]}),b?c.jsx("div",{className:"flex justify-center py-20",children:c.jsx("div",{className:"w-10 h-10 border-4 border-brand-purple/20 border-t-brand-purple rounded-full animate-spin"})}):c.jsxs(c.Fragment,{children:[v.length>0&&c.jsxs("div",{className:"flex justify-center items-end gap-2 md:gap-8 pt-8 pb-4 relative",children:[y[1]&&c.jsxs("div",{className:"flex flex-col items-center group scale-90 md:scale-95 translate-y-2",children:[c.jsxs("div",{className:"relative mb-3",children:[c.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full border-4 border-slate-400 p-1 bg-black/40 overflow-hidden shadow-[0_0_20px_rgba(148,163,184,0.3)] group-hover:scale-110 transition-transform duration-500",children:y[1].avatarUrl?c.jsx("img",{src:y[1].avatarUrl,alt:y[1].username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-slate-400 bg-slate-900",children:y[1].username.charAt(0).toUpperCase()})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-slate-400 text-black flex items-center justify-center font-black text-xs",children:"2"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-300 uppercase tracking-tighter truncate max-w-[80px]",children:y[1].username}),y[1].includeSuperJackpot&&c.jsx(xl,{size:10,className:"text-cyan-400 fill-cyan-400/20 animate-pulse"})]}),c.jsxs("span",{className:"text-lg md:text-xl font-display font-black text-white",children:[y[1].score,c.jsx("span",{className:"text-[10px] opacity-40",children:y[1].extra})]})]}),y[0]&&c.jsxs("div",{className:"flex flex-col items-center group relative z-10 -translate-y-4",children:[c.jsxs("div",{className:"relative mb-4",children:[c.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 animate-bounce",children:""}),c.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-yellow-400 p-1.5 bg-black/40 overflow-hidden shadow-[0_0_40px_rgba(250,204,21,0.4)] group-hover:scale-110 transition-transform duration-500",children:y[0].avatarUrl?c.jsx("img",{src:y[0].avatarUrl,alt:y[0].username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-yellow-400 bg-yellow-950/20 text-2xl",children:y[0].username.charAt(0).toUpperCase()})}),c.jsx("div",{className:"absolute -bottom-2 right-0 w-8 h-8 rounded-full bg-yellow-400 text-black flex items-center justify-center font-black text-sm shadow-lg",children:"1"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-xs md:text-sm font-black text-yellow-500 uppercase tracking-tighter truncate max-w-[120px]",children:y[0].username}),y[0].includeSuperJackpot&&c.jsx(xl,{size:12,className:"text-cyan-400 fill-cyan-400/20 animate-pulse"})]}),c.jsxs("span",{className:"text-2xl md:text-3xl font-display font-black text-white",children:[y[0].score,c.jsx("span",{className:"text-[10px] opacity-40",children:y[0].extra})]})]}),y[2]&&c.jsxs("div",{className:"flex flex-col items-center group scale-80 md:scale-90 translate-y-4",children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-full border-4 border-orange-700 p-1 bg-black/40 overflow-hidden shadow-[0_0_20px_rgba(194,65,12,0.3)] group-hover:scale-110 transition-transform duration-500",children:y[2].avatarUrl?c.jsx("img",{src:y[2].avatarUrl,alt:y[2].username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-orange-700 bg-orange-950/20",children:y[2].username.charAt(0).toUpperCase()})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-orange-700 text-white flex items-center justify-center font-black text-[10px]",children:"3"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[9px] md:text-[11px] font-black text-orange-900 uppercase tracking-tighter truncate max-w-[70px]",children:y[2].username}),y[2].includeSuperJackpot&&c.jsx(xl,{size:10,className:"text-cyan-400 fill-cyan-400/20 animate-pulse"})]}),c.jsxs("span",{className:"text-base md:text-lg font-display font-black text-white",children:[y[2].score,c.jsx("span",{className:"text-[10px] opacity-40",children:y[2].extra})]})]})]}),c.jsx("div",{className:"max-w-2xl mx-auto space-y-2 mt-8",children:S.length===0&&v.length<=3?c.jsx("div",{className:"text-center py-10",children:v.length===0&&c.jsx("div",{className:"text-gray-500 text-sm italic font-mono uppercase tracking-[0.2em]",children:"Ancora nessuna giocata valida."})}):S.map((j,O)=>{const U=O+4;return c.jsxs("div",{className:"group flex items-center px-4 py-2 bg-black/40 backdrop-blur-md rounded-lg border border-brand-purple/20 hover:border-brand-purple transition-all duration-300 shadow-[0_0_15px_rgba(157,0,255,0.05)] hover:shadow-[0_0_20px_rgba(157,0,255,0.15)] transform hover:-translate-y-0.5",children:[c.jsxs("div",{className:"w-6 font-mono font-black text-[10px] text-gray-600 mr-4",children:["#",U]}),c.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full border border-brand-purple/30 p-[1px] overflow-hidden",children:j.avatarUrl?c.jsx("img",{src:j.avatarUrl,alt:j.username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-[8px] text-brand-purple bg-brand-purple/10 uppercase",children:j.username.charAt(0)})}),c.jsxs("span",{className:"font-display font-black italic text-gray-200 uppercase tracking-tighter text-sm flex items-center gap-1.5",children:[j.username,j.includeSuperJackpot&&c.jsx(xl,{size:12,className:"text-cyan-400 fill-cyan-400/20"})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("span",{className:"text-lg font-display font-black text-white leading-none",children:[j.score,c.jsx("span",{className:"text-[8px] text-gray-600 font-sans font-black",children:j.extra})]}),g==="MATCHDAY"&&j.score>=7&&c.jsx("span",{className:"text-[6px] font-black text-brand-purple uppercase tracking-widest mt-0.5 animate-pulse",children:"ZONA PREMIO"})]})})]},j.username)})})]})]})},cy=({user:i,activeMatchday:n,onBack:r,onBalanceUpdate:l})=>{const[d,h]=V.useState(null),[f,g]=V.useState([]),[p,b]=V.useState(!1),[w,v]=V.useState(!0),[y,S]=V.useState(null),j=f.find(Y=>Y.userId&&Y.userId===i?.id||Y.username&&Y.username===i?.username),O=j?.status?.toUpperCase()==="ALIVE",U=!!j,M=d?.status==="OPEN";console.log("[SurvivalView] State Update:",{userId:i?.id,username:i?.username,foundMe:!!j,myStatus:j?.status,isAlive:O,playersCount:f.length});const D=f.filter(Y=>Y.status?.toUpperCase()!=="ALIVE").length*2,Z=V.useCallback(async()=>{v(!0),console.log("Loading Survival Data...");const Y=await re.getSurvivalState();console.log("Survival View - User Props:",i),console.log("Survival View - State Received:",Y),console.log("Survival View - MyPlayer Search:",Y.players.find(Ce=>Ce.userId===i?.id)),h(Y.season),g(Y.players),v(!1)},[i]);V.useEffect(()=>{(async()=>await Z())()},[i,Z]);const fe=async()=>{if(!d)return;b(!0),S(null);const Y=await re.joinSurvival(d.id);Y.success?(S({type:"success",text:Y.message}),l(),Z()):S({type:"error",text:Y.message}),b(!1)},J=async Y=>{if(!d||!confirm(`Sei sicuro di voler scegliere ${Y}? Non potrai cambiarla.`))return;b(!0),S(null);const Ce=await re.submitSurvivalPick(d.id,Y);Ce.success?(S({type:"success",text:Ce.message}),Z()):S({type:"error",text:Ce.message}),b(!1)},X=()=>"bg-slate-800/40 border-slate-500/30 text-slate-100 hover:bg-slate-700/60 hover:border-slate-400/50",ue=()=>n?n.matches.flatMap(P=>[P.home,P.away]).slice(0,-4).filter(P=>!j?.usedTeams.includes(P)):[];return w?c.jsx("div",{className:"text-center p-10 font-display text-2xl animate-pulse",children:"CARICAMENTO ARENA..."}):d?c.jsxs("div",{className:"space-y-6 animate-fade-in relative min-h-screen",children:[c.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:[c.jsx("img",{src:"/arena.png",alt:"Arena Background",className:"w-full h-full object-cover opacity-30"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"})]}),c.jsxs("div",{className:"glass-panel relative overflow-hidden bg-black/80 border-red-900/50 py-10 md:py-16 px-4 md:p-6 group shadow-[0_0_50px_rgba(220,38,38,0.2)]",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"/arena_header.png",alt:"Arena Background",className:"w-full h-full object-cover opacity-60 scale-110 group-hover:scale-100 transition-transform duration-1000"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/80 via-red-950/20 to-black/80"}),c.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-radial-gradient(circle at 50% 150%, transparent 0, transparent 40px, rgba(220,38,38,1) 40px, rgba(220,38,38,1) 41px)"}})]}),c.jsxs("div",{className:"text-center relative z-10",children:[c.jsx("div",{className:"flex flex-col items-center justify-center mb-2",children:c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsx("h2",{className:"text-5xl sm:text-7xl md:text-[9.5rem] font-display font-black italic text-red-600 tracking-tighter drop-shadow-[0_0_35px_rgba(220,38,38,0.7)] leading-none",children:"ARENA"}),c.jsxs("span",{className:"text-base md:text-2xl font-black text-red-500/80 uppercase tracking-widest italic flex flex-col items-start leading-none gap-1",children:[c.jsx("span",{className:"text-xs opacity-40 not-italic tracking-[0.3em] mb-1",children:"PROTOCOL"}),"ROUND ",f.length>0?Math.max(...f.map(Y=>Y.usedTeams.length))+1:1]})]})}),c.jsxs("div",{className:"flex flex-col items-center mt-2 md:mt-4",children:[c.jsxs("div",{className:"text-2xl md:text-5xl font-black uppercase tracking-[0.2em] text-transparent bg-clip-text bg-gradient-to-b from-[#fef08a] via-[#eab308] to-[#713f12] drop-shadow-[0_4px_12px_rgba(0,0,0,0.9)] italic",children:["FT KILL: ",D]}),c.jsx("div",{className:"text-[7px] font-black text-red-900 uppercase tracking-[0.4em] opacity-40 mt-[-4px] mb-4",children:"Sanguis et Aurum"})]}),!U&&!M&&c.jsx("div",{className:"mt-4 px-4 py-2 bg-black/40 border border-white/10 rounded-full text-[8px] font-black text-white/40 uppercase tracking-widest",children:"Lobby Chiusa  In Corso"}),U&&c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`px-2 py-0.5 rounded-sm font-black text-[7px] italic tracking-tighter uppercase shadow-lg border ${O?"bg-green-500/10 text-green-500 border-green-500/30":"bg-red-600/10 text-red-500 border-red-600/30"}`,children:O?"ALIVE":"ELIMINATED"})})]})]}),!U&&c.jsxs("div",{className:"text-center py-6",children:[c.jsx("p",{className:"text-sm mb-4 font-bold text-white/60 uppercase tracking-widest",children:"Only one will survive."}),c.jsx("button",{onClick:fe,disabled:p||!M||(i?.tokens||0)<2,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-xl font-black text-lg tracking-tighter shadow-xl hover:scale-105 active:scale-95 transition-all disabled:opacity-50",children:p?"WAIT...":"JOIN (2 TOKENS)"})]}),y&&y.text!=="Iscrizione effettuata!"&&c.jsx("div",{className:`p-4 rounded-xl border-2 font-bold text-center text-xs animate-fade-in ${y.type==="success"?"bg-green-500/10 border-green-500 text-green-400":"bg-red-500/10 border-red-500 text-red-400"}`,children:y.text}),U&&O&&c.jsxs("div",{className:"glass-panel bg-black/40 backdrop-blur-xl border-white/5 p-3.5 md:p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[c.jsx("h3",{className:"text-sm font-black italic text-white uppercase tracking-widest opacity-80",children:" HAI SCELTO"}),c.jsx("span",{className:"text-[8px] font-black text-white/10 uppercase tracking-[0.2em]",children:"Live Status"})]}),n&&n.status==="OPEN"?c.jsx(c.Fragment,{children:j.currentPick?c.jsxs("div",{className:"text-center py-5 bg-white/[0.02] rounded-3xl border border-white/5 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.01] to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx("div",{className:"text-gray-500 text-[8px] font-black uppercase tracking-widest mb-1 opacity-40",children:"Locked In:"}),c.jsx("div",{className:"text-3xl md:text-5xl font-black italic text-white mb-2 tracking-tighter drop-shadow-2xl px-2",children:j.currentPick}),j.usedTeams.length>0&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 px-4",children:[c.jsx("div",{className:"text-[7px] font-black text-white/20 uppercase tracking-[0.3em] mb-1.5 text-center",children:"History"}),c.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 opacity-60",children:j.usedTeams.map((Y,Ce)=>c.jsx("span",{className:"text-[8px] font-black text-gray-500 border border-white/5 px-2 py-0.5 rounded-full bg-black/20",children:Y},Ce))})]})]}):c.jsx("div",{className:"grid grid-cols-2 gap-2",children:ue().length>0?ue().map(Y=>c.jsx("button",{onClick:()=>J(Y),disabled:p,className:`group relative overflow-hidden border-2 p-3 rounded-xl transition-all hover:scale-[1.02] active:scale-95 flex flex-col items-center justify-center shadow-lg ${X()}`,children:c.jsx("span",{className:"text-sm font-black italic uppercase tracking-tight relative z-10",children:Y})},Y)):c.jsx("div",{className:"col-span-2 text-center py-4 text-white/40 text-[10px] font-black uppercase",children:"Nessuna squadra disponibile"})})}):c.jsx("div",{className:"text-gray-500 text-[10px] font-black text-center py-4 uppercase tracking-widest bg-black/20 rounded-2xl",children:n?n.status==="CLOSED"?"Turno Chiuso":"Fase di elaborazione":"In attesa di matchday aperto..."})]}),c.jsxs("div",{className:"space-y-12 pb-20",children:[c.jsxs("div",{className:"glass-panel border-green-500/20 bg-black/40 backdrop-blur-md pb-6 px-3",children:[c.jsxs("h3",{className:"text-lg font-display font-black italic text-green-400 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"STARTING GRID (",f.filter(Y=>Y.status?.toUpperCase()==="ALIVE").length,")"]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:f.filter(Y=>Y.status?.toUpperCase()==="ALIVE").map(Y=>c.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-1 rounded-lg flex flex-col items-center text-center gap-1.5 relative group hover:bg-white/[0.08] transition-all",children:[c.jsxs("div",{className:"relative pt-1",children:[c.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-green-500/30 overflow-hidden bg-black/40 group-hover:border-green-500 transition-colors",children:Y.avatarUrl?c.jsx("img",{src:Y.avatarUrl,alt:Y.username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm font-black opacity-20 italic",children:Y.username.charAt(0).toUpperCase()})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-green-500 border border-black flex items-center justify-center text-[8px] font-black shadow-lg",children:""})]}),c.jsx("div",{className:"w-full min-w-0",children:c.jsxs("div",{className:"flex flex-col items-center gap-0.5 leading-none",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"font-display font-black text-[10px] text-white uppercase truncate",children:Y.username}),(Y.userId&&Y.userId===i?.id||Y.username&&Y.username===i?.username)&&c.jsx("span",{className:"text-[6px] text-brand-teal font-black",children:" TU"})]}),c.jsx("span",{className:"text-[8px] font-black italic text-green-500/60 uppercase truncate",children:Y.currentPick||"READY"})]})}),c.jsxs("div",{className:"mt-1 flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded-full border border-white/5",children:[c.jsx("span",{className:"text-[9px] font-black text-yellow-500 leading-none",children:"2"}),c.jsx("span",{className:"text-[6px] font-black text-white/20 uppercase",children:"TK"})]})]},Y.id))})]}),c.jsxs("div",{className:"glass-panel border-red-900/40 bg-black/60 backdrop-blur-md pt-8",children:[c.jsxs("h3",{className:"text-xl font-display font-black italic text-red-600 mb-8 flex items-center gap-2 justify-center",children:[" CIMITERO (",f.filter(Y=>Y.status!=="ALIVE").length,")"]}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 px-2",children:f.filter(Y=>Y.status!=="ALIVE").map(Y=>c.jsxs("div",{className:"tombstone group",children:[c.jsx("div",{className:"absolute top-2 right-2 text-[8px] text-red-900 font-black opacity-20",children:Y.eliminatedAt?`G${Y.eliminatedAt}`:""}),c.jsx("div",{className:"w-8 h-8 rounded-full border border-white/5 grayscale opacity-30 mb-2 overflow-hidden",children:Y.avatarUrl?c.jsx("img",{src:Y.avatarUrl,alt:Y.username,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-black",children:"?"})}),c.jsx("span",{className:"font-display font-black text-[9px] text-white/40 uppercase tracking-tighter truncate w-full text-center",children:Y.username}),c.jsx("div",{className:"mt-2 flex flex-wrap justify-center gap-0.5 max-w-full opacity-20 group-hover:opacity-40 transition-opacity",children:Y.usedTeams.slice(-2).map((Ce,P)=>c.jsx("span",{className:"text-[5px] font-black px-1 border border-white/10 rounded",children:Ce},P))})]},Y.id))})]})]})]}):c.jsxs("div",{className:"glass-panel text-center p-10 bg-black/80",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"SURVIVAL MODE"}),c.jsx("p",{children:"Nessuna stagione attiva al momento."}),c.jsx("button",{onClick:r,className:"mt-6 text-gray-400 hover:text-white",children:"Torna Indietro"})]})},uy=({onRegulations:i,onRequestTokens:n,onProfile:r})=>c.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-black/90 backdrop-blur-xl border-t border-white/5 md:hidden pb-safe",children:c.jsxs("div",{className:"flex justify-around items-center max-w-md mx-auto h-20 px-6 relative",children:[c.jsxs("button",{onClick:i,className:"flex flex-col items-center justify-center space-y-1 group transition-all duration-300",children:[c.jsx("div",{className:"p-2 rounded-xl group-active:bg-white/10 transition-colors",children:c.jsx(Xx,{size:22,className:"text-gray-400 group-hover:text-white transition-colors"})}),c.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-gray-500 group-hover:text-white transition-colors",children:"Regole"})]}),c.jsxs("div",{className:"relative -top-6",children:[c.jsxs("button",{onClick:n,className:"w-16 h-16 bg-gradient-to-b from-brand-gold via-[#D4AF37] to-[#B8860B] rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.4)] border-4 border-black group active:scale-90 transition-all duration-300",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx(Yx,{size:28,className:"text-black drop-shadow-sm"})]}),c.jsx("div",{className:"absolute -bottom-7 left-1/2 -translate-x-1/2 w-max",children:c.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-brand-gold animate-pulse",children:"Tokens"})})]}),c.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center space-y-1 group transition-all duration-300",children:[c.jsx("div",{className:"p-2 rounded-xl group-active:bg-white/10 transition-colors",children:c.jsx(j0,{size:22,className:"text-gray-400 group-hover:text-white transition-colors"})}),c.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-gray-500 group-hover:text-white transition-colors",children:"Profilo"})]})]})}),dy=({user:i,onClose:n,onLogout:r,onProfileUpdate:l})=>{const[d,h]=V.useState(!1),[f,g]=V.useState(i?.username||""),[p,b]=V.useState(!1),[w,v]=V.useState(!1),[y,S]=V.useState(!1),j=V.useRef(null),O=async()=>{if(!f.trim())return;v(!0);const J=await re.updateProfile(f);J.success?(h(!1),l&&l()):alert(J.message),v(!1)},U=async J=>{const X=J.target.files?.[0];if(!X)return;b(!0);const ue=await re.uploadAvatar(X);ue.success&&ue.url?(await re.updateProfile(i?.username||"",ue.url)).success&&l&&l():alert(ue.message),b(!1)},M=[{level:1,label:"Principiante",requirements:{bets:0,wins:0,tokens:0}},{level:2,label:"Scommettitore",requirements:{bets:5,wins:1,tokens:100}},{level:3,label:"Veterano",requirements:{bets:15,wins:3,tokens:500}},{level:4,label:"Campione",requirements:{bets:30,wins:7,tokens:1500}},{level:5,label:"Leggenda",requirements:{bets:50,wins:15,tokens:5e3}}],I=i?.level||1,D=M.find(J=>J.level===I+1),Z=()=>{if(!D)return 100;const J=D.requirements,X=Math.min(100,(i?.betsPlaced||0)/J.bets*100),ue=Math.min(100,((i?.wins1x2||0)+(i?.winsSurvival||0))/J.wins*100),Y=Math.min(100,(i?.totalTokensWon||0)/J.tokens*100);return Math.max(X,ue,Y)},fe=[{label:"Vittorie 1X2",value:i?.wins1x2||0,icon:c.jsx(Nl,{className:"text-black",size:24}),color:"bg-gradient-to-br from-brand-gold to-yellow-600 shadow-brand-gold/20"},{label:"Survival",value:i?.winsSurvival||0,icon:c.jsx(Su,{className:"text-white",size:24}),color:"bg-gradient-to-br from-red-600 to-red-900 shadow-red-600/20"},{label:"Livello",value:I,icon:c.jsx(nu,{className:"text-black",size:24}),color:"bg-gradient-to-br from-brand-purple to-purple-900 shadow-brand-purple/20"},{label:"Precisione",value:`${i?.predictionAccuracy||0}%`,icon:c.jsx(Zm,{className:"text-black",size:24}),color:"bg-gradient-to-br from-brand-teal to-teal-800 shadow-brand-teal/20"}];return c.jsxs("div",{className:"relative animate-fade-in px-4 max-w-4xl mx-auto pt-10 pb-20 min-h-screen",children:[c.jsxs("div",{className:"fixed inset-0 z-[-1] overflow-hidden pointer-events-none bg-[#020617]",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-purple/5 via-blue-900/10 to-[#020617]"}),c.jsx("div",{className:"absolute -top-48 -left-48 w-96 h-96 bg-blue-600/10 blur-[120px] rounded-full animate-pulse-slow"}),c.jsx("div",{className:"absolute top-1/2 -right-48 w-[500px] h-[500px] bg-brand-purple/5 blur-[150px] rounded-full animate-float"}),c.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-blue-500/10 blur-[100px] rounded-full"})]}),c.jsx("div",{className:"absolute left-4 top-2 z-20",children:c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 rounded-full bg-black/40 border border-white/10 text-white font-black uppercase tracking-widest text-xs hover:bg-black/50 transition",children:[c.jsx(qx,{size:16}),c.jsx("span",{children:"INDIETRO"})]})}),c.jsxs("div",{className:"flex flex-col items-center mb-10",children:[c.jsx("div",{className:"relative group cursor-pointer",onClick:()=>j.current?.click(),children:c.jsxs("div",{className:"w-24 h-24 md:w-40 md:h-40 rounded-full overflow-hidden border-4 border-brand-purple shadow-[0_0_40px_rgba(157,0,255,0.3)] bg-black/40 flex items-center justify-center",children:[i?.avatarUrl?c.jsx("img",{src:i.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx("span",{className:"text-4xl md:text-6xl text-brand-purple opacity-40",children:""}),p&&c.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center rounded-full",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),!p&&c.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity rounded-full",children:c.jsx($x,{className:"text-white",size:28})})]})}),c.jsx("input",{type:"file",ref:j,onChange:U,className:"hidden",accept:"image/*"}),c.jsxs("div",{className:"mt-4 flex flex-col items-center text-center px-4",children:[d?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:f,onChange:J=>g(J.target.value),className:"bg-black/60 border-2 border-brand-purple rounded-lg px-3 py-1 text-lg md:text-xl font-black italic tracking-tighter text-white outline-none w-full max-w-[200px]",autoFocus:!0}),c.jsx("button",{onClick:O,disabled:w,className:"p-2 bg-green-500 rounded-lg text-black",children:c.jsx(Vx,{size:18})}),c.jsx("button",{onClick:()=>{h(!1),g(i?.username||"")},className:"p-2 bg-red-500 rounded-lg text-black",children:c.jsx(Pm,{size:18})})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h1",{className:"text-2xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-[0_0_20px_rgba(157,0,255,0.3)] uppercase",children:i?.username}),c.jsx("button",{onClick:()=>h(!0),className:"p-1.5 text-gray-500 hover:text-white transition-colors",children:c.jsx(Fx,{size:16})})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[c.jsx("span",{className:"px-3 py-1 rounded-full bg-brand-purple/20 border border-brand-purple/40 text-[10px] font-black text-brand-purple uppercase tracking-[0.2em]",children:M[I-1]?.label||"Novizio"}),c.jsxs("span",{className:"text-[10px] text-gray-500 font-mono tracking-widest uppercase",children:["ID: ",i?.id?.slice(0,8)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-10",children:fe.map((J,X)=>c.jsxs("div",{className:`${J.color} p-5 md:p-8 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg transform hover:scale-[1.02] transition-all cursor-default relative overflow-hidden group`,children:[c.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),c.jsx("div",{className:"mb-3 md:mb-4 p-3 md:p-4 rounded-xl bg-white/20 backdrop-blur-sm shadow-inner group-hover:rotate-12 transition-transform",children:J.icon}),c.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-widest text-black/60 mb-1",children:J.label}),c.jsx("span",{className:"text-2xl md:text-4xl font-mono font-black text-white drop-shadow-sm",children:J.value})]},X))}),c.jsxs("div",{className:"glass-card border-white/5 bg-black/40 !p-6 md:!p-8 mb-8 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:c.jsx(nu,{size:120,className:"text-brand-purple"})}),c.jsx("h3",{className:"text-lg font-black italic uppercase tracking-widest text-white mb-6",children:"PROGRESSO STAGIONALE"}),c.jsxs("div",{className:"space-y-12 relative z-10",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 md:gap-0",children:[c.jsxs("div",{className:"flex flex-col items-center md:items-start group transition-all duration-500",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("div",{className:"p-1 px-2 rounded bg-brand-purple/20 border border-brand-purple/40",children:c.jsx("span",{className:"text-[8px] font-black text-brand-purple uppercase tracking-[0.2em] animate-pulse",children:"Status Attuale"})})}),c.jsxs("div",{className:"relative",children:[c.jsx("h4",{className:"text-4xl md:text-6xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-brand-purple via-purple-400 to-indigo-400 uppercase drop-shadow-[0_10px_20px_rgba(157,0,255,0.4)]",children:M[I-1]?.label}),c.jsx("div",{className:"absolute -bottom-2 md:-bottom-4 left-0 w-full h-1.5 bg-brand-purple/30 rounded-full blur-[2px]"}),c.jsx("div",{className:"absolute -bottom-2 md:-bottom-4 left-0 w-1/3 h-1.5 bg-brand-purple rounded-full shadow-[0_0_15px_brand-purple]"})]})]}),c.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center opacity-30 px-6",children:[c.jsx("div",{className:"p-2 rounded-full border border-white/10 bg-white/5 animate-float",children:c.jsx(Zm,{size:24,className:"text-brand-teal"})}),c.jsx("div",{className:"h-px w-32 bg-gradient-to-r from-brand-purple via-brand-teal to-brand-diamond mt-4 shadow-[0_0_10px_rgba(185,242,255,0.3)]"})]}),c.jsxs("div",{className:"flex flex-col items-center md:items-end group transition-all duration-500 opacity-60 hover:opacity-100",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-[0.2em]",children:"Destinazione"}),c.jsx("div",{className:"p-1 px-2 rounded bg-white/5 border border-white/10",children:c.jsx(Nl,{size:10,className:"text-gray-400"})})]}),c.jsx("div",{className:"text-center md:text-right",children:c.jsx("h4",{className:"text-2xl md:text-4xl font-black italic tracking-tighter text-white uppercase tracking-tight group-hover:text-brand-diamond transition-colors",children:D?.label||"MASSIMO"})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-teal animate-ping"}),c.jsx("span",{className:"text-[9px] font-mono text-gray-500 tracking-[0.3em] uppercase",children:"Efficienza Sincronizzata"})]}),c.jsxs("span",{className:"text-xs font-black italic text-brand-teal tracking-tighter drop-shadow-[0_0_10px_rgba(0,255,255,0.3)]",children:[Z().toFixed(0),"% DEL PERCORSO COMPLETATO"]})]}),c.jsx("div",{className:"h-5 w-full bg-white/[0.03] rounded-2xl overflow-hidden border border-white/10 p-1.5 backdrop-blur-md shadow-inner",children:c.jsxs("div",{className:"h-full bg-gradient-to-r from-brand-purple via-brand-teal to-brand-diamond rounded-xl shadow-[0_0_30px_rgba(157,0,255,0.6)] relative overflow-hidden group/bar",style:{width:`${Z()}%`,transition:"width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_25%,rgba(255,255,255,0.2)_50%,transparent_75%)] bg-[length:250%_100%] animate-shimmer"}),c.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover/bar:opacity-100 transition-opacity"})]})})]}),D&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[c.jsx("p",{className:"text-[8px] text-gray-500 uppercase tracking-widest mb-1",children:"Bet Necessarie"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs font-bold text-white",children:[i?.betsPlaced||0," / ",D.requirements.bets]}),c.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[((i?.betsPlaced||0)/D.requirements.bets*100).toFixed(0),"%"]})]})]}),c.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[c.jsx("p",{className:"text-[8px] text-gray-500 uppercase tracking-widest mb-1",children:"Vittorie Target"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs font-bold text-white",children:[(i?.wins1x2||0)+(i?.winsSurvival||0)," / ",D.requirements.wins]}),c.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[(((i?.wins1x2||0)+(i?.winsSurvival||0))/D.requirements.wins*100).toFixed(0),"%"]})]})]}),c.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[c.jsx("p",{className:"text-[8px] text-gray-500 uppercase tracking-widest mb-1",children:"Token Vinti"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs font-bold text-white",children:[i?.totalTokensWon||0," / ",D.requirements.tokens]}),c.jsxs("span",{className:"text-[9px] text-gray-600 font-mono",children:[((i?.totalTokensWon||0)/D.requirements.tokens*100).toFixed(0),"%"]})]})]})]})]})]}),c.jsxs("div",{className:"mt-12 space-y-4 max-w-sm mx-auto",children:[c.jsxs("button",{onClick:()=>S(!y),className:"w-full py-4 rounded-2xl bg-brand-teal/10 border border-brand-teal/30 text-brand-teal font-black uppercase tracking-[0.2em] text-xs hover:bg-brand-teal/20 transition-all flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(0,255,204,0.1)]",children:[c.jsx(nu,{size:18})," ",y?"Chiudi Istruzioni":"Installa sul Dispositivo"]}),y&&c.jsxs("div",{className:"glass-card !p-6 border-brand-teal/20 bg-brand-teal/5 animate-fade-in text-left",children:[c.jsx("h4",{className:"text-brand-teal font-black italic mb-3 uppercase tracking-tighter",children:"Come installare FANNYBET:"}),c.jsxs("div",{className:"space-y-4 text-xs text-gray-400",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("span",{className:"text-brand-teal font-black",children:"iPhone (Safari):"}),c.jsxs("span",{children:["Tocca l'icona ",c.jsx("span",{className:"text-white",children:"Condividi"})," (quadrato con freccia) e seleziona ",c.jsx("span",{className:"text-white",children:'"Aggiungi alla schermata Home"'}),"."]})]}),c.jsxs("div",{className:"flex gap-3 border-t border-white/5 pt-4",children:[c.jsx("span",{className:"text-brand-teal font-black",children:"Android (Chrome):"}),c.jsxs("span",{children:["Tocca i ",c.jsx("span",{className:"text-white",children:"3 puntini"})," in alto a destra e seleziona ",c.jsx("span",{className:"text-white",children:'"Installa app"'})," o ",c.jsx("span",{className:"text-white",children:'"Aggiungi a schermata Home"'}),"."]})]})]})]}),c.jsxs("button",{onClick:()=>{window.confirm("Vuoi davvero uscire?")&&r&&r()},className:"w-full py-4 rounded-2xl bg-red-500/10 border border-red-500/30 text-red-500 font-black uppercase tracking-[0.2em] text-xs hover:bg-red-500/20 transition-all flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(239,68,68,0.1)]",children:[c.jsx(Pm,{size:18})," Logout Sessione"]})]})]})},hy=({isOpen:i,onClose:n})=>i?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur",children:c.jsxs("div",{className:"glass-card !p-6 md:!p-10 max-h-[80vh] overflow-y-auto w-full md:max-w-2xl relative border-white/10",children:[c.jsx("button",{onClick:n,className:"absolute top-4 md:top-6 right-4 md:right-6 w-10 h-10 flex items-center justify-center text-2xl text-gray-400 hover:text-white transition-colors",children:""}),c.jsx("h1",{className:"text-2xl md:text-4xl font-black italic tracking-tighter text-white mb-6",style:{fontFamily:"'Tourney', display"},children:" REGOLAMENTI"}),c.jsxs("div",{className:"space-y-6 text-gray-300 text-sm md:text-base leading-relaxed",children:[c.jsxs("section",{className:"border-l-4 border-acid-glow pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-acid-glow mb-2 uppercase tracking-tighter",children:"1. 1x2 MODE"}),c.jsxs("p",{className:"text-gray-400 text-xs md:text-sm",children:["Scommetti sull'esito delle partite selezionate per la giornata. Indovinare almeno ",c.jsx("span",{className:"text-white",children:"7 risultati su 10"})," ti permette di vincere il ",c.jsx("span",{className:"text-brand-gold",children:"MONTE PREMI"}),"."]}),c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-500 text-[10px] md:text-xs",children:[c.jsxs("li",{children:[c.jsx("span",{className:"text-white font-bold",children:"1"}),": Vittoria Casa | ",c.jsx("span",{className:"text-white font-bold",children:"X"}),": Pareggio | ",c.jsx("span",{className:"text-white font-bold",children:"2"}),": Vittoria Trasferta"]}),c.jsx("li",{children:"Costo partecipazione: variabile in base alla giornata."}),c.jsx("li",{children:"Punti Classifica: 1 punto per ogni pronostico corretto."})]})]}),c.jsxs("section",{className:"border-l-4 border-red-500 pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-red-500 mb-2 uppercase tracking-tighter",children:"2. SURVIVAL MODE"}),c.jsxs("p",{className:"text-gray-400 text-xs md:text-sm",children:["Scegli una squadra per ogni turno. Se vince, sopravvivi. Se perde o pareggia, sei ",c.jsx("span",{className:"text-red-500",children:"FUORI"}),"."]}),c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-500 text-[10px] md:text-xs",children:[c.jsx("li",{children:"Non puoi scegliere la stessa squadra pi di una volta per stagione."}),c.jsx("li",{children:"L'ultimo sopravvissuto vince l'intero bottino accumulato."}),c.jsx("li",{children:"Bonus: Ogni eliminato aggiunge 2 FTK al premio finale."})]})]}),c.jsxs("section",{className:"border-l-4 border-brand-purple pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-brand-purple mb-2 uppercase tracking-tighter",children:"3. ARENA DELLE SFIDE"}),c.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:"Sfida un altro utente in un duello testa a testa 1vs1 sui pronostici della giornata."}),c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-500 text-[10px] md:text-xs",children:[c.jsx("li",{children:"Chi indovina pi risultati vince la sfida."}),c.jsx("li",{children:"In caso di pareggio, i punti vengono restituiti (meno commissione arena)."})]})]}),c.jsxs("section",{className:"border-l-4 border-brand-gold pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-brand-gold mb-2 uppercase tracking-tighter",children:"4. SUPER JACKPOT"}),c.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:"Il premio supremo riservato alla perfezione assoluta."}),c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-500 text-[10px] md:text-xs",children:[c.jsxs("li",{children:["Vinto da chi indovina ",c.jsx("span",{className:"text-brand-gold font-black",children:"10 risultati su 10"})," nella modalit 1x2."]}),c.jsx("li",{children:"Il montepremi  progressivo e cresce a ogni giornata senza vincitori."})]})]}),c.jsxs("section",{className:"border-l-4 border-brand-teal pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-brand-teal mb-2 uppercase tracking-tighter",children:"5. COMUNICAZIONI WHATSAPP"}),c.jsxs("p",{className:"text-gray-400 text-xs md:text-sm",children:["Tutti gli utenti registrati saranno inseriti in un ",c.jsx("span",{className:"text-brand-teal font-bold",children:"gruppo di notifica ufficiale WhatsApp"}),"."]}),c.jsx("p",{className:"mt-2 text-gray-500 text-[10px] md:text-xs italic",children:"Riceverai aggiornamenti sulle scadenze, risultati in tempo reale e annunci amministrativi."})]}),c.jsxs("section",{className:"border-l-4 border-gray-500 pl-4 py-1",children:[c.jsx("h2",{className:"text-lg md:text-xl font-black italic text-gray-300 mb-2 uppercase tracking-tighter",children:"6. CONDOTTA ANTISPORTIVA"}),c.jsx("p",{className:"text-gray-500 text-[10px] md:text-xs",children:"Mantenere un comportamento corretto  fondamentale per la permanenza nella piattaforma."}),c.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-gray-600 text-[9px] md:text-xs",children:[c.jsx("li",{children:"Vietato il multi-accounting o l'uso di script/bot."}),c.jsxs("li",{children:["Qualsiasi tentativo di manipolazione dei risultati porter al ",c.jsx("span",{className:"text-red-500 font-black",children:"BAN PERMANENTE"}),"."]}),c.jsx("li",{children:"Le decisioni degli Admin sono insindacabili."})]})]}),c.jsx("section",{className:"bg-white/[0.02] p-4 rounded-2xl border border-white/5 mt-8",children:c.jsx("p",{className:"text-[10px] text-gray-600 uppercase tracking-widest text-center",children:"Ultimo aggiornamento: 30 Gennaio 2026  Versione 2.0"})})]}),c.jsx("button",{onClick:n,className:"mt-8 w-full py-3 px-4 bg-gradient-to-r from-brand-diamond/50 to-brand-diamond/30 hover:from-brand-diamond/70 hover:to-brand-diamond/50 text-brand-diamond font-black italic uppercase tracking-[0.2em] rounded transition-all duration-300",children:"Ho capito"})]})}):null,fy=({isOpen:i,onClose:n,currentTokens:r})=>{const[l,d]=V.useState("100"),[h,f]=V.useState(""),[g,p]=V.useState(!1);if(!i)return null;const b=()=>{l&&h&&(p(!0),setTimeout(()=>{p(!1),d("100"),f(""),n()},2e3))};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur",children:c.jsxs("div",{className:"glass-card !p-6 md:!p-10 w-full md:max-w-md relative border-white/10",children:[c.jsx("button",{onClick:n,className:"absolute top-4 md:top-6 right-4 md:right-6 w-10 h-10 flex items-center justify-center text-2xl text-gray-400 hover:text-white transition-colors",children:""}),g?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-5xl mb-4 animate-pulse",children:""}),c.jsx("h2",{className:"text-xl md:text-2xl font-black italic text-white mb-2",style:{fontFamily:"'Tourney', display"},children:"RICHIESTA INVIATA!"}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["La tua richiesta di ",l," token  stata inviata all'amministrazione. Riceverai una risposta al pi presto."]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-black italic tracking-tighter text-white mb-6",style:{fontFamily:"'Tourney', display"},children:" RICHIEDI TOKEN"}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-[0.2em] font-mono mb-2",children:"Token Attuali"}),c.jsxs("p",{className:"text-2xl font-black text-brand-diamond",style:{fontFamily:"'Tourney', display"},children:[r," FTK"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs md:text-sm font-black uppercase tracking-[0.2em] text-gray-300 block mb-3",children:"Quanti token vuoi?"}),c.jsx("input",{type:"number",value:l,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded text-white font-mono placeholder-gray-500 focus:outline-none focus:border-brand-diamond/50 transition-colors",placeholder:"Inserisci l'importo",min:"1",max:"5000"}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Minimo: 1 | Massimo: 5000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs md:text-sm font-black uppercase tracking-[0.2em] text-gray-300 block mb-3",children:"Motivo della richiesta"}),c.jsxs("select",{value:h,onChange:w=>f(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded text-white font-mono focus:outline-none focus:border-brand-diamond/50 transition-colors",children:[c.jsx("option",{value:"",children:"-- Seleziona un motivo --"}),c.jsx("option",{value:"initial",children:"Ho appena iniziato"}),c.jsx("option",{value:"depleted",children:"Ho finito i token"}),c.jsx("option",{value:"play_more",children:"Voglio giocare di pi"}),c.jsx("option",{value:"survival",children:"Voglio partecipare a Survival Mode"}),c.jsx("option",{value:"special_event",children:"Per un evento speciale"}),c.jsx("option",{value:"other",children:"Altro"})]})]}),c.jsx("div",{className:"bg-brand-orange/10 border border-brand-orange/30 p-4 rounded",children:c.jsxs("p",{className:"text-xs md:text-sm text-gray-300 leading-relaxed",children:[c.jsx("strong",{className:"text-brand-orange",children:" Info:"})," L'amministrazione valuter la tua richiesta in base al tuo utilizzo della piattaforma e alla frequenza delle richieste precedenti."]})}),c.jsx("button",{onClick:b,disabled:!l||!h,className:"w-full py-3 px-4 bg-gradient-to-r from-brand-diamond/50 to-brand-diamond/30 hover:from-brand-diamond/70 hover:to-brand-diamond/50 disabled:opacity-50 disabled:cursor-not-allowed text-brand-diamond font-black italic uppercase tracking-[0.2em] rounded transition-all duration-300",children:"Invia Richiesta"})]})]})]})})},Wm=(i,n)=>{if(!i||!n)return 0;let r=0;return i.forEach((l,d)=>{n[d]&&n[d]===l&&r++}),r},my=()=>{const[i,n]=V.useState("ACTIVE"),[r,l]=V.useState([]),[d,h]=V.useState([]),[f,g]=V.useState([]),[p,b]=V.useState(!1),[w,v]=V.useState(!1),[y,S]=V.useState(0),[j,O]=V.useState(null),U=V.useRef(r);V.useEffect(()=>{U.current=r},[r]);const M=V.useCallback(async P=>{if(!P)return;const xe=U.current||[];if(xe.length===0)return;const qe=await Promise.all(xe.map(async Ne=>{if(Ne.status!=="ACCEPTED")return Ne;const Ge=await re.getUserBet(Ne.challenger.username),R=await re.getUserBet(Ne.opponent.username),G=Ge?Wm(Ge.predictions,P):0,ae=R?Wm(R.predictions,P):0,pe={challenger_score:G,opponent_score:ae};return!Ne.scores||Ne.scores.challenger_score!==pe.challenger_score||Ne.scores.opponent_score!==pe.opponent_score?(re.updateDuelScores(Ne.id,pe).catch(ge=>console.error("Failed saving duel scores",ge)),{...Ne,scores:pe}):Ne}));l(qe)},[]),I=V.useCallback(async()=>{const P=await re.getMyDuels();l(P);const xe=await re.getMatchday();xe&&await M(xe.results)},[M]),D=V.useCallback(async()=>{const P=await re.getChallengeableUsers();g(P)},[]),Z=V.useCallback(async()=>{const P=await re.getAllDuels();h(P)},[]);V.useEffect(()=>{I(),D(),Z()},[I,D,Z]),V.useEffect(()=>{let P=null,xe=!0;return(async()=>{const Ne=await re.getMatchday();Ne&&(await M(Ne.results),P=W.channel(`matchday-${Ne.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"matchdays",filter:`id=eq.${Ne.id}`},Ge=>{if(!xe)return;const R=Ge.new?.results;R&&M(R)}).subscribe())})(),()=>{if(xe=!1,P)try{W.removeChannel(P)}catch{}}},[M]),V.useEffect(()=>{let P=null,xe=!0;return(async()=>{const{data:{user:Ne}}=await W.auth.getUser();Ne&&(P=W.channel(`duels-user-${Ne.id}`).on("postgres_changes",{event:"*",schema:"public",table:"duels",filter:`or(challenger_id.eq.${Ne.id},opponent_id.eq.${Ne.id})`},Ge=>{xe&&(I(),Z())}).subscribe())})(),()=>{if(xe=!1,P)try{W.removeChannel(P)}catch{}}},[I,Z]);const fe=async(P,xe)=>{O({id:P,username:xe})},J=async()=>{if(!j)return;b(!0);const P=await re.createDuel(j.id,y);b(!1),O(null),P.success?(alert(` Sfida lanciata a ${j.username}!
Posta: ${y} Token.`),n("ACTIVE"),I()):alert("Errore: "+P.message)},X=async(P,xe)=>{if(!confirm(xe?"Accetti la sfida? Che vinca il migliore!":"Rifiuti la sfida?"))return;const qe=await re.respondToDuel(P,xe);qe.success?I():alert("Errore: "+qe.message)},ue=r.filter(P=>P.status==="PENDING"),Y=r.filter(P=>P.status==="ACCEPTED"),Ce=r.filter(P=>P.status==="COMPLETED");return c.jsxs("div",{className:"space-y-8 animate-fade-in pb-24",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-2xl md:rounded-[40px] border-2 md:border-4 border-amber-700 p-4 md:p-8 text-center shadow-[0_0_50px_rgba(180,83,9,0.2)] bg-[url('/arena_bg.png')] bg-cover bg-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-[2px]"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-700 to-transparent opacity-50 z-10"}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 relative z-10",children:[c.jsx("img",{src:"/shield_logo.png",alt:"Arena Logo",className:"w-48 h-48 object-contain drop-shadow-[0_0_25px_rgba(180,83,9,0.5)] animate-float",style:{maskImage:"radial-gradient(circle at center, black 50%, transparent 100%)",WebkitMaskImage:"radial-gradient(circle at center, black 50%, transparent 100%)"},onError:P=>P.currentTarget.src="https://placehold.co/150x150/000000/b45309?text="}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-7xl font-black italic tracking-tighter text-white mb-2 uppercase",children:"L'ARENA"}),c.jsxs("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-xs md:text-sm max-w-lg mx-auto",children:["Sfida gli altri utenti in duelli 1vs1.",c.jsx("br",{}),c.jsx("span",{className:"text-amber-500",children:"Chi rischia di pi, vince di pi."})]})]}),c.jsx("button",{onClick:()=>v(!w),className:"text-[10px] font-black uppercase tracking-widest text-amber-600 border-b border-amber-600/30 hover:border-amber-600 transition-all pb-1",children:w?"Chiudi Regole":"Come Funziona il Punteggio?"}),w&&c.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-left text-xs text-gray-300 w-full max-w-md border border-white/10 animate-fade-in space-y-2",children:[c.jsx("p",{className:"font-bold text-white mb-1",children:" SYSTEMA GOAL (1-3):"}),c.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-2 items-center",children:[c.jsx("span",{className:"bg-white/10 px-2 py-0.5 rounded text-[10px] font-mono",children:"1 "}),c.jsxs("span",{children:["Risultato POPOLARE (scelto da ",">","50%)"]}),c.jsx("span",{className:"bg-[#dfff00]/20 text-[#dfff00] px-2 py-0.5 rounded text-[10px] font-mono",children:"2 "}),c.jsx("span",{children:"Risultato BILANCIATO (20-50%)"}),c.jsx("span",{className:"bg-red-500/20 text-red-500 px-2 py-0.5 rounded text-[10px] font-mono",children:"3 "}),c.jsxs("span",{children:["Risultato RISCHIOSO (","<","20%)"]})]})]})]})]}),c.jsxs("div",{className:"flex p-1 bg-black/40 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden",children:[c.jsx("button",{onClick:()=>n("ACTIVE"),className:`flex-1 py-3 text-xs font-black uppercase tracking-widest transition-all rounded-xl ${i==="ACTIVE"?"bg-amber-600/20 text-amber-500 border border-amber-600/50 shadow-[0_0_20px_rgba(180,83,9,0.2)]":"text-gray-500 hover:text-white"}`,children:"Le Mie Sfide"}),c.jsx("button",{onClick:()=>n("FIND"),className:`flex-1 py-3 text-xs font-black uppercase tracking-widest transition-all rounded-xl ${i==="FIND"?"bg-amber-600/20 text-amber-500 border border-amber-600/50 shadow-[0_0_20px_rgba(180,83,9,0.2)]":"text-gray-500 hover:text-white"}`,children:"Trova Avversari"}),c.jsx("button",{onClick:()=>n("GLOBAL"),className:`flex-1 py-3 text-xs font-black uppercase tracking-widest transition-all rounded-xl ${i==="GLOBAL"?"bg-amber-600/20 text-amber-500 border border-amber-600/50 shadow-[0_0_20px_rgba(180,83,9,0.2)]":"text-gray-500 hover:text-white"}`,children:"Tutti i Duelli"})]}),i==="ACTIVE"&&c.jsxs("div",{className:"space-y-8",children:[ue.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-black italic text-white border-l-4 border-amber-500 pl-4",children:"RICHIESTE IN ATTESA"}),c.jsx("div",{className:"grid gap-4",children:ue.map(P=>c.jsx(yl,{duel:P,onRespond:X,isPending:!0},P.id))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-black italic text-white border-l-4 border-amber-700 pl-4",children:"DUELLI IN CORSO"}),Y.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold uppercase tracking-widest border-2 border-dashed border-white/5 rounded-3xl",children:["Nessun duello attivo. ",c.jsx("br",{}),c.jsx("button",{onClick:()=>n("FIND"),className:"text-amber-600 underline mt-2 hover:text-white transition-colors",children:"Lancia una sfida!"})]}):c.jsx("div",{className:"grid gap-6",children:Y.map(P=>c.jsx(yl,{duel:P},P.id))})]}),Ce.length>0&&c.jsxs("div",{className:"space-y-4 opacity-60 hover:opacity-100 transition-opacity",children:[c.jsx("h3",{className:"text-lg font-black italic text-gray-400 border-l-4 border-gray-600 pl-4",children:"STORICO"}),c.jsx("div",{className:"grid gap-4",children:Ce.map(P=>c.jsx(yl,{duel:P},P.id))})]})]}),i==="GLOBAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-black italic text-white border-l-4 border-amber-700 pl-4 uppercase",children:"BATTAGLIE GLOBALI"}),d.length===0?c.jsx("div",{className:"text-center py-12 text-gray-500 font-bold uppercase tracking-widest border-2 border-dashed border-white/5 rounded-3xl",children:"Nessun duello registrato per questa giornata."}):c.jsx("div",{className:"grid gap-6",children:d.map(P=>c.jsx(yl,{duel:P},P.id))})]}),i==="FIND"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-black italic text-white border-l-4 border-amber-700 pl-4",children:"SFIDA UN GIOCATORE"}),c.jsxs("p",{className:"text-xs text-gray-500 max-w-md",children:["Puoi sfidare solo gli utenti che hanno ",c.jsx("strong",{children:"gi inserito"})," la schedina per la giornata corrente."]}),f.length===0?c.jsx("div",{className:"text-center py-12 text-gray-500 font-bold uppercase tracking-widest border-2 border-dashed border-white/5 rounded-3xl",children:"Nessun avversario disponibile al momento."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map(P=>c.jsxs("div",{className:"bg-white/5 border border-white/10 p-4 rounded-2xl flex items-center justify-between group hover:border-amber-600 hover:bg-black transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border border-white/20 overflow-hidden",children:P.avatarUrl?c.jsx("img",{src:P.avatarUrl,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-black text-gray-500",children:P.username.substring(0,2).toUpperCase()})}),c.jsx("span",{className:"font-bold text-white group-hover:text-amber-500 transition-colors",children:P.username})]}),c.jsx("button",{onClick:()=>fe(P.id,P.username),disabled:p,className:"px-4 py-2 bg-amber-600 text-black text-[10px] font-black uppercase tracking-widest rounded-lg hover:bg-amber-500 hover:scale-105 active:scale-95 transition-all shadow-[0_0_10px_rgba(180,83,9,0.2)]",children:"Invita "})]},P.id))})]}),j&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-gray-900 border border-amber-600/50 rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",children:[c.jsxs("h3",{className:"text-xl font-black italic text-white uppercase text-center mb-4",children:["Sfida ",c.jsx("span",{className:"text-amber-500",children:j.username})]}),c.jsx("div",{className:"space-y-4 mb-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("label",{className:"block text-xs font-black uppercase text-gray-500 tracking-widest mb-2",children:"Scegli la Posta (Token)"}),c.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2,3,4,5].map(P=>c.jsx("button",{onClick:()=>S(P),className:`w-10 h-10 rounded-lg font-black text-sm flex items-center justify-center transition-all ${y===P?"bg-amber-500 text-black scale-110 shadow-[0_0_15px_rgba(245,158,11,0.5)]":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:P},P))}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:y===0?"Duello amichevole (Nessun rischio)":`Vinci: ${y*2} Token | Perdi: ${y} Token`})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>O(null),className:"flex-1 py-3 rounded-xl bg-white/5 text-gray-400 font-black text-xs uppercase tracking-widest hover:bg-white/10",children:"Annulla"}),c.jsx("button",{onClick:J,disabled:p,className:"flex-1 py-3 rounded-xl bg-amber-600 text-black font-black text-xs uppercase tracking-widest hover:bg-amber-500 shadow-lg",children:p?"Invio...":"Lancia Sfida"})]})]})})]})},yl=({duel:i,isPending:n,onRespond:r})=>{const[l,d]=V.useState(!1),h=V.useRef(i.status);V.useEffect(()=>{h.current!==i.status&&(i.status==="COMPLETED"&&i.winnerId&&setTimeout(()=>{d(!0),document.body.classList.add("bronze-arena");const g=setTimeout(()=>{d(!1),document.body.classList.remove("bronze-arena")},6500);return()=>clearTimeout(g)},0),h.current=i.status)},[i.status,i.winnerId]);const f=i.winnerId===i.challenger.id?i.challenger.username:i.winnerId===i.opponent.id?i.opponent.username:"Vincitore";return c.jsxs("div",{className:`relative bg-black rounded-2xl md:rounded-3xl p-4 md:p-6 border-2 ${n?"border-amber-500/50":"border-amber-700/30"} overflow-hidden group hover:border-amber-600 transition-colors`,children:[l&&c.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none",children:c.jsxs("div",{className:"duel-win-overlay flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"trophy-pop text-amber-400",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"92",height:"92",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-amber-300 drop-shadow-[0_0_20px_rgba(255,204,0,0.6)]",children:[c.jsx("path",{d:"M8 21h8"}),c.jsx("path",{d:"M9 17h6v-3a6 6 0 0 0 6-6V3H3v5a6 6 0 0 0 6 6v3z"}),c.jsx("circle",{cx:"12",cy:"7",r:"3"})]})}),c.jsxs("div",{className:"mt-4 text-amber-300 font-black text-lg md:text-2xl uppercase",children:[f," ",c.jsx("span",{className:"text-white",children:"vince!"})]}),c.jsx("div",{className:"confetti-container absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,p)=>c.jsx("span",{className:`confetti confetti-${p%6}`,style:{left:`${p*5%100}%`,animationDelay:`${p%6*.08}s`}},p))})]})}),c.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 flex flex-col items-center gap-1",children:[c.jsx("div",{className:"text-amber-600 font-black italic text-2xl shadow-xl group-hover:scale-110 transition-transform drop-shadow-[0_0_10px_rgba(180,83,9,0.8)]",children:"VS"}),i.wagerAmount!==void 0&&c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-widest leading-none",children:"POSTA"}),c.jsxs("div",{className:"text-cyan-400 font-mono font-black text-xl drop-shadow-[0_0_10px_rgba(34,211,238,0.8)] animate-pulse-slow leading-none mt-0.5",children:[i.wagerAmount," ",c.jsx("span",{className:"text-[8px] text-cyan-600",children:"TK"})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center relative z-0",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/2 pr-6 border-r border-white/5",children:[c.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-amber-600 p-1 shadow-[0_0_15px_rgba(180,83,9,0.3)]",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-800 overflow-hidden",children:i.challenger.avatarUrl&&c.jsx("img",{src:i.challenger.avatarUrl,className:"w-full h-full object-cover"})})}),c.jsx("span",{className:"font-black text-white text-sm",children:i.challenger.username}),i.scores&&c.jsx("div",{className:"text-3xl font-black text-amber-500 drop-shadow-[0_0_10px_rgba(180,83,9,0.5)]",children:i.scores.challenger_score})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/2 pl-6",children:[c.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-amber-900 p-1",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-800 overflow-hidden",children:i.opponent.avatarUrl&&c.jsx("img",{src:i.opponent.avatarUrl,className:"w-full h-full object-cover"})})}),c.jsx("span",{className:"font-black text-white text-sm",children:i.opponent.username}),i.scores&&c.jsx("div",{className:"text-3xl font-black text-white/50",children:i.scores.opponent_score})]})]}),c.jsx("div",{className:"mt-6 pt-4 border-t border-white/5 flex justify-center",children:n&&r?c.jsxs("div",{className:"flex gap-4 w-full",children:[c.jsx("button",{onClick:()=>r(i.id,!1),className:"flex-1 py-3 rounded-xl bg-white/5 text-gray-400 font-black text-[10px] uppercase tracking-widest hover:bg-white/10 hover:text-white transition-all",children:"Rifiuta"}),c.jsx("button",{onClick:()=>r(i.id,!0),className:"flex-1 py-3 rounded-xl bg-amber-600 text-black font-black text-[10px] uppercase tracking-widest hover:bg-amber-500 hover:scale-105 transition-all shadow-[0_0_15px_rgba(180,83,9,0.4)]",children:"Accetta Sfida"})]}):c.jsx("div",{className:"flex items-center gap-3",children:i.status==="COMPLETED"?c.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-amber-700/80",children:"Terminata"}):c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"inline-block bg-amber-600 text-black text-[10px] font-black uppercase px-2 py-1 rounded animate-pulse",children:"LIVE"}),c.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-amber-700/80",children:"In Corso..."})]})})})]})},Ha=({className:i="",width:n,height:r,variant:l="rectangular"})=>{const d="animate-pulse bg-white/10 rounded-md",h=l==="circular"?"rounded-full":"",f={width:n,height:r};return c.jsx("div",{className:`${d} ${h} ${i}`,style:f})},py=()=>c.jsxs("div",{className:"space-y-6 md:space-y-12 animate-fade-in no-scrollbar pb-24 md:pb-10",children:[c.jsxs("div",{className:"relative pt-[6.4rem] pb-6 md:pt-[7.2rem] md:pb-16 text-center px-2 flex flex-col items-center",children:[c.jsx(Ha,{width:120,height:16,className:"mb-4"}),c.jsx(Ha,{width:"80%",height:120,className:"rounded-xl !bg-white/5"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3 md:gap-12 px-2 md:px-0 max-w-5xl mx-auto w-full",children:[c.jsx(Ha,{height:100,className:"rounded-xl"}),c.jsx(Ha,{height:100,className:"rounded-xl"})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-3 md:gap-8 px-2 md:px-0 pb-16 items-start w-full",children:[c.jsx(Ha,{className:"col-span-2 row-span-2 h-[26rem] sm:h-[45rem] md:h-[62rem] rounded-2xl"}),c.jsx(Ha,{className:"col-span-2 h-[13.5rem] sm:h-[24rem] md:h-[34rem] rounded-2xl"}),c.jsx(Ha,{className:"col-span-1 h-[11.5rem] sm:h-[20rem] md:h-[26rem] rounded-2xl"}),c.jsx(Ha,{className:"col-span-1 h-[11.5rem] sm:h-[20rem] md:h-[26rem] rounded-2xl"}),c.jsx(Ha,{className:"col-span-4 h-[16.5rem] sm:h-[28rem] md:h-[36rem] rounded-2xl"})]})]}),gy=({user:i,onBalanceUpdate:n,onLogout:r})=>{const[l,d]=V.useState(null),[h,f]=V.useState(void 0),[g,p]=V.useState("HOME"),[b,w]=V.useState(null),[v,y]=V.useState(!1),[S,j]=V.useState(!1),[O,U]=V.useState(!1),[M,I]=V.useState(!0),D=V.useCallback(async()=>{I(!0);const X=await re.getMatchday();if(d(X),i){const ue=await re.getUserBet(i.username);f(ue);const{players:Y}=await re.getSurvivalState(),Ce=Y.find(P=>P.username===i.username);Ce&&w(Ce.status)}I(!1)},[i]);V.useEffect(()=>{D()},[D,g]),V.useEffect(()=>(document.body.classList.remove("gold-arena","bronze-arena"),g==="SPY"?document.body.classList.add("gold-arena"):g==="DUEL_ARENA"&&document.body.classList.add("bronze-arena"),()=>document.body.classList.remove("gold-arena","bronze-arena")),[g]);const Z=()=>{D(),n&&n()};if(M&&g==="HOME")return c.jsx(py,{});if(!l&&g==="BETTING")return c.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"NESSUNA GIORNATA ATTIVA"}),c.jsx("p",{className:"text-gray-400",children:"L'Admin sta preparando le nuove partite. Torna pi tardi!"}),c.jsx("button",{onClick:()=>p("HOME"),className:"mt-6 text-brand-orange underline",children:"Torna alla Home"})]});if(!l&&g==="SPY")return c.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"NESSUNA GIORNATA ATTIVA"}),c.jsx("p",{className:"text-gray-400",children:"Non ci sono ancora scommesse da spiare."}),c.jsx("button",{onClick:()=>p("HOME"),className:"mt-6 text-brand-orange underline",children:"Torna alla Home"})]});const fe=l?l.superJackpot:1e3,J=l?l.currentPot:0;return c.jsxs(c.Fragment,{children:[v&&c.jsx("div",{className:"fixed inset-0 z-[60] overflow-y-auto bg-black/95 backdrop-blur-md",children:c.jsx("div",{className:"min-h-screen flex items-start justify-center pt-32 pb-24 md:pt-40",children:c.jsx(dy,{user:i,onClose:()=>y(!1),onLogout:r,onProfileUpdate:n})})}),c.jsx(hy,{isOpen:S,onClose:()=>j(!1)}),c.jsx(fy,{isOpen:O,onClose:()=>U(!1),currentTokens:i?.tokens||0}),c.jsxs("div",{className:"space-y-6 md:space-y-12 animate-fade-in no-scrollbar pb-24 md:pb-10",children:[g==="HOME"&&c.jsxs("div",{className:"fixed inset-0 z-[-1] overflow-hidden pointer-events-none bg-[#050505]",children:[c.jsx("div",{className:"absolute inset-0 opacity-50 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/fibra.jpg')"}}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_40%,rgba(255,255,255,0.03)_0%,transparent_70%)]"}),c.jsx("div",{className:"mesh-glow bg-brand-purple/10 -top-48 -left-48 animate-pulse-slow"}),c.jsx("div",{className:"mesh-glow bg-brand-orange/5 bottom-0 -right-48 animate-float"})]}),g==="HOME"&&c.jsxs("div",{className:"relative pt-[6.4rem] pb-6 md:pt-[7.2rem] md:pb-16 text-center animate-fade-in px-2",children:[c.jsx("p",{className:"text-white font-mono text-[8px] md:text-base uppercase tracking-[0.6em] mb-1 md:mb-3 drop-shadow-[0_0_12px_rgba(255,255,255,0.7)]",children:"benvenuto su"}),c.jsxs("h1",{className:"!text-[5.2rem] sm:!text-[9.1rem] md:!text-[19.5rem] font-display font-black italic tracking-tighter leading-[0.72] bg-gradient-to-br from-brand-teal via-brand-purple-vibrant to-brand-purple-vibrant bg-clip-text text-transparent drop-shadow-[0_0_120px_rgba(157,0,255,0.9)] transform-gpu scale-[1.02] md:scale-[1.05]",children:["FANNY",c.jsx("br",{className:"md:hidden"})," BET"]}),c.jsxs("div",{className:"mt-1 md:mt-8 flex justify-center gap-2",children:[c.jsx("div",{className:"h-[1px] w-6 md:w-20 bg-gradient-to-r from-transparent via-brand-teal/50 to-transparent"}),c.jsx("div",{className:"h-[1px] w-6 md:w-20 bg-gradient-to-r from-transparent via-brand-purple-vibrant/50 to-transparent"})]})]}),g!=="HOME"&&c.jsx("div",{className:"py-4 md:py-12 text-center animate-fade-in px-2",children:c.jsxs("h1",{className:"text-2xl sm:text-4xl md:text-8xl font-display font-black italic tracking-tighter uppercase text-white/90 drop-shadow-[0_0_20px_rgba(255,255,255,0.1)]",children:[g==="BETTING"&&"1X2 MODE",g==="SPY"&&"I FANNIES",g==="LEADERBOARD"&&"CLASSIFICHE",g==="SURVIVAL"&&"SURVIVAL MODE",g==="DUEL_ARENA"&&"SFIDE"]})}),g==="HOME"&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3 md:gap-12 px-2 md:px-0 max-w-5xl mx-auto",children:[c.jsxs("div",{className:"glass-card card-gold !py-3 md:!py-7 px-2 md:px-16 text-center relative overflow-hidden group shadow-[0_0_48px_rgba(255,204,0,0.25)] hover:shadow-[0_0_80px_rgba(255,204,0,0.5)] transition-all duration-500 hover:scale-105",children:[c.jsx("span",{className:"text-brand-gold text-[10px] md:text-[16px] tracking-[0.6em] font-black uppercase mb-0.5 block opacity-95",children:"MONTE PREMI"}),c.jsxs("div",{className:"text-4xl md:text-7xl font-mono font-black text-brand-gold drop-shadow-[0_0_28px_rgba(255,204,0,0.7)]",children:[J,c.jsx("span",{className:"text-[12px] md:text-2xl opacity-40 ml-1",children:"FTK"})]})]}),c.jsxs("div",{className:"glass-card card-diamond !py-2 md:!py-5 px-2 md:px-12 text-center relative overflow-hidden group shadow-[0_0_40px_rgba(185,242,255,0.2)] hover:shadow-[0_0_60px_rgba(185,242,255,0.4)] transition-all duration-500 hover:scale-105",children:[c.jsx("span",{className:"text-white text-[9px] md:text-[14px] tracking-[0.6em] font-black uppercase mb-0.5 block opacity-70 relative z-10",children:"SUPER JACKPOT"}),c.jsxs("div",{className:"text-3xl md:text-6xl font-mono font-black text-cyan-400 drop-shadow-[0_0_25px_rgba(0,255,255,0.7)] relative z-10",children:[fe,c.jsx("span",{className:"text-[11px] md:text-2xl opacity-70 text-cyan-200 ml-1",children:"FTK"})]})]})]}),g!=="HOME"&&c.jsx("div",{className:"flex justify-center sticky top-12 md:top-6 z-20 px-2 md:px-4",children:c.jsx("div",{className:"liquid-glass !p-1 md:!p-1.5 !rounded-full inline-block backdrop-blur-[40px] border-white/10 shadow-3xl",children:c.jsx(ly,{currentView:g,onNavigate:X=>{X==="PROFILE"?y(!0):p(X)}})})}),g==="HOME"&&c.jsxs("div",{className:"grid grid-cols-4 gap-3 md:gap-8 animate-fade-in px-2 md:px-0 pb-16 items-start",children:[c.jsxs("button",{onClick:()=>p("BETTING"),className:"glass-card card-acid-green col-span-2 row-span-2 group h-[26rem] sm:h-[45rem] md:h-[62rem] flex flex-col justify-center items-center text-center relative overflow-hidden touch-target animate-float-slow hover:rotate-1 w-full",children:[c.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-[#bfff00]/5 blur-[60px] rounded-full group-hover:bg-[#bfff00]/10 transition-all duration-700"}),c.jsx("div",{className:"mb-2 group-hover:scale-110 transition-transform duration-500",children:c.jsx(N0,{size:40,className:"text-acid-glow md:w-20 md:h-20",strokeWidth:2.5})}),c.jsx("h3",{className:"text-sm sm:text-2xl md:text-5xl font-black italic tracking-tighter text-white/90 uppercase",children:"1x2 Mode"}),c.jsx("p",{className:"text-gray-600 text-[7px] sm:text-xs md:text-sm mt-1 uppercase tracking-[0.2em] font-black group-hover:text-[#bfff00] transition-colors",children:"Gioca ora."})]}),c.jsxs("button",{onClick:()=>p("SURVIVAL"),className:"glass-card card-bright-red col-span-2 group h-[13.5rem] sm:h-[24rem] md:h-[34rem] flex flex-col justify-center items-center text-center relative overflow-hidden touch-target animate-float [animation-delay:1s] hover:-rotate-1 w-full",children:[b==="ALIVE"&&c.jsx("div",{className:"absolute top-2 right-2 z-10 px-2 py-0.5 rounded bg-red-500 text-black text-[8px] font-black animate-pulse",children:"IN VITA"}),c.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-[#ff2200]/5 blur-[60px] rounded-full group-hover:bg-[#ff2200]/10 transition-all duration-700"}),c.jsx("div",{className:"mb-1 md:mb-4 group-hover:scale-110 transition-transform duration-500",children:c.jsx(Su,{size:32,className:"text-[#ff2200] md:w-16 md:h-16",strokeWidth:2.5})}),c.jsx("h3",{className:"text-[12px] sm:text-xl md:text-3xl font-black italic tracking-tighter text-white/90 uppercase",children:"Survival"}),c.jsx("p",{className:"text-gray-600 text-[6px] sm:text-[9px] md:text-xs mt-0.5 uppercase tracking-[0.2em] font-black group-hover:text-[#ff2200] transition-colors",children:"entra nell'arena."})]}),c.jsxs("button",{onClick:()=>p("SPY"),className:"glass-card card-bright-yellow col-span-1 group h-[11.5rem] sm:h-[20rem] md:h-[26rem] flex flex-col justify-center items-center text-center relative overflow-hidden touch-target animate-float-fast [animation-delay:0.5s] hover:rotate-1 w-full",children:[c.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-[#ffee00]/5 blur-[60px] rounded-full group-hover:bg-[#ffee00]/10 transition-all duration-700"}),c.jsx("div",{className:"mb-0.5 md:mb-2 group-hover:scale-110 transition-transform duration-500",children:c.jsx(_0,{size:24,className:"text-[#ffee00] md:w-12 md:h-12",strokeWidth:2.5})}),c.jsx("h3",{className:"text-[10px] sm:text-base md:text-xl font-black italic tracking-tighter text-white/90 uppercase",children:"Fannies"})]}),c.jsxs("button",{onClick:()=>p("LEADERBOARD"),className:"glass-card card-purple col-span-1 group h-[11.5rem] sm:h-[20rem] md:h-[26rem] flex flex-col justify-center items-center text-center relative overflow-hidden touch-target animate-float-slow [animation-delay:1s] hover:rotate-1 w-full",children:[c.jsx("div",{className:"absolute top-0 right-0 w-full h-1/2 bg-gradient-to-b from-brand-purple/5 to-transparent"}),c.jsx("div",{className:"mb-0.5 md:mb-2 group-hover:scale-110 transition-transform duration-500 relative z-10",children:c.jsx(Nl,{size:24,className:"text-brand-purple md:w-12 md:h-12",strokeWidth:2.5})}),c.jsx("h3",{className:"text-[10px] sm:text-base md:text-xl font-black italic tracking-tighter text-white/90 uppercase relative z-10",children:"Classifiche"})]}),c.jsxs("button",{onClick:()=>p("DUEL_ARENA"),className:"glass-card card-bronze col-span-4 group h-[12.5rem] sm:h-[21rem] md:h-[27rem] flex flex-col justify-center items-center text-center relative overflow-hidden touch-target animate-float-slow [animation-delay:2s] hover:scale-[1.01] w-full",children:[c.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-[#b45309]/5 blur-[60px] rounded-full group-hover:bg-[#b45309]/10 transition-all duration-700"}),c.jsx("div",{className:"mb-2 md:mb-4 group-hover:scale-110 transition-transform duration-500",children:c.jsx(S0,{size:40,className:"text-[#b45309] md:w-20 md:h-20",strokeWidth:2.5})}),c.jsx("h3",{className:"text-xl sm:text-4xl md:text-7xl font-black italic tracking-tighter text-white/90 uppercase",children:"Sfide"}),c.jsx("p",{className:"text-gray-600 text-[8px] sm:text-sm md:text-base mt-1 uppercase tracking-[0.3em] font-black group-hover:text-[#b45309] transition-colors",children:"sfida i tuoi amici."})]})]}),g==="BETTING"&&l&&c.jsx("div",{className:"relative animate-fade-in",children:c.jsx(Ox,{matchday:l,userBet:h,user:i,onBetPlaced:Z,onViewChange:p})}),g==="SPY"&&l&&c.jsx("div",{className:"relative animate-fade-in",children:c.jsx(Rx,{matchday:l})}),g==="LEADERBOARD"&&c.jsx("div",{className:"relative animate-fade-in",children:c.jsx(oy,{matchday:l})}),g==="SURVIVAL"&&c.jsx("div",{className:"relative animate-fade-in",children:c.jsx(cy,{user:i,activeMatchday:l,onBack:()=>p("HOME"),onBalanceUpdate:()=>{n&&n(),D()}})}),g==="DUEL_ARENA"&&c.jsx("div",{className:"relative animate-fade-in",children:c.jsx(my,{})})]}),g==="HOME"&&c.jsx(uy,{onRegulations:()=>j(!0),onRequestTokens:()=>U(!0),onProfile:()=>y(!0)})]})},by=()=>{const[i,n]=V.useState(null),[r,l]=V.useState([]),[d,h]=V.useState(!1),[f,g]=V.useState(null);V.useEffect(()=>{p()},[]);const p=async()=>{const S=await re.getSurvivalState();n(S.season),l(S.players)},b=async S=>{if(S.preventDefault(),!!i&&window.confirm("Chiudere la stagione e proclamare il vincitore?")){h(!0),g(null);try{const j=await re.closeSurvivalSeason(i.id);console.log("Close season response:",j),j.success?(g({type:"success",text:j.message}),p()):g({type:"error",text:j.message})}catch(j){console.error(j),g({type:"error",text:"Errore interno."})}finally{h(!1)}}},w=async S=>{if(S.preventDefault(),!!window.confirm("Creare una nuova stagione Survival?")){h(!0),g(null);try{const j=await re.startNewSurvivalSeason();j.success?(g({type:"success",text:j.message}),p()):g({type:"error",text:j.message})}catch(j){console.error("Error creating new season:",j),g({type:"error",text:"Errore imprevisto durante la creazione."})}finally{h(!1)}}},v=r.filter(S=>S.status==="ALIVE").length,y=r.filter(S=>S.status!=="ALIVE").length;return i?c.jsxs("div",{className:"glass-panel space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b-2 border-[#dfff00]/20",children:[c.jsxs("h3",{className:"text-3xl font-black italic text-white flex items-center gap-4 tracking-tighter",children:[" SURVIVAL MODE",c.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest border ${i.status==="OPEN"?"bg-[#dfff00] text-black border-[#dfff00]":"bg-transparent text-gray-500 border-gray-500"}`,children:i.status})]}),c.jsxs("button",{onClick:p,className:"group flex items-center gap-2 px-4 py-2 rounded-xl border border-[#dfff00]/30 hover:bg-[#dfff00] hover:text-black hover:border-[#dfff00] transition-all",title:"Aggiorna dati",children:[c.jsx("span",{className:"text-xl group-hover:rotate-180 transition-transform duration-500",children:""}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden sm:inline",children:"Refresh"})]})]}),f&&c.jsx("div",{className:`p-4 rounded-2xl border-2 text-xs font-black uppercase tracking-widest mb-6 ${f.type==="success"?"bg-[#dfff00]/10 border-[#dfff00] text-[#dfff00]":"bg-red-500/10 border-red-500 text-red-500"}`,children:f.text}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-black/40 border-2 border-[#dfff00] p-4 rounded-3xl text-center shadow-[0_0_20px_rgba(223,255,0,0.1)] relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[c.jsx("div",{className:"absolute inset-0 bg-[#dfff00]/5 group-hover:bg-[#dfff00]/10 transition-colors"}),c.jsx("div",{className:"text-[9px] text-[#dfff00] font-black uppercase tracking-[0.3em] mb-1 opacity-80",children:"Montepremi"}),c.jsxs("div",{className:"text-3xl font-black text-white italic tracking-tighter drop-shadow-lg",children:[i.prizePool," ",c.jsx("span",{className:"text-xl not-italic",children:""})]})]}),c.jsxs("div",{className:"bg-black/40 border-2 border-[#dfff00]/50 p-4 rounded-3xl text-center group hover:border-[#dfff00] transition-colors",children:[c.jsx("div",{className:"text-[9px] text-green-400 font-black uppercase tracking-[0.3em] mb-1 opacity-80",children:"Sopravvissuti"}),c.jsx("div",{className:"text-3xl font-black text-white italic tracking-tighter",children:v})]}),c.jsxs("div",{className:"bg-black/40 border-2 border-red-500/50 p-4 rounded-3xl text-center group hover:border-red-500 transition-colors",children:[c.jsx("div",{className:"text-[9px] text-red-500 font-black uppercase tracking-[0.3em] mb-1 opacity-80",children:"Eliminati"}),c.jsx("div",{className:"text-3xl font-black text-white italic tracking-tighter opacity-50 group-hover:opacity-100 transition-opacity",children:y})]})]}),i.status!=="COMPLETED"&&c.jsx("div",{className:"flex justify-end mb-8",children:c.jsxs("button",{onClick:S=>b(S),disabled:d||v>1,className:"bg-transparent hover:bg-red-600 text-red-500 hover:text-white border-2 border-red-600 px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest active:scale-95 transition-all disabled:opacity-30 flex items-center gap-2",children:[c.jsx("span",{children:""})," CHIUDI STAGIONE"]})}),c.jsxs("div",{className:"mt-8 border-t border-white/10 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-lg font-bold tracking-tight",children:"SITUAZIONE PARTECIPANTI"}),c.jsxs("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:[r.length," GIOCATORI"]})]}),c.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/5",children:c.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[c.jsx("thead",{className:"bg-white/5 text-gray-400 uppercase text-[10px] font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Utente"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Stato"}),c.jsx("th",{className:"px-4 py-3",children:"Pick Attuale"}),c.jsx("th",{className:"px-4 py-3",children:"Team Usati"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:r.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-600 italic",children:"Nessun partecipante iscritto"})}):r.map(S=>c.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[c.jsx("td",{className:"px-4 py-4 font-semibold text-white",children:S.username}),c.jsx("td",{className:"px-4 py-4 text-center",children:c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-[9px] font-black leading-none ${S.status==="ALIVE"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-500"}`,children:S.status})}),c.jsx("td",{className:"px-4 py-4",children:S.currentPick?c.jsx("span",{className:"text-black font-mono font-black uppercase py-0.5 px-2 bg-[#dfff00] rounded border border-black/20",children:S.currentPick}):c.jsx("span",{className:"text-gray-600 text-xs italic",children:"Nessun pick"})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"flex flex-wrap gap-1 max-w-[200px]",children:S.usedTeams.length>0?S.usedTeams.map((j,O)=>c.jsx("span",{className:"text-[10px] bg-black/40 text-gray-500 px-1.5 py-0.5 rounded border border-white/5",children:j},O)):c.jsx("span",{className:"text-gray-700",children:"-"})})})]},S.id))})]})})]}),i.status==="COMPLETED"&&c.jsx("button",{onClick:S=>w(S),disabled:d,className:"bg-black text-[#dfff00] w-full py-4 rounded-2xl font-black mt-4 hover:scale-[1.02] transition-all shadow-[6px_6px_0px_rgba(0,0,0,0.2)] border-2 border-black",children:" CREA NUOVA STAGIONE"})]}):c.jsxs("div",{className:"glass-panel text-center py-12 border-dashed border-white/10",children:[c.jsx("h3",{className:"text-2xl font-display font-bold mb-4",children:" SURVIVAL MODE"}),c.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto italic",children:"Non ci sono stagioni attive al momento. Vuoi iniziarne una nuova e aprire le iscrizioni?"}),c.jsx("button",{onClick:S=>w(S),disabled:d,className:"bg-black text-[#dfff00] px-10 py-4 rounded-full font-black text-xl hover:scale-105 transition-all shadow-[8px_8px_0px_black] border-2 border-black disabled:opacity-50",children:d?"ATTENDI...":" CREA NUOVA STAGIONE"})]})},vy=()=>{const[i,n]=V.useState([]),[r,l]=V.useState(!0),[d,h]=V.useState(""),[f,g]=V.useState(null),[p,b]=V.useState("0");V.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const U=await re.getAllUsers();n(U)}catch(U){console.error("Errore nel caricamento user:",U),alert("Errore nel caricamento degli utenti")}finally{l(!1)}},v=async(U,M)=>{if(M)try{await re.updateUserTokens(U,M),await w(),b("0"),alert(` ${M>0?"+":""}${M} token aggiunti`)}catch{alert("Errore nell'aggiornamento dei token")}},y=async(U,M)=>{if(confirm(`Sei SICURO di voler eliminare l'account di ${M}? Questa azione non pu essere annullata!`))try{await re.deleteUserProfile(U),await w(),alert(` Account ${M} eliminato`)}catch{alert("Errore nell'eliminazione dell'account")}},S=async(U,M,I)=>{const D=M==="ADMIN"?"USER":"ADMIN";if(confirm(`Vuoi cambiare il ruolo di ${I} da ${M} a ${D}?`))try{await re.updateUserRole(U,D),await w(),alert(` Ruolo aggiornato a ${D}`)}catch{alert("Errore aggiornamento ruolo")}},j=async()=>{try{await re.syncEmails(),await w(),alert(" Email sincronizzate")}catch{alert("Errore sync")}},O=i.filter(U=>U.username?.toLowerCase().includes(d.toLowerCase())||U.email?.toLowerCase().includes(d.toLowerCase()));return r?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("div",{className:"text-white",children:"Caricamento utenti..."})}):c.jsxs("div",{className:"space-y-6 animate-fade-in text-white",children:[c.jsx("div",{className:"border-l-4 border-[#dfff00] pl-6 py-2",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black italic text-white mb-1",children:"GESTIONE UTENTI"}),c.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:[i.length," Account Attivi"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:j,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all font-black text-[10px] uppercase tracking-widest text-[#dfff00]",children:"Sync Emails"}),c.jsx("button",{onClick:w,className:"px-4 py-2 bg-[#dfff00] text-black border border-[#dfff00] rounded-xl hover:scale-105 transition-all font-black text-[10px] uppercase tracking-widest",children:" Aggiorna"})]})]})}),c.jsx("div",{className:"bg-black/40 border border-white/10 rounded-2xl p-2",children:c.jsx("input",{type:"text",placeholder:"CERCA UTENTE O EMAIL...",value:d,onChange:U=>h(U.target.value),className:"w-full bg-transparent px-4 py-3 text-white placeholder-gray-600 font-bold uppercase text-sm outline-none"})}),c.jsx("div",{className:"overflow-x-auto rounded-3xl border border-white/10 bg-black/40",children:O.length===0?c.jsx("div",{className:"text-center py-12 text-gray-500 font-bold uppercase tracking-widest",children:"Nessun utente trovato"}):c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:c.jsxs("tr",{className:"text-gray-400 text-left",children:[c.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-[10px]",children:"Utente"}),c.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-[10px]",children:"Email"}),c.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-[10px]",children:"Tokens"}),c.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-[10px]",children:"Ruolo"}),c.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-[10px] text-center",children:"Azioni"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:O.map(U=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[c.jsx("td",{className:"px-6 py-4 font-black italic text-lg",children:U.username}),c.jsx("td",{className:"px-6 py-4 text-gray-400 font-mono text-xs",children:U.email||"N/A"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"font-black text-[#dfff00] text-lg",children:U.tokens}),c.jsx("span",{className:"text-gray-600 text-[9px] font-black uppercase",children:"FTK"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{onClick:()=>S(U.id,U.role,U.username),className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all ${U.role==="ADMIN"?"bg-red-500/10 text-red-500 border-red-500/30 hover:bg-red-500 hover:text-white":"bg-[#dfff00]/10 text-[#dfff00] border-[#dfff00]/30 hover:bg-[#dfff00] hover:text-black"}`,children:U.role})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex gap-2 justify-center opacity-50 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>g(f===U.id?null:U.id),className:"w-8 h-8 flex items-center justify-center bg-white/5 border border-white/10 rounded-lg text-[#dfff00] hover:bg-[#dfff00] hover:text-black transition-all",title:"Tokens",children:""}),c.jsx("button",{onClick:()=>y(U.id,U.username),className:"w-8 h-8 flex items-center justify-center bg-white/5 border border-white/10 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-all",title:"Elimina",children:""})]})})]},U.id))})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>g(null),children:c.jsxs("div",{className:"bg-[#0a0a0a] border-2 border-[#dfff00] rounded-[30px] p-8 w-full max-w-md shadow-[0_0_50px_rgba(223,255,0,0.2)] space-y-6",onClick:U=>U.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-black italic text-white",children:"GESTIONE TOKEN"}),c.jsx("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-white",children:""})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest mb-2",children:"Utente Selezionato"}),c.jsx("p",{className:"text-3xl font-black text-white italic",children:O.find(U=>U.id===f)?.username})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-[#dfff00]/70",children:"Modifica Saldo"}),c.jsx("input",{type:"number",value:p,onChange:U=>b(U.target.value),placeholder:"0",autoFocus:!0,className:"w-full bg-black border-2 border-white/10 rounded-xl px-4 py-4 text-center text-white font-black text-2xl focus:border-[#dfff00] outline-none"}),c.jsx("p",{className:"text-[9px] text-gray-500 text-center",children:"Usa valori negativi per sottrarre (es. -50)"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[c.jsx("button",{onClick:()=>b("0"),className:"py-4 rounded-xl font-black text-xs uppercase tracking-widest border border-white/10 text-gray-400 hover:bg-white/10 hover:text-white transition-all",children:"Annulla"}),c.jsx("button",{onClick:()=>v(f,parseInt(p)),className:"py-4 rounded-xl font-black text-xs uppercase tracking-widest bg-[#dfff00] text-black hover:scale-105 transition-all shadow-[0_0_20px_rgba(223,255,0,0.3)]",children:"Conferma"})]})]})})]})},xy=({onToggleView:i,initialTab:n="MATCHDAY"})=>{const[r,l]=V.useState(n),[d,h]=V.useState(null),[f,g]=V.useState(!1);V.useEffect(()=>{re.getMatchday().then(h)},[]);const p=v=>{try{const y=new Date(v);if(isNaN(y.getTime()))return"";const S=y.getTimezoneOffset()*6e4;return new Date(y.getTime()-S).toISOString().slice(0,16)}catch{return v.slice(0,16)}},b=(v,y,S)=>{if(!d)return;const j=[...d.matches];j[v]={...j[v],[y]:S.toUpperCase()},h({...d,matches:j}),re.updateMatch(v,j[v])},w=v=>{if(!d)return;const y=parseInt(v)||0;h({...d,superJackpot:y}),re.updateSuperJackpot(y)};return d?c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] -mx-4 -mt-4 md:-mx-8 md:-mt-8 p-4 md:p-10 animate-fade-in text-white relative",children:[c.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 border-b border-white/10 pb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 w-full md:w-auto",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-black italic tracking-tighter text-white",children:"ADMIN CONSOLE"}),c.jsxs("div",{className:"flex bg-white/5 p-1.5 rounded-2xl border border-white/10 w-full md:w-auto overflow-x-auto",children:[c.jsx("button",{onClick:()=>l("MATCHDAY"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${r==="MATCHDAY"?"bg-[#dfff00] text-black shadow-[0_0_20px_rgba(223,255,0,0.3)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:" 1X2 GESTIONE"}),c.jsx("button",{onClick:()=>l("SURVIVAL"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${r==="SURVIVAL"?"bg-[#dfff00] text-black shadow-[0_0_20px_rgba(223,255,0,0.3)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:" SURVIVAL"}),c.jsx("button",{onClick:()=>l("USERS"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${r==="USERS"?"bg-[#dfff00] text-black shadow-[0_0_20px_rgba(223,255,0,0.3)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:" UTENTI"}),c.jsx("button",{onClick:()=>l("SYSTEM"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${r==="SYSTEM"?"bg-red-500 text-white shadow-[0_0_20px_rgba(239,68,68,0.3)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:" SYSTEM"})]})]}),i&&c.jsx("button",{onClick:i,className:"w-full md:w-auto bg-transparent text-[#dfff00] px-8 py-3 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-[#dfff00]/10 hover:scale-105 active:scale-95 transition-all border border-[#dfff00] shadow-[0_0_15px_rgba(223,255,0,0.1)]",children:"RETURN HOME"})]}),r==="MATCHDAY"?c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-transparent text-white p-5 md:p-8 rounded-[24px] border-2 border-[#dfff00] shadow-[0_0_20px_rgba(223,255,0,0.1)] space-y-4 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-[#dfff00]/5 -z-10 group-hover:bg-[#dfff00]/10 transition-colors duration-500"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[#dfff00]/80",children:" Super Jackpot"}),c.jsx("input",{type:"number",value:d.superJackpot,onChange:v=>w(v.target.value),className:"bg-black/50 border border-white/10 rounded-xl px-5 py-3 w-full text-white font-black text-3xl outline-none focus:border-[#dfff00] focus:shadow-[0_0_15px_rgba(223,255,0,0.2)] transition-all"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[#dfff00]/80",children:" Deadline Giornata (Ora Locale)"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"datetime-local",value:p(d.deadline),onChange:async v=>{const y=v.target.value,j=new Date(y).toISOString();h({...d,deadline:j}),await re.updateDeadline(j);const O=await re.getMatchday();h(O)},className:"bg-black/50 border border-white/10 rounded-xl px-5 py-3 w-full text-white font-black text-lg outline-none focus:border-[#dfff00] focus:shadow-[0_0_15px_rgba(223,255,0,0.2)] transition-all cursor-pointer"}),c.jsx("div",{className:"absolute top-1/2 right-6 -translate-y-1/2 pointer-events-none text-2xl opacity-50",children:""})]}),c.jsx("p",{className:"text-[9px] font-bold opacity-30 uppercase tracking-widest text-white",children:"Sincronizzazione orario attiva"}),c.jsx("div",{className:"mt-3 flex items-center gap-3",children:d.betsLocked?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"px-3 py-1 rounded-full bg-red-600 text-black font-black text-[10px] uppercase",children:"Scommesse CHIUSE"}),c.jsx("button",{onClick:async()=>{if(!confirm("Sbloccare le scommesse per questa giornata?"))return;const v=await re.setBetLock(!1);if(v&&v.success){const y=await re.getMatchday();h(y),alert("Scommesse sbloccate.")}else alert("Errore: "+(v?.message||"Operazione fallita"))},className:"px-3 py-2 rounded-xl bg-amber-600 text-black font-black uppercase text-xs tracking-widest hover:bg-amber-500 transition-all",children:"Sblocca Inserimenti"})]}):c.jsx("span",{className:"px-3 py-1 rounded-full bg-green-600 text-black font-black text-[10px] uppercase",children:"Scommesse APERTE"})})]})]}),c.jsxs("div",{className:"bg-transparent p-5 md:p-8 rounded-[24px] border-2 border-white/20 hover:border-white/40 transition-colors shadow-2xl flex flex-col justify-center items-center text-center relative overflow-hidden",children:[c.jsx("h3",{className:"text-white text-2xl font-black italic uppercase tracking-tighter mb-5",children:"Azioni Rapide"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[c.jsx("button",{onClick:async()=>{if(confirm("Reset completo giornata?")){await re.resetMatchday();const v=await re.getMatchday();h(v)}},className:"flex-1 bg-transparent text-red-500 py-4 rounded-2xl font-black text-xs uppercase tracking-widest border border-red-500/50 hover:bg-red-500 hover:text-white hover:border-red-500 hover:shadow-[0_0_20px_rgba(239,68,68,0.4)] transition-all",children:" Reset"}),c.jsx("button",{onClick:async()=>{if(confirm("Archiviare giornata? Questo PROCESSER AUTOMATICAMENTE anche il round Survival!")){const v=await re.archiveMatchday();let y=v.message;v.survivalStats&&(y+=`

 SURVIVAL:
- Eliminati: ${v.survivalStats.eliminated}
- Avanzati: ${v.survivalStats.advanced}`),alert(y);const S=await re.getMatchday();h(S)}},className:"flex-1 bg-transparent text-[#dfff00] py-4 rounded-2xl font-black text-xs uppercase tracking-widest border border-[#dfff00]/50 hover:bg-[#dfff00] hover:text-black hover:border-[#dfff00] hover:shadow-[0_0_20px_rgba(223,255,0,0.4)] transition-all",children:" Archivia & Processa"})]})]})]}),c.jsxs("div",{className:"bg-transparent rounded-[24px] p-5 md:p-8 border-2 border-white/10 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#dfff00] to-transparent opacity-50"}),c.jsxs("h3",{className:"text-2xl font-black italic uppercase tracking-tighter mb-6 text-white flex items-center gap-4",children:["Match Editor ",c.jsx("span",{className:"text-[10px] font-bold bg-[#dfff00] text-black px-2 py-0.5 rounded-full not-italic tracking-normal",children:"Active"})]}),c.jsx("div",{className:"grid gap-4",children:d.matches.map((v,y)=>c.jsxs("div",{className:"bg-white/5 p-4 md:p-6 rounded-2xl border border-white/5 hover:border-[#dfff00]/30 transition-all flex flex-col lg:flex-row items-center gap-5 group",children:[c.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[c.jsxs("span",{className:"text-3xl font-black italic text-white/10 group-hover:text-[#dfff00]/20 font-mono transition-colors",children:["#",y+1]}),c.jsx("div",{className:"lg:hidden bg-black/40 px-3 py-1 rounded-full text-[9px] font-black uppercase text-gray-400 border border-white/5 flex-1 text-center",children:v.league})]}),c.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsx("input",{type:"text",value:v.home,onChange:S=>b(y,"home",S.target.value),className:"bg-black/40 border border-white/10 rounded-xl px-5 py-3 text-white font-black text-lg text-center md:text-left focus:border-[#dfff00] outline-none transition-colors"}),c.jsx("span",{className:"text-[#dfff00] font-black italic text-xs opacity-40 text-center",children:"VS"}),c.jsx("input",{type:"text",value:v.away,onChange:S=>b(y,"away",S.target.value),className:"bg-black/40 border border-white/10 rounded-xl px-5 py-3 text-white font-black text-lg text-center md:text-right focus:border-[#dfff00] outline-none transition-colors"})]}),c.jsx("div",{className:"hidden lg:block bg-black/40 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest text-gray-400 border border-white/5 min-w-[100px] text-center",children:v.league}),c.jsxs("div",{className:"flex gap-2 bg-black/40 p-2 rounded-xl border border-white/10 w-full lg:w-auto",children:[["1","X","2"].map(S=>c.jsx("button",{onClick:()=>{re.updateMatchResult(y,S);const j=[...d.results];j[y]=S,h({...d,results:j})},className:`h-14 lg:h-11 w-full lg:w-11 rounded-lg font-black text-lg transition-all ${d.results[y]===S?"bg-[#dfff00] text-black shadow-[0_0_12px_rgba(223,255,0,0.4)] scale-105":"text-gray-500 hover:text-white hover:bg-white/10"}`,children:S},S)),c.jsx("button",{onClick:()=>{re.updateMatchResult(y,null);const S=[...d.results];S[y]=null,h({...d,results:S})},className:"h-14 lg:h-11 w-14 lg:w-11 rounded-lg bg-transparent border border-white/5 flex items-center justify-center text-gray-600 hover:text-red-500 hover:border-red-500/50 transition-all",children:""})]})]},y))})]})]}):r==="USERS"?c.jsx("div",{className:"bg-transparent rounded-[30px] p-4 md:p-10 border-2 border-white/10 relative overflow-hidden",children:c.jsx(vy,{})}):r==="SYSTEM"?c.jsx("div",{className:"space-y-8 animate-fade-in",children:c.jsx("div",{className:"bg-transparent rounded-[30px] p-10 border-2 border-red-500/20 relative overflow-hidden text-center",children:c.jsxs("div",{className:"max-w-xl mx-auto space-y-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-4xl font-black italic text-red-500 uppercase tracking-tighter",children:"RESET TOTALE SISTEMA"}),c.jsxs("p",{className:"text-gray-400 font-bold uppercase tracking-widest leading-relaxed",children:["Questa azione ",c.jsx("span",{className:"text-red-500",children:"eliminer permanentemente"})," tutte le scommesse, i duelli, le stagioni survival e le giornate create. Inoltre, resetter i token e le statistiche di ",c.jsx("span",{className:"text-white",children:"tutti gli utenti"})," ai valori predefiniti per il lancio ufficiale."]})]}),c.jsxs("div",{className:"bg-red-500/5 p-6 rounded-3xl border border-red-500/10",children:[c.jsx("p",{className:"text-[10px] font-black text-red-500 uppercase tracking-[0.3em] mb-4",children:" ATTENZIONE: AZIONE IRREVERSIBILE "}),c.jsx("button",{onClick:async()=>{if(prompt("Per confermare il reset totale, scrivi 'RESET' (senza virgolette):")!=="RESET")return;g(!0);const y=await re.resetSystem();g(!1),y.success?(alert(y.message),window.location.reload()):alert("Errore durante il reset: "+y.message)},disabled:f,className:"w-full bg-red-600 text-white py-5 rounded-2xl font-black text-xl hover:bg-red-500 hover:scale-105 active:scale-95 transition-all shadow-[0_0_30px_rgba(239,68,68,0.3)] border border-red-400/30",children:f?"RESETTING...":"ESIGUI RESET DI LANCIO"})]})]})})}):c.jsx("div",{className:"bg-transparent rounded-[30px] p-4 md:p-10 border-2 border-white/10 relative overflow-hidden",children:c.jsx(by,{})})]}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0a0a0a]/90 backdrop-blur-md p-4 z-50 flex items-center justify-center gap-6 border-t border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-[#dfff00] shadow-[0_0_10px_#dfff00]"}),c.jsx("span",{className:"text-[#dfff00] text-[10px] font-black uppercase tracking-[0.3em] opacity-80",children:"System Online"})]}),c.jsx("div",{className:"w-px h-4 bg-white/10 hidden md:block"}),c.jsx("span",{className:"hidden md:block text-gray-600 text-[9px] font-black uppercase tracking-[0.2em]",children:"Secure Admin Connection"})]})]}):c.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-[#dfff00] p-6 text-black z-[1000]",children:[c.jsx("h1",{className:"text-4xl md:text-6xl font-black italic tracking-tighter mb-8",children:"ADMIN CONSOLE"}),c.jsxs("div",{className:"bg-black text-[#dfff00] p-10 rounded-[40px] shadow-[20px_20px_0px_rgba(0,0,0,0.2)] text-center max-w-md w-full border-4 border-black",children:[c.jsx("p",{className:"font-bold uppercase tracking-widest text-sm mb-8 opacity-70",children:"Nessuna giornata attiva detected."}),c.jsx("button",{onClick:async()=>{if(!window.confirm("Attivare nuova giornata?"))return;if(g(!0),(await re.createMatchday()).success){const y=await re.getMatchday();h(y)}g(!1)},disabled:f,className:"w-full bg-[#dfff00] text-black py-5 rounded-2xl font-black text-xl hover:scale-105 active:scale-95 transition-all shadow-[8px_8px_0px_black] border-2 border-black",children:f?"WAIT...":"INITIALIZE SYSTEM"}),i&&c.jsx("button",{onClick:i,className:"mt-8 text-xs font-black uppercase tracking-widest border-b border-[#dfff00]/30 pb-1",children:" BACK TO HOME"})]})]})};var yy=n0();const wy=a0(yy);function _y(i){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i))}const Sy=i=>{switch(i){case"success":return Ey;case"info":return ky;case"warning":return Ty;case"error":return Ay;default:return null}},jy=Array(12).fill(0),Ny=({visible:i,className:n})=>Q.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":i},Q.createElement("div",{className:"sonner-spinner"},jy.map((r,l)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${l}`})))),Ey=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ty=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ky=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ay=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Oy=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ry=()=>{const[i,n]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),i};let pu=1;class Cy{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const r=this.subscribers.indexOf(n);this.subscribers.splice(r,1)}),this.publish=n=>{this.subscribers.forEach(r=>r(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var r;const{message:l,...d}=n,h=typeof n?.id=="number"||((r=n.id)==null?void 0:r.length)>0?n.id:pu++,f=this.toasts.find(p=>p.id===h),g=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),f?this.toasts=this.toasts.map(p=>p.id===h?(this.publish({...p,...n,id:h,title:l}),{...p,...n,id:h,dismissible:g,title:l}):p):this.addToast({title:l,...d,dismissible:g,id:h}),h},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:n,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(l=>l({id:r.id,dismiss:!0}))}),n),this.message=(n,r)=>this.create({...r,message:n}),this.error=(n,r)=>this.create({...r,message:n,type:"error"}),this.success=(n,r)=>this.create({...r,type:"success",message:n}),this.info=(n,r)=>this.create({...r,type:"info",message:n}),this.warning=(n,r)=>this.create({...r,type:"warning",message:n}),this.loading=(n,r)=>this.create({...r,type:"loading",message:n}),this.promise=(n,r)=>{if(!r)return;let l;r.loading!==void 0&&(l=this.create({...r,promise:n,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const d=Promise.resolve(n instanceof Function?n():n);let h=l!==void 0,f;const g=d.then(async b=>{if(f=["resolve",b],Q.isValidElement(b))h=!1,this.create({id:l,type:"default",message:b});else if(Dy(b)&&!b.ok){h=!1;const v=typeof r.error=="function"?await r.error(`HTTP error! status: ${b.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${b.status}`):r.description,j=typeof v=="object"&&!Q.isValidElement(v)?v:{message:v};this.create({id:l,type:"error",description:y,...j})}else if(b instanceof Error){h=!1;const v=typeof r.error=="function"?await r.error(b):r.error,y=typeof r.description=="function"?await r.description(b):r.description,j=typeof v=="object"&&!Q.isValidElement(v)?v:{message:v};this.create({id:l,type:"error",description:y,...j})}else if(r.success!==void 0){h=!1;const v=typeof r.success=="function"?await r.success(b):r.success,y=typeof r.description=="function"?await r.description(b):r.description,j=typeof v=="object"&&!Q.isValidElement(v)?v:{message:v};this.create({id:l,type:"success",description:y,...j})}}).catch(async b=>{if(f=["reject",b],r.error!==void 0){h=!1;const w=typeof r.error=="function"?await r.error(b):r.error,v=typeof r.description=="function"?await r.description(b):r.description,S=typeof w=="object"&&!Q.isValidElement(w)?w:{message:w};this.create({id:l,type:"error",description:v,...S})}}).finally(()=>{h&&(this.dismiss(l),l=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((b,w)=>g.then(()=>f[0]==="reject"?w(f[1]):b(f[1])).catch(w));return typeof l!="string"&&typeof l!="number"?{unwrap:p}:Object.assign(l,{unwrap:p})},this.custom=(n,r)=>{const l=r?.id||pu++;return this.create({jsx:n(l),id:l,...r}),l},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dt=new Cy,Uy=(i,n)=>{const r=n?.id||pu++;return Dt.addToast({title:i,...n,id:r}),r},Dy=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",zy=Uy,My=()=>Dt.toasts,By=()=>Dt.getActiveToasts(),Fm=Object.assign(zy,{success:Dt.success,info:Dt.info,warning:Dt.warning,error:Dt.error,custom:Dt.custom,message:Dt.message,promise:Dt.promise,dismiss:Dt.dismiss,loading:Dt.loading},{getHistory:My,getToasts:By});_y("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wl(i){return i.label!==void 0}const Ly=3,qy="24px",Hy="16px",e0=4e3,$y=356,Iy=14,Vy=45,Gy=200;function xa(...i){return i.filter(Boolean).join(" ")}function Yy(i){const[n,r]=i.split("-"),l=[];return n&&l.push(n),r&&l.push(r),l}const Ky=i=>{var n,r,l,d,h,f,g,p,b;const{invert:w,toast:v,unstyled:y,interacting:S,setHeights:j,visibleToasts:O,heights:U,index:M,toasts:I,expanded:D,removeToast:Z,defaultRichColors:fe,closeButton:J,style:X,cancelButtonStyle:ue,actionButtonStyle:Y,className:Ce="",descriptionClassName:P="",duration:xe,position:qe,gap:Ne,expandByDefault:Ge,classNames:R,icons:G,closeButtonAriaLabel:ae="Close toast"}=i,[pe,ge]=Q.useState(null),[N,q]=Q.useState(null),[$,K]=Q.useState(!1),[F,le]=Q.useState(!1),[ye,ve]=Q.useState(!1),[Ue,da]=Q.useState(!1),[ya,ha]=Q.useState(!1),[ei,aa]=Q.useState(0),[Js,Xn]=Q.useState(0),xn=Q.useRef(v.duration||xe||e0),Xs=Q.useRef(null),zt=Q.useRef(null),Qs=M===0,Zs=M+1<=O,yt=v.type,Va=v.dismissible!==!1,wt=v.className||"",Al=v.descriptionClassName||"",yn=Q.useMemo(()=>U.findIndex(de=>de.toastId===v.id)||0,[U,v.id]),ti=Q.useMemo(()=>{var de;return(de=v.closeButton)!=null?de:J},[v.closeButton,J]),wn=Q.useMemo(()=>v.duration||xe||e0,[v.duration,xe]),Ps=Q.useRef(0),wa=Q.useRef(0),ai=Q.useRef(0),Ga=Q.useRef(null),[_n,_t]=qe.split("-"),na=Q.useMemo(()=>U.reduce((de,Ie,rt)=>rt>=yn?de:de+Ie.height,0),[U,yn]),gt=Ry(),Ol=v.invert||w,Ws=yt==="loading";wa.current=Q.useMemo(()=>yn*Ne+na,[yn,na]),Q.useEffect(()=>{xn.current=wn},[wn]),Q.useEffect(()=>{K(!0)},[]),Q.useEffect(()=>{const de=zt.current;if(de){const Ie=de.getBoundingClientRect().height;return Xn(Ie),j(rt=>[{toastId:v.id,height:Ie,position:v.position},...rt]),()=>j(rt=>rt.filter(bt=>bt.toastId!==v.id))}},[j,v.id]),Q.useLayoutEffect(()=>{if(!$)return;const de=zt.current,Ie=de.style.height;de.style.height="auto";const rt=de.getBoundingClientRect().height;de.style.height=Ie,Xn(rt),j(bt=>bt.find(Ye=>Ye.toastId===v.id)?bt.map(Ye=>Ye.toastId===v.id?{...Ye,height:rt}:Ye):[{toastId:v.id,height:rt,position:v.position},...bt])},[$,v.title,v.description,j,v.id,v.jsx,v.action,v.cancel]);const fa=Q.useCallback(()=>{le(!0),aa(wa.current),j(de=>de.filter(Ie=>Ie.toastId!==v.id)),setTimeout(()=>{Z(v)},Gy)},[v,Z,j,wa]);Q.useEffect(()=>{if(v.promise&&yt==="loading"||v.duration===1/0||v.type==="loading")return;let de;return D||S||gt?(()=>{if(ai.current<Ps.current){const bt=new Date().getTime()-Ps.current;xn.current=xn.current-bt}ai.current=new Date().getTime()})():xn.current!==1/0&&(Ps.current=new Date().getTime(),de=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),fa()},xn.current)),()=>clearTimeout(de)},[D,S,v,yt,gt,fa]),Q.useEffect(()=>{v.delete&&(fa(),v.onDismiss==null||v.onDismiss.call(v,v))},[fa,v.delete]);function Qn(){var de;if(G?.loading){var Ie;return Q.createElement("div",{className:xa(R?.loader,v==null||(Ie=v.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":yt==="loading"},G.loading)}return Q.createElement(Ny,{className:xa(R?.loader,v==null||(de=v.classNames)==null?void 0:de.loader),visible:yt==="loading"})}const Zn=v.icon||G?.[yt]||Sy(yt);var Sn,ma;return Q.createElement("li",{tabIndex:0,ref:zt,className:xa(Ce,wt,R?.toast,v==null||(n=v.classNames)==null?void 0:n.toast,R?.default,R?.[yt],v==null||(r=v.classNames)==null?void 0:r[yt]),"data-sonner-toast":"","data-rich-colors":(Sn=v.richColors)!=null?Sn:fe,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":$,"data-promise":!!v.promise,"data-swiped":ya,"data-removed":F,"data-visible":Zs,"data-y-position":_n,"data-x-position":_t,"data-index":M,"data-front":Qs,"data-swiping":ye,"data-dismissible":Va,"data-type":yt,"data-invert":Ol,"data-swipe-out":Ue,"data-swipe-direction":N,"data-expanded":!!(D||Ge&&$),"data-testid":v.testId,style:{"--index":M,"--toasts-before":M,"--z-index":I.length-M,"--offset":`${F?ei:wa.current}px`,"--initial-height":Ge?"auto":`${Js}px`,...X,...v.style},onDragEnd:()=>{ve(!1),ge(null),Ga.current=null},onPointerDown:de=>{de.button!==2&&(Ws||!Va||(Xs.current=new Date,aa(wa.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ve(!0),Ga.current={x:de.clientX,y:de.clientY})))},onPointerUp:()=>{var de,Ie,rt;if(Ue||!Va)return;Ga.current=null;const bt=Number(((de=zt.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ya=Number(((Ie=zt.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((rt=Xs.current)==null?void 0:rt.getTime()),jt=pe==="x"?bt:Ya,jn=Math.abs(jt)/Ye;if(Math.abs(jt)>=Vy||jn>.11){aa(wa.current),v.onDismiss==null||v.onDismiss.call(v,v),q(pe==="x"?bt>0?"right":"left":Ya>0?"down":"up"),fa(),da(!0);return}else{var Nt,Et;(Nt=zt.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(Et=zt.current)==null||Et.style.setProperty("--swipe-amount-y","0px")}ha(!1),ve(!1),ge(null)},onPointerMove:de=>{var Ie,rt,bt;if(!Ga.current||!Va||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;const Ye=de.clientY-Ga.current.y,jt=de.clientX-Ga.current.x;var jn;const Nt=(jn=i.swipeDirections)!=null?jn:Yy(qe);!pe&&(Math.abs(jt)>1||Math.abs(Ye)>1)&&ge(Math.abs(jt)>Math.abs(Ye)?"x":"y");let Et={x:0,y:0};const Pn=sa=>1/(1.5+Math.abs(sa)/20);if(pe==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&Ye<0||Nt.includes("bottom")&&Ye>0)Et.y=Ye;else{const sa=Ye*Pn(Ye);Et.y=Math.abs(sa)<Math.abs(Ye)?sa:Ye}}else if(pe==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&jt<0||Nt.includes("right")&&jt>0)Et.x=jt;else{const sa=jt*Pn(jt);Et.x=Math.abs(sa)<Math.abs(jt)?sa:jt}(Math.abs(Et.x)>0||Math.abs(Et.y)>0)&&ha(!0),(rt=zt.current)==null||rt.style.setProperty("--swipe-amount-x",`${Et.x}px`),(bt=zt.current)==null||bt.style.setProperty("--swipe-amount-y",`${Et.y}px`)}},ti&&!v.jsx&&yt!=="loading"?Q.createElement("button",{"aria-label":ae,"data-disabled":Ws,"data-close-button":!0,onClick:Ws||!Va?()=>{}:()=>{fa(),v.onDismiss==null||v.onDismiss.call(v,v)},className:xa(R?.closeButton,v==null||(l=v.classNames)==null?void 0:l.closeButton)},(ma=G?.close)!=null?ma:Oy):null,(yt||v.icon||v.promise)&&v.icon!==null&&(G?.[yt]!==null||v.icon)?Q.createElement("div",{"data-icon":"",className:xa(R?.icon,v==null||(d=v.classNames)==null?void 0:d.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Qn():null,v.type!=="loading"?Zn:null):null,Q.createElement("div",{"data-content":"",className:xa(R?.content,v==null||(h=v.classNames)==null?void 0:h.content)},Q.createElement("div",{"data-title":"",className:xa(R?.title,v==null||(f=v.classNames)==null?void 0:f.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Q.createElement("div",{"data-description":"",className:xa(P,Al,R?.description,v==null||(g=v.classNames)==null?void 0:g.description)},typeof v.description=="function"?v.description():v.description):null),Q.isValidElement(v.cancel)?v.cancel:v.cancel&&wl(v.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||ue,onClick:de=>{wl(v.cancel)&&Va&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,de),fa())},className:xa(R?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,Q.isValidElement(v.action)?v.action:v.action&&wl(v.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||Y,onClick:de=>{wl(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,de),!de.defaultPrevented&&fa())},className:xa(R?.actionButton,v==null||(b=v.classNames)==null?void 0:b.actionButton)},v.action.label):null)};function t0(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function Jy(i,n){const r={};return[i,n].forEach((l,d)=>{const h=d===1,f=h?"--mobile-offset":"--offset",g=h?Hy:qy;function p(b){["top","right","bottom","left"].forEach(w=>{r[`${f}-${w}`]=typeof b=="number"?`${b}px`:b})}typeof l=="number"||typeof l=="string"?p(l):typeof l=="object"?["top","right","bottom","left"].forEach(b=>{l[b]===void 0?r[`${f}-${b}`]=g:r[`${f}-${b}`]=typeof l[b]=="number"?`${l[b]}px`:l[b]}):p(g)}),r}const Xy=Q.forwardRef(function(n,r){const{id:l,invert:d,position:h="bottom-right",hotkey:f=["altKey","KeyT"],expand:g,closeButton:p,className:b,offset:w,mobileOffset:v,theme:y="light",richColors:S,duration:j,style:O,visibleToasts:U=Ly,toastOptions:M,dir:I=t0(),gap:D=Iy,icons:Z,containerAriaLabel:fe="Notifications"}=n,[J,X]=Q.useState([]),ue=Q.useMemo(()=>l?J.filter($=>$.toasterId===l):J.filter($=>!$.toasterId),[J,l]),Y=Q.useMemo(()=>Array.from(new Set([h].concat(ue.filter($=>$.position).map($=>$.position)))),[ue,h]),[Ce,P]=Q.useState([]),[xe,qe]=Q.useState(!1),[Ne,Ge]=Q.useState(!1),[R,G]=Q.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=Q.useRef(null),pe=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),ge=Q.useRef(null),N=Q.useRef(!1),q=Q.useCallback($=>{X(K=>{var F;return(F=K.find(le=>le.id===$.id))!=null&&F.delete||Dt.dismiss($.id),K.filter(({id:le})=>le!==$.id)})},[]);return Q.useEffect(()=>Dt.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{X(K=>K.map(F=>F.id===$.id?{...F,delete:!0}:F))});return}setTimeout(()=>{wy.flushSync(()=>{X(K=>{const F=K.findIndex(le=>le.id===$.id);return F!==-1?[...K.slice(0,F),{...K[F],...$},...K.slice(F+1)]:[$,...K]})})})}),[J]),Q.useEffect(()=>{if(y!=="system"){G(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:K})=>{G(K?"dark":"light")})}catch{$.addListener(({matches:F})=>{try{G(F?"dark":"light")}catch(le){console.error(le)}})}},[y]),Q.useEffect(()=>{J.length<=1&&qe(!1)},[J]),Q.useEffect(()=>{const $=K=>{var F;if(f.every(ve=>K[ve]||K.code===ve)){var ye;qe(!0),(ye=ae.current)==null||ye.focus()}K.code==="Escape"&&(document.activeElement===ae.current||(F=ae.current)!=null&&F.contains(document.activeElement))&&qe(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[f]),Q.useEffect(()=>{if(ae.current)return()=>{ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null,N.current=!1)}},[ae.current]),Q.createElement("section",{ref:r,"aria-label":`${fe} ${pe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map(($,K)=>{var F;const[le,ye]=$.split("-");return ue.length?Q.createElement("ol",{key:$,dir:I==="auto"?t0():I,tabIndex:-1,ref:ae,className:b,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":le,"data-x-position":ye,style:{"--front-toast-height":`${((F=Ce[0])==null?void 0:F.height)||0}px`,"--width":`${$y}px`,"--gap":`${D}px`,...O,...Jy(w,v)},onBlur:ve=>{N.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(N.current=!1,ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||N.current||(N.current=!0,ge.current=ve.relatedTarget)},onMouseEnter:()=>qe(!0),onMouseMove:()=>qe(!0),onMouseLeave:()=>{Ne||qe(!1)},onDragEnd:()=>qe(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Ge(!0)},onPointerUp:()=>Ge(!1)},ue.filter(ve=>!ve.position&&K===0||ve.position===$).map((ve,Ue)=>{var da,ya;return Q.createElement(Ky,{key:ve.id,icons:Z,index:Ue,toast:ve,defaultRichColors:S,duration:(da=M?.duration)!=null?da:j,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:d,visibleToasts:U,closeButton:(ya=M?.closeButton)!=null?ya:p,interacting:Ne,position:$,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:q,toasts:ue.filter(ha=>ha.position==ve.position),heights:Ce.filter(ha=>ha.position==ve.position),setHeights:P,expandByDefault:g,gap:D,expanded:xe,swipeDirections:n.swipeDirections})})):null}))});function Qy(){const[i,n]=V.useState(null),[r,l]=V.useState(!0),[d,h]=V.useState("MATCHDAY"),f=()=>{re.logout(),n(null),l(!1)};V.useEffect(()=>{(async()=>{const y=await re.getCurrentUser();y&&n(y)})()},[]);const g=()=>{l(!r)},p=()=>{l(!1),h("USERS")};V.useEffect(()=>{if(!i)return;const v=W.channel("global-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"duels",filter:`opponent_id=eq.${i.id}`},y=>{console.log("New duel received!",y),Fm(" Nuova Sfida!",{description:"Qualcuno ti ha sfidato a duello.",action:{label:"Vedi",onClick:()=>window.location.reload()}})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"matchdays"},y=>{y.new&&y.new.results&&JSON.stringify(y.new.results)!==JSON.stringify(y.old.results)&&Fm(" Risultati Aggiornati!",{description:"Controlla la classifica per vedere i punteggi."})}).subscribe();return()=>{W.removeChannel(v)}},[i]);const b=async()=>{const v=await re.getCurrentUser();v&&n({...v})},w=i?.role==="ADMIN"&&!r;return c.jsxs(Kg,{user:i,onLogout:f,onToggleView:g,isUserMode:r,onAdminUsers:p,children:[c.jsx(Xy,{position:"top-center",theme:"dark"}),i?w?c.jsx(xy,{onToggleView:g,initialTab:d}):c.jsx(gy,{user:i,onBalanceUpdate:b,onLogout:f}):c.jsx(Ax,{onLogin:n})]})}Yg.createRoot(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(Qy,{})}));
